<p-toast key="compacct-toast" baseZIndex="99999"></p-toast>
<p-toast position="center" key="c" (onClose)="onReject()" [modal]="true" [autoZIndex]="true">
    <ng-template let-message pTemplate="message">
        <div style="text-align: center">
            <i class="pi pi-exclamation-triangle" style="font-size: 3em"></i>
            <h3>{{message.summary}}</h3>
            <p>{{message.detail}}</p>
        </div>
        <div class="ui-g ui-fluid">
            <div class="ui-g-6">
                <button type="button" pButton (click)="onConfirm()" label="Yes" class="ui-button-success"></button>
            </div>
            <div class="ui-g-6">
                <button type="button" pButton (click)="onReject()" label="No" class="ui-button-secondary"></button>
            </div>
        </div>
    </ng-template>
</p-toast>
<p-toast position="center" key="boqExcel" class="boqExcel-toast" (onClose)="onboqExcel()" [modal]="true" [autoZIndex]="true">
  <ng-template let-message pTemplate="message">
      <div style="text-align: center">
          <i class="pi pi-exclamation-triangle" style="font-size: 3em"></i>
          <h3>{{message.summary}}</h3>
          <div style='background: white;padding: 6px 12px;text-align: left;' innerHtml="{{message.detail}}"></div>
          <button type="button" style='margin-top:1em' pButton (click)="onboqExcel()" label="OK" class="ui-button-success"></button>
      </div>
      <div class="ui-g ui-fluid">
          <div class="ui-g-6">
          </div>
          <!-- <div class="ui-g-6">
              <button type="button" pButton (click)="()" label="No" class="ui-button-secondary"></button>
          </div> -->
      </div>
  </ng-template>
</p-toast>

        <div class="row">
            <div class="col-xs-12">
                <div class="box box-primary">
                    <div class="form-horizontal">
                        <div class="box-body">
                                <p-tabView [activeIndex]="tabIndexToView" (onChange)="TabClick($event)">
                                        <p-tabPanel headerStyleClass="compacct-tabs" [header]="items[0]" leftIcon="glyphicon glyphicon-list-alt" >
                                          <form name="TenderSerachForm" #TenderSerachForm="ngForm" novalidate>
                                            <div class="form-group">
                                              <div class="col-sm-4">
                                                <label class="control-label">Search by<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Date_Type"
                                                        #Date_Type="ngModel"
                                                        [(ngModel)]="ObjSearch.Search_Type"
                                                        (chnage)='changeSearchType()'
                                                        [ngClass]="{'clearance': TenderSearchForm && Date_Type.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="Tender Publishing Date">Tender Publishing Date</option>
                                                    <option Value="Bid Submission Date">Bid Submission Date</option>
                                                    <option Value="Tender Authority">Tender Authority</option>
                                                    <option Value="Tender Calling Div">Tender Calling Div</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-4" *ngIf='(ObjSearch.Search_Type === "Tender Publishing Date" || ObjSearch.Search_Type === "Bid Submission Date")'>
                                                <label class="control-label">Period</label>

                                                <app-compacct-daterangepicker
                                                  (DaterangeObj)="getDateRange($event)"
                                                ></app-compacct-daterangepicker>
                                              </div>
                                              <!-- <div class="col-sm-4">
                                                <label class="control-label">Tender Closing Date</label>
                                                <div class="input-group date">
                                                  <div class="input-group-addon">
                                                    <i class="fa fa-calendar"></i>
                                                  </div>
                                                  <input
                                                    type="date"
                                                    name="TenderOpendate"
                                                    #TenderOpendate="ngModel"
                                                    [ngModel]="TenderSearchDate | date: 'yyyy-MM-dd'"
                                                    (ngModelChange)="GetTenderSearchDate($event)"
                                                    class="form-control"
                                                    [ngClass]="{'clearance': TenderFormSubmitted && TenderOpendate.errors?.required}"   />
                                                </div>
                                              </div> -->
                                              <div class="col-sm-4" *ngIf='(ObjSearch.Search_Type === "Tender Authority")'>
                                                      <label class="control-label">Tender Authority<sup class="text-danger"></sup></label>
                                                      <select class="form-control"
                                                                    name="Organization"
                                                                    #Organization="ngModel"
                                                                    [(ngModel)]="ObjSearch.Search_Text"
                                                                    [ngClass]="{'clearance': TenderSearchForm && Organization.errors?.required}" required>
                                                                    <option  [ngValue]="undefined">Select</option>
                                                                <option *ngFor="let option of tenderOrgList" [ngValue]="option.Tender_Org_ID">
                                                                    {{option.Tender_Organization}}
                                                                    </option>
                                                            </select>
                                                     <!-- <select class="form-control"
                                                              name="Organization"
                                                              #Organization="ngModel"
                                                              [(ngModel)]="ObjSearch.Tender_Org_ID" >
                                                              <option  [ngValue]="undefined">Select</option>
                                                          <option *ngFor="let option of tenderOrgList" [ngValue]="option.Tender_Org_ID">
                                                              {{option.Tender_Organization}}
                                                              </option>
                                                      </select> -->
                                              </div>
                                              <div class="col-sm-4"  *ngIf='(ObjSearch.Search_Type === "Tender Calling Div")'>
                                                <label class="control-label">Tender Calling Div<sup class="text-danger"></sup></label>
                                                <select class="form-control"
                                                name="Organization"
                                                #Organization="ngModel"
                                                [(ngModel)]="ObjSearch.Search_Text"
                                                [ngClass]="{'clearance': TenderSearchForm && Organization.errors?.required}" required>
                                                <option  [ngValue]="undefined">Select</option>
                                            <option *ngFor="let option of TenderCallingDivList" [ngValue]="option.Tender_Calling_Div_ID">
                                                {{option.Tender_Calling_Div_Name}}
                                                </option>
                                        </select>
                                               <!-- <select class="form-control"
                                                        name="Organization"
                                                        #Organization="ngModel"
                                                        [(ngModel)]="ObjSearch.Tender_Org_ID" >
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option *ngFor="let option of tenderOrgList" [ngValue]="option.Tender_Org_ID">
                                                        {{option.Tender_Organization}}
                                                        </option>
                                                </select> -->
                                              </div>
                                              <div class="col-sm-3">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="SearchTender(TenderSerachForm.form.valid)"
                                                        id="load"
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-search"></span>&nbsp;Search
                                                </button>
                                              </div>
                                            </div>
                                            <div *ngIf="BackupTenderList.length" class="form-group" style="padding:15px">

                                              <fieldset class="col-md-12">
                                                  <legend>Filter</legend>
                  
                                                  <div class="form-group">
                                                      <div class="col-sm-3">
                                                          <label class="control-label">Tender Authority <span class="text-danger"></span></label>
                                                          <p-multiSelect [options]="DTAutorityList" (onChange)='FilterDist()' [(ngModel)]="SelectedDTAutority" [styleClass]="'compacct-multiselect'" name="Authority"></p-multiSelect>
                                                      </div>
                                                      <div class="col-sm-3">
                                                          <label class="control-label">Tender Calling Div <span class="text-danger"></span></label>
                                                          <p-multiSelect [options]="DTCallingDivList" (onChange)='FilterDist()' [(ngModel)]="SelectedDTCallingDiv" [styleClass]="'compacct-multiselect'" name="Calling"></p-multiSelect>
                                                      </div>
                                                      <div class="col-sm-3">
                                                          <label class="control-label">Tender Category <span class="text-danger"></span></label>
                                                          <p-multiSelect [options]="DTCategoryList" (onChange)='FilterDist()' [(ngModel)]="SelectedDTCategory" [styleClass]="'compacct-multiselect'" name="Category"></p-multiSelect>
                                                      </div>
                                                      <div class="col-sm-3">
                                                          <label class="control-label">State <span class="text-danger"></span></label>
                                                          <p-multiSelect [options]="DTStateList" (onChange)='FilterDist()' [(ngModel)]="SelectedDTState" [styleClass]="'compacct-multiselect'" name="State"></p-multiSelect>
                                                      </div>
                  
                                                      <div class="col-sm-6">
                                                          <label class="control-label">Location <span class="text-danger"></span></label>
                                                          <p-multiSelect [options]="DTLocationList" (onChange)='FilterDist()' [(ngModel)]="SelectedDTLocation" [styleClass]="'compacct-multiselect'" name="Location"></p-multiSelect>
                                                      </div>
                                                      
                                                  </div>
                  
                                              </fieldset>
                                          </div>
                                          </form>
                                          <br>
                                          <div class="table-responsive no-padding productTable">
                                          <p-table #dt [value]="TenderList"
                                                   [globalFilterFields]="['Tender_Name','Tender_Amount','Tender_Closing_Date','Lead_Status']"
                                                   [paginator]="TenderList.length ? true:false" [rows]="10" [rowHover]="true"
                                                   [autoLayout]="true" sortMode="multiple"
                                                   [rowsPerPageOptions]="[10,20,30]"
                                                   [rowHover]="true">
                                                     <ng-template pTemplate="caption">
                                                         <div class="row">
                                                              <div class="col-sm-3 pull-right" style="text-align: right;">
                                                                      <input type="text" pInputText size="50" placeholder="Search" (input)="dt.filterGlobal($event.target.value, 'contains')" class="searchInput form-control">
                                                                  </div>
                                                         </div>

                                                      </ng-template>
                                                      <ng-template pTemplate="header">
                                                          <tr>
                                                              <th style="width:5em">Action</th>
                                                              <th>Tender Organization</th>
                                                              <th>Work Title</th>
                                                              <th>Tender Value</th>
                                                              <th>Bid Submission Date & Time</th>
                                                              <th>Status</th>
                                                          </tr>
                                                      </ng-template>
                                                      <ng-template pTemplate="body" let-col>
                                                          <tr>

                                                              <td>
                                                                      <div class="dropdown">
                                                                          <button class="btn btn-default btn-sm tableButton dropdown-toggle"
                                                                              type="button" data-toggle="dropdown" style="height:27px">
                                                                              <i class="fa fa-fw fa-bars"></i>
                                                                              <span class="caret"></span>
                                                                          </button>
                                                                          <ul class="dropdown-menu">
                                                                             <li>
                                                                                  <a (click)="UpdateEMD(col)">
                                                                                      <i class="fa fa-fw fa-ticket"></i>
                                                                                      Update EMD
                                                                                  </a>
                                                                              </li>
                                                                              <li>
                                                                                  <a (click)="UpdateTenderFee(col)">
                                                                                      <i class="fa fa-fw fa-cubes"></i>
                                                                                       Update Tender Fee
                                                                                  </a>
                                                                              </li>
                                                                              <li>
                                                                                <a (click)="UpdatePerformanceSecurity(col)">
                                                                                    <i class="fa fa-fw fa-fax"></i>
                                                                                     Update Performance Security
                                                                                </a>
                                                                            </li>
                                                                              <li>
                                                                                <a (click)="UpdateSubmissionDate(col)">
                                                                                    <i class="fa fa-fw fa-calendar"></i>
                                                                                      Update Bid Submission Date
                                                                                </a>
                                                                              </li>
                                                                              <li>
                                                                                <a (click)="ViewBidOpening(col)">
                                                                                    <i class="fa fa-fw fa-industry"></i>
                                                                                      Bid Opening
                                                                                </a>
                                                                              </li>
                                                                                <li>
                                                                                  <a (click)="View(col)">
                                                                                      <i class="fa fa-fw fa-clone"></i>
                                                                                        View Tender
                                                                                  </a>
                                                                              </li>
                                                                              <li>
                                                                                  <a (click)="EditTender(col)">
                                                                                      <i class="fa fa-fw fa-pencil"></i>
                                                                                        Edit Tender
                                                                                  </a>
                                                                              </li>

                                                                             <li>
                                                                                  <a (click)="DeleteTender(col)">
                                                                                      <i class="fa fa-fw fa-trash"></i>
                                                                                      Delete Tender
                                                                                  </a>
                                                                              </li>
                                                                              <li>
                                                                                <a (click)="OpenEstimate(col)">
                                                                                    <i class="fa fa-fw fa-database"></i>
                                                                                    Estimate Management
                                                                                </a>
                                                                            </li>
                                                                          </ul>
                                                                      </div>
                                                              </td>
                                                              <td>{{GetOrgName(col.Tender_Org_ID)}}</td>
                                                              <td>{{col.Tender_Name ? col.Tender_Name : '-'}}</td>
                                                              <td>{{col.Tender_Amount ? TenderAmountView(col.Tender_Amount) : '-' }}</td>
                                                              <!-- <td>{{checkSubmission(col.Tender_Submission_Date)}}</td> -->
                                                              <td>{{ col.Tender_Submission_Date ? (col.Tender_Submission_Date | date: 'dd-MMM-yy hh:mm:a') : '-'}}</td>
                                                              <td>{{col.Lead_Status}}</td>
                                                          </tr>
                                                      </ng-template>
                                                      <ng-template  pTemplate="paginatorright" let-state>
                                                              Showing {{state.first+1}} of {{(state.first+1) + state.rows}} of  {{state.totalRecords}}
                                                      </ng-template>
                                              </p-table>
                                          </div>
                                        </p-tabPanel>
                                        <p-tabPanel headerStyleClass="compacct-tabs" [header]="items[1]" leftIcon="glyphicon glyphicon-floppy-save">
                                            <form name="TenderForm" #TenderForm="ngForm" novalidate>
                                                <div class="form-group" style="padding: 1em;">
                                                  <h5 style="
                                                  padding: 0.5em 1em;
                                                  background: #c1c1c185;
                                                  border-top: 5px solid #3c8dbc;
                                                  border-bottom: 1px solid #c6c6c6;
                                                  margin-top: 15px;
                                                  ">
                                                  <i class="fa fa-fw fa-fax">
                                                  </i> &nbsp;<strong>Tender Information :</strong>
                                              </h5>
                                                    <div class="col-sm-4">
                                                            <label class="control-label">Tender Authority<sup class="text-danger">*</sup></label>
                                                            <span (click)="ToggleOrganization()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                            <select class="form-control"
                                                                    name="Authority"
                                                                    #Authority="ngModel"
                                                                    [(ngModel)]="ObjTender.Tender_Org_ID"
                                                                    [ngClass]="{'clearance': TenderFormSubmitted && Authority.errors?.required}" required>
                                                                    <option  [ngValue]="undefined">Select</option>
                                                                <option *ngFor="let option of tenderOrgList" [ngValue]="option.Tender_Org_ID">
                                                                    {{option.Tender_Organization}}
                                                                    </option>
                                                            </select>
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Tender Calling Div<sup class="text-danger">*</sup></label>
                                                      <span (click)="Tender_Calling_Div_Name.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                    
                                                      <select class="form-control"
                                                              name="TenderCalling"
                                                              #TenderCalling="ngModel"
                                                              [(ngModel)]="ObjTender.Tender_Calling_Div_ID"
                                                              [ngClass]="{'clearance': TenderFormSubmitted && TenderCalling.errors?.required}" required>
                                                              <option  [ngValue]="undefined">Select</option>
                                                          <option *ngFor="let option of TenderCallingDivList" [ngValue]="option.Tender_Calling_Div_ID">
                                                              {{option.Tender_Calling_Div_Name}}
                                                              </option>
                                                      </select>
                                                     </div>
                                                   <div class="col-sm-4">
                                                <label class="control-label">Tender Execution Div<sup class="text-danger">*</sup></label>
                                                <span (click)="Tender_Execution_Div_Name.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <select class="form-control"
                                                        name="Tender_ExecutionCreate"
                                                        #Tender_ExecutionCreate="ngModel"
                                                        [(ngModel)]="ObjTender.Tender_Execution_Div_ID"
                                                        [ngClass]="{'clearance': TenderFormSubmitted && Tender_ExecutionCreate.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option *ngFor="let option of TenderExecutionDivList" [ngValue]="option.Tender_Execution_Div_ID">
                                                        {{option.Tender_Execution_Div_Name}}
                                                        </option>
                                                </select>
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Tender Reference Number<sup class="text-danger">*</sup></label>
                                                      <input class="form-control"
                                                              name="reffno"
                                                              #reffno="ngModel"
                                                              [(ngModel)]="ObjTender.Tender_Ref_No"
                                                              placeholder="Tender Reference Number"
                                                              [ngClass]="{'clearance': TenderFormSubmitted && reffno.errors?.required}" required>
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Tender ID<sup class="text-danger">*</sup></label>
                                                      <input class="form-control"
                                                              name="TenderIDCreate"
                                                              #TenderIDCreate="ngModel"
                                                              [(ngModel)]="ObjTender.Tender_ID"
                                                              placeholder="Tender ID"
                                                              (change)='CheckIfTenderIDExist()'
                                                              [ngClass]="{'clearance': TenderFormSubmitted && TenderIDCreate.errors?.required}" required>
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Tender Type<sup class="text-danger">*</sup></label>
                                                      <span (click)="Tender_Type_Name.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                               
                                                      <select class="form-control"
                                                              name="TenderTypeCreate"
                                                              #TenderTypeCreate="ngModel"
                                                              [(ngModel)]="ObjTender.Tender_Type_ID"
                                                              [ngClass]="{'clearance': TenderFormSubmitted && TenderTypeCreate.errors?.required}" required>
                                                              <option  [ngValue]="undefined">Select</option>
                                                          <option *ngFor="let option of TypeList" [ngValue]="option.Tender_Type_ID">
                                                              {{option.Tender_Type_Name}}
                                                              </option>
                                                      </select>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <label class="control-label">Tender Category<sup class="text-danger">*</sup></label>
                                                        <span (click)="Tender_Category_Name.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                        <select class="form-control"
                                                                name="CategoryTenderCreate"
                                                                #CategoryTenderCreate="ngModel"
                                                                [(ngModel)]="ObjTender.Tender_Category_ID"
                                                                [ngClass]="{'clearance': TenderFormSubmitted && CategoryTenderCreate.errors?.required}" required>
                                                                <option  [ngValue]="undefined">Select</option>
                                                            <option *ngFor="let option of tenderCategoryList" [ngValue]="option.Tender_Category_ID">
                                                                {{option.Tender_Category_Name}}
                                                                </option>
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Work Name<sup class="text-danger">*</sup></label>
                                                      <input class="form-control"
                                                              name="RemarksCreate"
                                                              #RemarksCreate="ngModel"
                                                              [(ngModel)]="ObjTender.Tender_Name"
                                                              (change)='CheckIfTenderNameExist()'
                                                              placeholder="Work Name"
                                                              [ngClass]="{'clearance': TenderFormSubmitted && RemarksCreate.errors?.required}" required>
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">State<sup class="text-danger">*</sup></label>
                                                       <select class="form-control"
                                                              name="Contact"
                                                              #Contact="ngModel"
                                                              [(ngModel)]="ObjTender.State"
                                                              [ngClass]="{'clearance': TenderFormSubmitted && Contact.errors?.required}" required>
                                                              <option  [ngValue]="undefined">Select</option>
                                                          <option *ngFor="let option of StateList" [ngValue]="option.State">
                                                              {{option.State}}
                                                              </option>
                                                      </select>
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Work Location</label>
                                                      <input
                                                        class="form-control"
                                                        #location
                                                        Compacct-Place
                                                        (setAddress)="getAddressOnChange($event)"
                                                        name="Location"
                                                        placeholder="Area"
                                                      />
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label"
                                                        >Pincode<sup class="text-danger"></sup
                                                      ></label>
                                                      <input
                                                        class="form-control"
                                                        name="PIN"
                                                        [(ngModel)]="ObjTender.Pin_Code"
                                                        placeholder="Pincode"
                                                        maxlength="6"
                                                        minlength="6"
                                                      />
                                                      <!-- (change)="GetStateDistrict(ObjLead.Pin)" -->
                                                    </div>
                                                    <!-- <div class="col-sm-4">
                                                      <label class="control-label">Payment Mode<sup class="text-danger">*</sup></label>
                                                      <span (click)="TogglePayment()" class="btn-vk pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                      <select class="form-control"
                                                              name="Payment"
                                                              #Payment="ngModel"
                                                              [(ngModel)]="ObjTender.Tender_Payment_Mode_ID"
                                                              [ngClass]="{'clearance': TenderFormSubmitted && Payment.errors?.required}" required>
                                                              <option  [ngValue]="undefined">Select</option>
                                                          <option *ngFor="let option of PaymentList" [ngValue]="option.Tender_Payment_Mode_ID">
                                                              {{option.Tender_Payment_Mode}}
                                                              </option>
                                                      </select>
                                                    </div> -->
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Tender Value In ₹<sup class="text-danger">*</sup></label>
                                                      <input class="form-control"
                                                             name="AmountTenderCreate"
                                                             #AmountTenderCreate="ngModel"
                                                             CompacctDigitonly="true"
                                                             [(ngModel)]="TenderAmount"
                                                             (change)="TenderAmountChange(TenderAmount)"
                                                             (focus)="onFocusInEvent('TenderAmount',TenderAmount)"
                                                             (focusout)="onFocusOutEvent('TenderAmount',TenderAmount)"
                                                             placeholder="Tender Value In ₹"
                                                             autocomplete="off"
                                                             [ngClass]="{'clearance': TenderFormSubmitted && AmountTenderCreate.errors?.required}" required>
                                                    </div>


                                                </div>
                                                <div class="form-group" style="padding: 1em;">
                                                  <h5 style="
                                                  padding: 0.5em 1em;
                                                  background: #c1c1c185;
                                                  border-top: 5px solid #3c8dbc;
                                                  border-bottom: 1px solid #c6c6c6;
                                                  margin-top: 15px;
                                                  ">
                                                  <i class="fa fa-fw fa-fax">
                                                  </i> &nbsp;<strong>Tender Fee Details :</strong>
                                              </h5>

                                              <div class="col-sm-4">
                                                <label class="control-label">Payment Mode </label>
                                                <span (click)="Tender_Payment_Mode.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                    
                                                <select class="form-control"
                                                              name="TenderAmountPay"
                                                              #TenderAmountPay="ngModel"
                                                              [(ngModel)]="ObjTender.T_Fee_Payment_Mode"
                                                              (change)="PaymentChangeclr()"
                                                              >
                                                              <option  [ngValue]="undefined">Select</option>
                                                          <option *ngFor="let option of PaymentList" [ngValue]="option.Tender_Payment_Mode">
                                                              {{option.Tender_Payment_Mode}}
                                                              </option>
                                                      </select>
                                                <!-- <input class="form-control"
                                                    name="EMD"
                                                    #EMD="ngModel"
                                                    CompacctDigitonly="true"
                                                    [(ngModel)]="EMDAmount"
                                                    (change)="TenderEMDChange(EMDAmount)"
                                                    (focus)="onFocusInEvent('EMDAmount',EMDAmount)"
                                                    (focusout)="onFocusOutEvent('EMDAmount',EMDAmount)"
                                                    placeholder="Payment Mode"
                                                    autocomplete="off"
                                                    [ngClass]="{'clearance': TenderFormSubmitted && EMD.errors?.required}" required> -->
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Tender Acc Voucher No <sup *ngIf="ObjTender.T_Fee_Payment_Mode" class="text-danger">*</sup></label>
                                                <!-- <span (click)="ToggleOrganization()" style="margin-left: 6px;" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Choose</span> -->
                                                <span (click)="RedirectVoucherAcc()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Create</span>
                                                <input class="form-control"
                                                        name="TenderPayableAt"
                                                        #TenderPayableAt="ngModel"
                                                        [(ngModel)]="ObjTender.T_Fee_Transaction_Ref_No"
                                                        placeholder="Tender Acc Voucher No  "
                                                        [ngClass]="{'clearance': TenderFormSubmitted && TenderPayableAt.errors?.required}" [required] = "ObjTender.T_Fee_Payment_Mode">
                                              </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Tender Fee In ₹ <sup *ngIf="ObjTender.T_Fee_Payment_Mode" class="text-danger">*</sup></label>
                                                      <input class="form-control"
                                                      name="Fee"
                                                      #Fee="ngModel"
                                                      CompacctDigitonly="true"
                                                      [(ngModel)]="TFeeAmount"
                                                      (change)="TenderFeeChange(TFeeAmount)"
                                                      (focus)="onFocusInEvent('TFeeAmount',TFeeAmount)"
                                                      (focusout)="onFocusOutEvent('TFeeAmount',TFeeAmount)"
                                                      placeholder="Tender Fee  In ₹"
                                                      autocomplete="off"
                                                      [ngClass]="{'clearance': TenderFormSubmitted && Fee.errors?.required}" [required] = "ObjTender.T_Fee_Payment_Mode">
                                                    </div>

                                                    <div class="col-sm-4">
                                                      <label class="control-label">Fee Payable To <sup *ngIf="ObjTender.T_Fee_Payment_Mode" class="text-danger">*</sup></label>
                                                      <input class="form-control"
                                                              name="Payable"
                                                              #Payable="ngModel"
                                                              [(ngModel)]="ObjTender.T_Fee_Payable_To"
                                                              placeholder="Fee Payable To "
                                                              [ngClass]="{'clearance': TenderFormSubmitted && Payable.errors?.required}" [required] = "ObjTender.T_Fee_Payment_Mode">
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Fee Payable At <sup *ngIf="ObjTender.T_Fee_Payment_Mode" class="text-danger">*</sup></label>
                                                      <input class="form-control"
                                                              name="PayableAt"
                                                              #PayableAt="ngModel"
                                                              [(ngModel)]="ObjTender.T_Fee_Payable_At"
                                                              placeholder="Fee Payable At "
                                                              [ngClass]="{'clearance': TenderFormSubmitted && PayableAt.errors?.required}" [required] = "ObjTender.T_Fee_Payment_Mode">
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Tender Fees Exemption Allowed <sup *ngIf="ObjTender.T_Fee_Payment_Mode" class="text-danger">*</sup></label>
                                                      <!-- <input class="form-control"
                                                              name="Exemption"
                                                              #Exemption="ngModel"
                                                              [(ngModel)]="ObjTender.T_Fee_exm_Allowed"
                                                              placeholder="Tender Fee Exemption Allowed "
                                                              [ngClass]="{'clearance': TenderFormSubmitted && Exemption.errors?.required}" required> -->
                                                              <select class="form-control"
                                                              name="TenderExemption"
                                                              #TenderExemption="ngModel"
                                                              [(ngModel)]="ObjTender.T_Fee_exm_Allowed"
                                                              placeholder="Tender Fee Exemption Allowed "
                                                              [ngClass]="{'clearance': TenderFormSubmitted && TenderExemption.errors?.required}" [required] = "ObjTender.T_Fee_Payment_Mode">
                                                              <option  [ngValue]="undefined">Select</option>
                                                          <option ngValue="Y">Yes</option>
                                                          <option ngValue="N">No</option>
                                                      </select>
                                                    </div>
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Date of Issue <sup *ngIf="ObjTender.T_Fee_Payment_Mode" class="text-danger">*</sup></label>
                                                      <div class="input-group date">
                                                        <div class="input-group-addon">
                                                          <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input
                                                          type="date"
                                                          name="Tenderissuedate1"
                                                          #Tenderissuedate1="ngModel"
                                                          [ngModel]="TenderIssueDate | date: 'yyyy-MM-dd'"
                                                          (ngModelChange)="TenderIssueDate = $event"
                                                          class="form-control"
                                                          [ngClass]="{'clearance': TenderFormSubmitted && Tenderissuedate1.errors?.required}"
                                                          [required] = "ObjTender.T_Fee_Payment_Mode"  />
                                                      </div>
                                                    </div> 
                                                    <div class="col-sm-4">
                                                      <label class="control-label">Date of Expiry<sup *ngIf="ObjTender.T_Fee_Payment_Mode" class="text-danger">*</sup> </label>
                                                      <div class="input-group date">
                                                        <div class="input-group-addon">
                                                          <i class="fa fa-calendar"></i>
                                                        </div>
                                                        <input
                                                          type="date"
                                                          name="Tenderexpirydate1"
                                                          #Tenderexpirydate1="ngModel"
                                                          [ngModel]="TenderExpiryDate | date: 'yyyy-MM-dd'"
                                                          (ngModelChange)="TenderExpiryDate = $event"
                                                          class="form-control"
                                                          [ngClass]="{'clearance': TenderFormSubmitted && Tenderexpirydate1.errors?.required}"
                                                          [required] = "ObjTender.T_Fee_Payment_Mode" />
                                                      </div>
                                                    </div> 
                                                </div>
                                                <!-- <div class="form-group"> -->
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">Information Form<sup class="text-danger"></sup></label>
                                                    <select class="form-control"
                                                            name="Information"
                                                            #Information="ngModel"
                                                            [(ngModel)]="ObjTender.Enq_Source_ID"
                                                            [ngClass]="{'clearance': TenderFormSubmitted && Information.errors?.required}">
                                                            <option  [ngValue]="undefined">Select</option>
                                                        <option *ngFor="let option of informList" [ngValue]="option.Enq_Source_ID">
                                                            {{option.Enq_Source_Name}}
                                                            </option>
                                                    </select>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4" *ngIf="ObjTender.Enq_Source_ID === 246 || ObjTender.Enq_Source_ID === 236">
                                                    <label class="control-label" *ngIf="ObjTender.Enq_Source_ID === 246">Website<sup class="text-danger">*</sup></label>
                                                    <label class="control-label" *ngIf="ObjTender.Enq_Source_ID === 236">Name<sup class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                            name="Name"
                                                            #enqSRCDetail="ngModel"
                                                            [(ngModel)]="ObjTender.Enq_Source_Detail "
                                                            [placeholder]="ObjTender.Enq_Source_ID === 236 ? 'Name':'Website'"
                                                            [ngClass]="{'clearance': TenderFormSubmitted && enqSRCDetail.errors?.required}" required>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4" *ngIf=" ObjTender.Enq_Source_ID === 236">
                                                    <label class="control-label" >Mobile<sup class="text-danger">*</sup></label>
                                                      <div class="input-group">
                                                        <div class="input-group-addon">
                                                          <select
                                                            name="code"
                                                            #code="ngModel"
                                                            [(ngModel)]="ObjTender.dial_code"
                                                            [ngClass]="{'clearance': TenderFormSubmitted && code.errors?.required}">
                                                        <option *ngFor="let option of CountryCodeList" [title]="option.name" [ngValue]="option.dial_code">
                                                            {{option.dial_code}}
                                                            
                                                            </option>
                                                    </select>
                                                        </div>
                                                      <input class="form-control"
                                                              name="Mobile"
                                                              CompacctDigitonly="true"
                                                              #Mobile="ngModel"
                                                              [(ngModel)]="ObjTender.Enq_Source_Mobile"
                                                              placeholder="Mobile No."
                                                              [ngClass]="{'clearance': TenderFormSubmitted && Mobile.errors?.required}" required>
                                                    </div>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">Tender Published Date<sup class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input
                                                        type="date"
                                                        name="Publishdate"
                                                        #Publishdate="ngModel"
                                                        [ngModel]="TenderPublishDate | date: 'yyyy-MM-dd'"
                                                        (ngModelChange)="GetTenderPublishDate($event)"
                                                        class="form-control"
                                                        [ngClass]="{'clearance': TenderFormSubmitted && Publishdate.errors?.required}" required  />
                                                    </div>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">Bid Submission End Date & Time<sup class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input
                                                        type="datetime-local"
                                                        name="Tenderenddate"
                                                        #Tenderenddate="ngModel"
                                                        [ngModel]="TenderEndDate"
                                                        (ngModelChange)="GetTenderEndDate($event)"
                                                        class="form-control"
                                                        [ngClass]="{'clearance': TenderFormSubmitted && Tenderenddate.errors?.required}" required  />
                                                    </div>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">Bid Opening Date & Time<sup class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input
                                                        type="datetime-local"
                                                        name="Tenderopendate"
                                                        #Tenderopendate="ngModel"
                                                        [ngModel]="TenderOpenDate"
                                                        (ngModelChange)="GetTenderOpenDate($event)"
                                                        class="form-control"
                                                        [ngClass]="{'clearance': TenderFormSubmitted && Tenderopendate.errors?.required}" required  />
                                                    </div>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">Tender Published Date & Time<sup class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input class="form-control" [owlDateTimeTrigger]="pub"   name="pub_Date_Submission"
                                                      [(ngModel)]="TenderPublishDate" [owlDateTime]="pub">
                                                     <owl-date-time [hour12Timer]='true' #pub></owl-date-time>
                                                    </div>
                                                  </div>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Bid Submission End Date & Time<sup class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input class="form-control" [owlDateTimeTrigger]="end"   name="END_Date_Submission"
                                                      [(ngModel)]="TenderEndDate" [owlDateTime]="end">
                                                     <owl-date-time [hour12Timer]='true' #end></owl-date-time>
                                                    </div>
                                                  </div>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Bid Opening Date & Time<sup class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input class="form-control" [owlDateTimeTrigger]="open"   name="Date_Submission"
                                                      [(ngModel)]="TenderOpenDate" [owlDateTime]="open">
                                                     <owl-date-time [hour12Timer]='true' #open></owl-date-time>
                                                    </div>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">Bid Submission Date<sup class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input class="form-control" [owlDateTimeTrigger]="dt5"   name="Date_Submission"
                                                      [(ngModel)]="TenderOpenDate" [owlDateTime]="dt5">
                                                     <owl-date-time [hour12Timer]='true' #dt5></owl-date-time>
                                                  </div>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">Period Of Work (Days)<sup class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                            name="Work"
                                                            #Work="ngModel"
                                                            CompacctDigitonly="true"
                                                            [(ngModel)]="PeriodOfWork"
                                                            (change)="TenderPeriodOfWorkChange(PeriodOfWork)"
                                                            placeholder="Period Of Work (Days)"
                                                            [ngClass]="{'clearance': TenderFormSubmitted && Work.errors?.required}" required>
                                                  </div> -->
                                                <!-- </div> -->
                                                <div class="form-group" style="padding: 1em;">
                                                  <h5 style="
                                                  padding: 0.5em 1em;
                                                  background: #c1c1c185;
                                                  border-top: 5px solid #3c8dbc;
                                                  border-bottom: 1px solid #c6c6c6;
                                                  margin-top: 15px;
                                                  ">
                                                    <i class="fa fa-fw fa-fax">
                                                    </i> &nbsp;<strong>EMD Fee Details :</strong>
                                                  </h5>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Payment Mode<sup class="text-danger">*</sup></label>
                                                    <span (click)="Tender_Payment_Mode.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                    
                                                    <select class="form-control"
                                                    name="EMDPayCreate"
                                                    #EMDPayCreate="ngModel"
                                                    [(ngModel)]="ObjTender.EMD_Payment_Mode"
                                                    [ngClass]="{'clearance': TenderFormSubmitted && EMDPayCreate.errors?.required}" required>
                                                    <option  [ngValue]="undefined">Select</option>
                                                <option *ngFor="let option of PaymentList" [ngValue]="option.Tender_Payment_Mode">
                                                    {{option.Tender_Payment_Mode}}
                                                    </option>
                                            </select>
                                                    <!-- <input class="form-control"
                                                    name="EMD"
                                                    #EMD="ngModel"
                                                    CompacctDigitonly="true"
                                                    [(ngModel)]="EMDAmount"
                                                    (change)="TenderEMDChange(EMDAmount)"
                                                    (focus)="onFocusInEvent('EMDAmount',EMDAmount)"
                                                    (focusout)="onFocusOutEvent('EMDAmount',EMDAmount)"
                                                    placeholder="Payment Mode"
                                                    autocomplete="off"
                                                    [ngClass]="{'clearance': TenderFormSubmitted && EMD.errors?.required}" required> -->
                                                   </div>
                                                   <div class="col-sm-4">
                                                    <label class="control-label">EMD Acc Voucher No <sup class="text-danger">*</sup></label>
                                                      <!-- <span (click)="ToggleOrganization()" style="margin-left: 6px;" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Choose</span> -->
                                                <span (click)="RedirectVoucherAcc()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Create</span>
                                                    <input class="form-control"
                                                            name="EMDTransactionRefNoCreate"
                                                            #EMDTransactionRefNoCreate="ngModel"
                                                            [(ngModel)]="ObjTender.EMD_Transaction_Ref_No"
                                                            placeholder="EMD Acc Voucher No"
                                                            [ngClass]="{'clearance': TenderFormSubmitted && EMDTransactionRefNoCreate.errors?.required}" required>
                                                  </div>

                                                  <div class="col-sm-4">
                                                    <label class="control-label">EMD Amount <sup class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                    name="EMD"
                                                    #EMD="ngModel"
                                                    CompacctDigitonly="true"
                                                    [(ngModel)]="EMDAmount"
                                                    (change)="TenderEMDChange(EMDAmount)"
                                                    (focus)="onFocusInEvent('EMDAmount',EMDAmount)"
                                                    (focusout)="onFocusOutEvent('EMDAmount',EMDAmount)"
                                                    placeholder="Payment Mode"
                                                    autocomplete="off"
                                                    [ngClass]="{'clearance': TenderFormSubmitted && EMD.errors?.required}" required>
                                                    </div>
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">EMD Percentage <sup class="text-danger">*</sup></label>
                                                    <div class="input-group">
                                                      <input class="form-control"
                                                      name="Percentage"
                                                      #Percentage="ngModel"
                                                      [(ngModel)]="ObjTender.EMD_Persentage"
                                                      placeholder="EMD Percentage"
                                                      [ngClass]="{'clearance': TenderFormSubmitted && FeeType.errors?.required}" required>
                                                      <div class="input-group-addon"><b>%</b></div>

                                                    </div>
                                                  </div> -->
                                                   <!-- <div class="col-sm-4">
                                                    <label class="control-label">EMD Fees Payable To <sup class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                            name="EMDPayableCreate"
                                                            #EMDPayableCreate="ngModel"
                                                            [(ngModel)]="ObjTender.EMD_Payable_To"
                                                            placeholder="EMD Payable To"
                                                            [ngClass]="{'clearance': TenderFormSubmitted && EMDPayableCreate.errors?.required}" required>
                                                  </div> -->
                                                   <div class="col-sm-4">
                                                    <label class="control-label">EMD Fees Payable At <sup class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                            name="EMDPayableAtCreate"
                                                            #EMDPayableAtCreate="ngModel"
                                                            [(ngModel)]="ObjTender.EMD_Payable_At"
                                                            placeholder="EMD Payable At  "
                                                            [ngClass]="{'clearance': TenderFormSubmitted && EMDPayableAtCreate.errors?.required}" required>
                                                  </div>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">EMD Fees Exemption Allowed <sup class="text-danger">*</sup></label>
                                                      <!-- <input class="form-control"
                                                              name="Exemption"
                                                              #Exemption="ngModel"
                                                              [(ngModel)]="ObjTender.T_Fee_exm_Allowed"
                                                              placeholder="Tender Fee Exemption Allowed "
                                                              [ngClass]="{'clearance': TenderFormSubmitted && Exemption.errors?.required}" required> -->
                                                              <select class="form-control"
                                                              name="ExemptionCreate"
                                                              #ExemptionCreate="ngModel"
                                                              [(ngModel)]="ObjTender.EMD_Fees_Exemption_Allowed"
                                                              placeholder="Tender Fee Exemption Allowed "
                                                              [ngClass]="{'clearance': TenderFormSubmitted && ExemptionCreate.errors?.required}" required>
                                                              <option  [ngValue]="undefined">Select</option>
                                                          <option ngValue="Y">Yes</option>
                                                          <option ngValue="N">No</option>
                                                      </select>
                                                  </div>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Date of Issue <sup class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input
                                                        type="date"
                                                        name="EMDissuedate1"
                                                        #EMDissuedate1="ngModel"
                                                        [ngModel]="EMDIssueDate | date: 'yyyy-MM-dd'"
                                                        (ngModelChange)="EMDIssueDate = $event"
                                                        class="form-control"
                                                        [ngClass]="{'clearance': TenderFormSubmitted && EMDissuedate1.errors?.required}"
                                                        required  />
                                                    </div>
                                                  </div> 
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Date of Expiry <sup class="text-danger"></sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input
                                                        type="date"
                                                        name="EMDexpirydate1"
                                                        #EMDexpirydate1="ngModel"
                                                        [ngModel]="EMDExpiryDate | date: 'yyyy-MM-dd'"
                                                        (ngModelChange)="EMDExpiryDate = $event"
                                                        class="form-control"
                                                        [ngClass]="{'clearance': TenderFormSubmitted && EMDexpirydate1.errors?.required}"
                                                          />
                                                    </div>
                                                  </div> 
                                                </div>
                                                <div class="form-group" style="padding: 1em;">
                                                  <h5 style="
                                                  padding: 0.5em 1em;
                                                  background: #c1c1c185;
                                                  border-top: 5px solid #3c8dbc;
                                                  border-bottom: 1px solid #c6c6c6;
                                                  margin-top: 15px;
                                                  ">
                                                    <i class="fa fa-fw fa-fax">
                                                    </i> &nbsp;<strong>Performance Security Details :</strong>
                                                  </h5>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Payment Mode</label>
                                                    <span (click)="Tender_Payment_Mode.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                    
                                                    <select class="form-control"
                                                    name="PSDPay2Create"
                                                    #PSDPay2Create="ngModel"
                                                    [(ngModel)]="ObjTender.PSD_Payment_Mode"
                                                    (change)="PSDPaymentChangeclr()"
                                                    >
                                                    <option  [ngValue]="undefined">Select</option>
                                                <option *ngFor="let option of PaymentList" [ngValue]="option.Tender_Payment_Mode">
                                                    {{option.Tender_Payment_Mode}}
                                                    </option>
                                            </select>
                                                    <!-- <input class="form-control"
                                                    name="EMD"
                                                    #EMD="ngModel"
                                                    CompacctDigitonly="true"
                                                    [(ngModel)]="EMDAmount"
                                                    (change)="TenderEMDChange(EMDAmount)"
                                                    (focus)="onFocusInEvent('EMDAmount',EMDAmount)"
                                                    (focusout)="onFocusOutEvent('EMDAmount',EMDAmount)"
                                                    placeholder="Payment Mode"
                                                    autocomplete="off"
                                                    [ngClass]="{'clearance': TenderFormSubmitted && EMD.errors?.required}" required> -->
                                                   </div>
                                                   <div class="col-sm-4">
                                                    <label class="control-label">Performance Acc Voucher No<sup *ngIf="ObjTender.PSD_Payment_Mode" class="text-danger">*</sup></label>
                                                      <!-- <span (click)="ToggleOrganization()" style="margin-left: 6px;" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Choose</span> -->
                                                <span (click)="RedirectVoucherAcc()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Create</span>
                                                    <input class="form-control"
                                                            name="PSD_Acc_Voucher_NoCreate"
                                                            #PSD_Acc_Voucher_NoCreate="ngModel"
                                                            [(ngModel)]="ObjTender.PSD_Acc_Voucher_No"
                                                            placeholder="Performance Acc Voucher No"
                                                            [ngClass]="{'clearance': TenderFormSubmitted && PSD_Acc_Voucher_NoCreate.errors?.required}" [required] = "ObjTender.PSD_Payment_Mode">
                                                  </div>

                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">EMD Fee Type <sup class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                            name="FeeType"
                                                            #FeeType="ngModel"
                                                            [(ngModel)]="ObjTender.EMD_fee_Type"
                                                            placeholder="EMD Fee Type "
                                                            [ngClass]="{'clearance': TenderFormSubmitted && FeeType.errors?.required}" required>
                                                  </div> -->
                                                  <!-- <div class="col-sm-4">
                                                    <label class="control-label">EMD Percentage <sup class="text-danger">*</sup></label>
                                                    <div class="input-group">
                                                      <input class="form-control"
                                                      name="Percentage"
                                                      #Percentage="ngModel"
                                                      [(ngModel)]="ObjTender.EMD_Persentage"
                                                      placeholder="EMD Percentage"
                                                      [ngClass]="{'clearance': TenderFormSubmitted && FeeType.errors?.required}" required>
                                                      <div class="input-group-addon"><b>%</b></div>

                                                    </div>
                                                  </div> -->
                                                   <div class="col-sm-4">
                                                    <label class="control-label">Performance Security Fees Payable To<sup *ngIf="ObjTender.PSD_Payment_Mode" class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                            name="PSDPayableToCreate"
                                                            #PSDPayableToCreate="ngModel"
                                                            [(ngModel)]="ObjTender.PSD_Payable_To"
                                                            placeholder="EMD Payable To"
                                                            [ngClass]="{'clearance': TenderFormSubmitted && PSDPayableToCreate.errors?.required}" [required] = "ObjTender.PSD_Payment_Mode">
                                                  </div>
                                                   <div class="col-sm-4">
                                                    <label class="control-label">Performance Security Fees Payable At<sup *ngIf="ObjTender.PSD_Payment_Mode" class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                            name="PSDPayableAtCreate"
                                                            #PSDPayableAtCreate="ngModel"
                                                            [(ngModel)]="ObjTender.PSD_Payable_At"
                                                            placeholder="EMD Payable At  "
                                                            [ngClass]="{'clearance': TenderFormSubmitted && PSDPayableAtCreate.errors?.required}" [required] = "ObjTender.PSD_Payment_Mode">
                                                  </div>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Performance Security Fees Exemption Allowed<sup *ngIf="ObjTender.PSD_Payment_Mode" class="text-danger">*</sup></label>
                                                    <!-- <input class="form-control"
                                                            name="Exemption"
                                                            #Exemption="ngModel"
                                                            [(ngModel)]="ObjTender.T_Fee_exm_Allowed"
                                                            placeholder="Tender Fee Exemption Allowed "
                                                            [ngClass]="{'clearance': TenderFormSubmitted && Exemption.errors?.required}" required> -->
                                                            <select class="form-control"
                                                            name="PSDFeesExemptionAllowedCreate"
                                                            #PSDFeesExemptionAllowedCreate="ngModel"
                                                            [(ngModel)]="ObjTender.PSD__Fees_Exemption_Allowed"
                                                            placeholder="Tender Fee Exemption Allowed "
                                                            [ngClass]="{'clearance': TenderFormSubmitted && PSDFeesExemptionAllowedCreate.errors?.required}" [required] = "ObjTender.PSD_Payment_Mode">
                                                            <option  [ngValue]="undefined">Select</option>
                                                        <option ngValue="Y">Yes</option>
                                                        <option ngValue="N">No</option>
                                                    </select>
                                                  </div>
                                                  <div class ="col-sm-4">
                                                    <label class="control-label">Performance Security Amount<sup *ngIf="ObjTender.PSD_Payment_Mode" class="text-danger">*</sup></label>
                                                    <input class="form-control"
                                                    name="PerformanceSecurityCreate"
                                                    #PerformanceSecurityCreate="ngModel"
                                                    CompacctDigitonly="true"
                                                    [(ngModel)]="PerformanceSecurityAmount"
                                                    (change)="PerformanceSecurityChange(PerformanceSecurityAmount)"
                                                    (focus)="onFocusInEvent('PerformanceSecurityAmount',PerformanceSecurityAmount)"
                                                    (focusout)="onFocusOutEvent('PerformanceSecurityAmount',PerformanceSecurityAmount)"
                                                    placeholder="Payment Mode"
                                                    autocomplete="off"
                                                    [ngClass]="{'clearance': TenderFormSubmitted && PerformanceSecurityCreate.errors?.required}" [required] = "ObjTender.PSD_Payment_Mode"> 
                                                  </div>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Date of Issue<sup *ngIf="ObjTender.PSD_Payment_Mode" class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input
                                                        type="date"
                                                        name="Performanceissuedate1"
                                                        #Performanceissuedate1="ngModel"
                                                        [ngModel]="PerformanceIssueDate | date: 'yyyy-MM-dd'"
                                                        (ngModelChange)="PerformanceIssueDate = $event"
                                                        class="form-control"
                                                        [ngClass]="{'clearance': TenderFormSubmitted && Performanceissuedate1.errors?.required}"
                                                        [required] = "ObjTender.PSD_Payment_Mode"  />
                                                    </div>
                                                  </div> 
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Date of Expiry<sup *ngIf="ObjTender.PSD_Payment_Mode" class="text-danger">*</sup></label>
                                                    <div class="input-group date">
                                                      <div class="input-group-addon">
                                                        <i class="fa fa-calendar"></i>
                                                      </div>
                                                      <input
                                                        type="date"
                                                        name="Performanceexpirydate1"
                                                        #Performanceexpirydate1="ngModel"
                                                        [ngModel]="PerformanceExpiryDate | date: 'yyyy-MM-dd'"
                                                        (ngModelChange)="PerformanceExpiryDate = $event"
                                                        class="form-control"
                                                        [ngClass]="{'clearance': TenderFormSubmitted && Performanceexpirydate1.errors?.required}"
                                                        [required] = "ObjTender.PSD_Payment_Mode" />
                                                    </div>
                                                  </div> 
                                                 
                                                </div>
                                                <div class="form-group" style="padding: 1em;">
                                                <h5 style="
                                                padding: 0.5em 1em;
                                                background: #c1c1c185;
                                                border-top: 5px solid #3c8dbc;
                                                border-bottom: 1px solid #c6c6c6;
                                                margin-top: 15px;
                                                ">
                                                  <i class="fa fa-fw fa-fax">
                                                  </i> &nbsp;<strong>Tender Publishing Details :</strong>
                                                </h5>
                                                <div class="col-sm-4">
                                                  <label class="control-label">Information From<sup class="text-danger"></sup></label>
                                                  <span (click)="ToggleInformation()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                  <select class="form-control"
                                                          name="Tender_Publishing_Info_From"
                                                          #Tender_Publishing_Info_From="ngModel"
                                                          [(ngModel)]="ObjTender.Tender_Publishing_Info_From"
                                                          [ngClass]="{'clearance': TenderFormSubmitted && Tender_Publishing_Info_From.errors?.required}">
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of TenderInfoEnqList" [ngValue]="option.Enq_Source_ID">
                                                          {{option.Enq_Source_Name}}
                                                          </option>
                                                  </select>
                                                </div>
                                                
                                                <div class="col-sm-4">
                                                  <label class="control-label">Tender Published Date & Time<sup class="text-danger">*</sup></label>
                                                  <div class="input-group date">
                                                    <div class="input-group-addon">
                                                      <i class="fa fa-calendar"></i>
                                                    </div>
                                                    <input class="form-control" [owlDateTimeTrigger]="pub"   name="pub_Date_Submission"
                                                    [(ngModel)]="TenderPublishDate" [owlDateTime]="pub">
                                                   <owl-date-time [hour12Timer]='true' #pub></owl-date-time>
                                                  </div>
                                                </div>
                                                <div class="col-sm-4">
                                                  <label class="control-label">Bid Submission End Date & Time<sup class="text-danger">*</sup></label>
                                                  <div class="input-group date">
                                                    <div class="input-group-addon">
                                                      <i class="fa fa-calendar"></i>
                                                    </div>
                                                    <input class="form-control" [owlDateTimeTrigger]="end"   name="END_Date_Submission"
                                                    [(ngModel)]="TenderEndDate" [owlDateTime]="end">
                                                   <owl-date-time [hour12Timer]='true' #end></owl-date-time>
                                                  </div>
                                                </div>
                                                <div class="col-sm-4">
                                                  <label class="control-label">Bid Opening Date & Time<sup class="text-danger">*</sup></label>
                                                  <div class="input-group date">
                                                    <div class="input-group-addon">
                                                      <i class="fa fa-calendar"></i>
                                                    </div>
                                                    <input class="form-control" [owlDateTimeTrigger]="open"   name="Date_Submission"
                                                    [(ngModel)]="TenderOpenDate" [owlDateTime]="open">
                                                   <owl-date-time [hour12Timer]='true' #open></owl-date-time>
                                                  </div>
                                                </div>
                                                <!-- <div class="col-sm-4">
                                                  <label class="control-label">Bid Submission Date<sup class="text-danger">*</sup></label>
                                                  <div class="input-group date">
                                                    <div class="input-group-addon">
                                                      <i class="fa fa-calendar"></i>
                                                    </div>
                                                    <input class="form-control" [owlDateTimeTrigger]="dt5"   name="Date_Submission"
                                                    [(ngModel)]="TenderOpenDate" [owlDateTime]="dt5">
                                                   <owl-date-time [hour12Timer]='true' #dt5></owl-date-time>
                                                </div>
                                                </div> -->
                                                <div class="col-sm-4">
                                                  <label class="control-label">Period Of Work (Days)<sup class="text-danger">*</sup></label>
                                                  <input class="form-control"
                                                          name="WorkCreate"
                                                          #WorkCreate="ngModel"
                                                          CompacctDigitonly="true"
                                                          [(ngModel)]="PeriodOfWork"
                                                          (change)="TenderPeriodOfWorkChange(PeriodOfWork)"
                                                          placeholder="Period Of Work (Days)"
                                                          [ngClass]="{'clearance': TenderFormSubmitted && WorkCreate.errors?.required}" required>
                                                </div>
                                                </div>
                                                <!-- <div class="form-group">
                                                  <div class="col-sm-12">
                                                    <label class="control-label">Elegibility<sup class="text-danger"></sup></label>
                                                    <p-editor [(ngModel)]="ObjTender.Elegibility" name="Elegibility" [style]="{'height':'150px'}"></p-editor>

                                                  </div>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Corrigendum If any<sup class="text-danger"></sup></label>
                                                    <textarea class="form-control" name="Corrigendum" [(ngModel)]="ObjTender.Corrigendum" rows="4" placeholder="Corrigendum If any"></textarea>
                                                  </div>

                                                  <div class="col-sm-4">
                                                    <label class="control-label"
                                                    >Intimation To<sup class="text-danger">*</sup
                                                  ></label>
                                                  <p-multiSelect [options]="IntimationList" [(ngModel)]="IntimationSelect" [styleClass]="'compacct-multiselect'" name="serialno"></p-multiSelect>

                                                  </div>
                                                  <div class="col-sm-4">
                                                    <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                    <textarea class="form-control" name="Remarks" [(ngModel)]="ObjTender.Remarks" rows="2" placeholder="Remarks"></textarea>
                                                  </div>
                                                </div> -->
                                                <div class="box-footer">
                                                    <button class="btn btn-primary pull-right"
                                                            type="button"
                                                            (click)="SaveTenderMaster(TenderForm.form.valid)"
                                                            id="load"
                                                            [disabled]="Spinner">
                                                            <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-save"></span>{{buttonname}}
                                                    </button>
                                                </div>
                                            </form>
                                            <app-compacct-document  [documentType]="{'FootfalID' :FootfalID,'name': 'Document','title':'Document Upload'}" (clear)="GetFlagFromDocument($event)" *ngIf="FootfalID"></app-compacct-document>
                                        </p-tabPanel>
                                        <p-tabPanel headerStyleClass="compacct-tabs" *ngIf="BidOpeningFlag" [header]="items[2]" leftIcon="fa fa-fw fa-industry">
                                          <form name="BidOpeningForm" #BidOpeningForm="ngForm" novalidate>
                                            <!-- <button class="btn btn-primary btn-xs refresh-btn" [disabled]="ObjBidOpening['BOQ_File_Name']" *ngIf="tabIndexToView === 2" (click)="RefreshTenderData()"><i class="fa fa-fw  fa-refresh"></i></button> -->
                                            <div class="form-group">
                                              
                                              <div class="col-sm-4">
                                                <label class="control-label">Tender Authority<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{BidTenderList.Tender_Organization ? BidTenderList.Tender_Organization : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Tender Calling Div<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{BidTenderList.Tender_Calling_Div_Name ? BidTenderList.Tender_Calling_Div_Name : '-'}}</div>
                                              </div>
                                            <div class="col-sm-4">
                                          <label class="control-label">Tender Execution Div<sup class="text-danger">*</sup></label>
                                          <div class="label-t">{{BidTenderList.Tender_Execution_Div_Name ? BidTenderList.Tender_Execution_Div_Name : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Tender Reference Number</label>
                                                <div class="label-t">{{BidTenderList.Tender_Ref_No ? BidTenderList.Tender_Ref_No : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Tender ID<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{BidTenderList.Tender_ID ? BidTenderList.Tender_ID : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Tender Type<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{BidTenderList.Tender_Type_Name ? BidTenderList.Tender_Type_Name : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                  <label class="control-label">Tender Category<sup class="text-danger">*</sup></label>
                                                  <div class="label-t">{{BidTenderList.Tender_Category_Name ? BidTenderList.Tender_Category_Name : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label"> 800 CHRS<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{BidTenderList.Tender_Name ? BidTenderList.Tender_Name : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">State<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{BidTenderList.State ? BidTenderList.State : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Work Location</label>
                                                <div class="label-t">{{BidTenderList.Location ? BidTenderList.Location : '-'}}</div>
                                                </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Pincode<sup class="text-danger"></sup
                                                ></label>
                                                <div class="label-t">{{BidTenderList.Pin_Code ? BidTenderList.Pin_Code : '-'}}</div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Tender Value In ₹<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{TenderAmount ? TenderAmount : '-'}}</div>  
                                              </div>
                                            </div>
                                            <hr class="box boxboxDivide-primary" />
                                            <div class="form-group">
                                              <div class="col-sm-4">
                                                <label class="control-label">Bidder Name<sup class="text-danger">*</sup></label>
                                                <span (click)="ToggleBidder()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <select class="form-control"
                                                        name="Bidder_Name"
                                                        #Bidder_Name="ngModel"
                                                        [(ngModel)]="ObjBidOpeningList.Bidder_Name"
                                                        [ngClass]="{'clearance': BidOpeningListFormSubmitted && (ObjBidOpeningList.Bidder_Name ==='' || ObjBidOpeningList.Bidder_Name=== null || ObjBidOpeningList.Bidder_Name=== undefined)}" >
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option *ngFor="let option of BidderList" [ngValue]="option.Bidder_Name">
                                                        {{option.Bidder_Name}}
                                                        </option>

                                                </select>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Tender Value<sup class="text-danger">*</sup></label>
                                                <input class="form-control"
                                                name="Estimate"
                                                #Estimate="ngModel"
                                                CompacctDigitonly="true"
                                                [(ngModel)]="tenderValue"
                                                (ngModelChange)="inputBoxClr(tenderValue)"
                                                placeholder="Tender Value"
                                                [ngClass]="{'clearance': BidOpeningListFormSubmitted && (tenderValue ==='' || tenderValue === null || tenderValue === undefined)}"
                                                 >
                                              </div>
                                              <div class="col-sm-4" *ngIf = "tenderValue && tenderValue > 0">
                                                <label class="control-label">Quoted Percentage <sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input class="form-control"
                                                  name="Quoted"
                                                  #Quoted="ngModel"
                                                  [(ngModel)]="ObjBidOpeningList.Quoted_Percentage"
                                                  placeholder="Quoted Percentage"
                                                  [ngClass]="{'clearance': BidOpeningListFormSubmitted && (ObjBidOpeningList.Quoted_Percentage === '' || ObjBidOpeningList.Quoted_Percentage === null || ObjBidOpeningList.Quoted_Percentage=== undefined)}" >
                                                  <div class="input-group-addon"><b>%</b></div>

                                                </div>
                                              </div>
                                              <div class="col-sm-4" *ngIf = "tenderValue === '' || tenderValue === null || tenderValue === undefined || tenderValue === '0'">
                                                <label class="control-label">Quoted Rate <sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input class="form-control"
                                                  name="Quoted_Rate"
                                                  #Quoted_Rate="ngModel"
                                                  [(ngModel)]="ObjBidOpeningList.Quoted_Rate"
                                                  placeholder="Quoted Rate"
                                                  [ngClass]="{'clearance': BidOpeningListFormSubmitted && (ObjBidOpeningList.Quoted_Rate === '' || ObjBidOpeningList.Quoted_Rate === null || ObjBidOpeningList.Quoted_Rate=== undefined)}" 
                                                  CompacctDigitonly="true">
                                                  
                                                </div>
                                              </div>
                                              <div class="col-sm-4">
                                                <button
                                                type="submit"
                                                name="bidopen"
                                                class="btn btn-primary custombutton"
                                                (click)="AddBidOpen()"
                                              >
                                                <span class="glyphicon glyphicon-plus"></span
                                                >&nbsp;Add
                                              </button>
                                              </div>

                                            </div>
                                            <div class="form-group"  style="padding: 2em;">
                                              <div class="table-responsive no-padding">
                                                <table class="table bidopen table-bordered">
                                                  <thead>
                                                    <tr style="background-color:#3c8dbc;color:white;">
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Sl. No.
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Bidder Name
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Tender Value
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Quoted Rate
                                                      </th>
                                                      <th
                                                      nowrap
                                                      rowspan="2"
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                      Quoted Percentage
                                                    </th>
                                                      <th colspan="2" scope="colgroup" class="text-center">
                                                        Quoted Rate In Figures and Words
                                                      </th>
                                                      <th nowrap rowspan="2">Delete</th>
                                                    </tr>
                                                    <tr style="background-color:#3c8dbc;color:white">
                                                      <th scope="col" class="text-center">Rate</th>
                                                      <th scope="col" class="text-center">Amount.</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr
                                                      *ngFor="
                                                        let d of BidOpenListView;
                                                        let odd = odd;
                                                        let index = index
                                                      "
                                                      [class.even]="odd"
                                                    >
                                                      <td>{{ d.Sl_No }}</td>
                                                      <td>{{ d.Bidder_Name }}</td>
                                                      <td>{{ d.Tender_Value ? BidAmountView(d.Tender_Value) : 0 }}</td>
                                                      <td>{{ d.Quoted_Rate ? d.Quoted_Rate: "-" }}</td>
                                                      <td>{{ d.Quoted_Percentage ? d.Quoted_Percentage +' %' : "-" }}</td>
                                                       <td>{{ d.Rate ? BidAmountView(d.Rate) : "-" }}</td>
                                                      <td>{{ d.Rate_In_Words ? d.Rate_In_Words : "-" }}</td>
                                                      <td>
                                                        <a (click)="DeleteBidOpenList(index)"
                                                          ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                        </a>
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                              <button
                                              type="submit"
                                              name="bidopen"
                                              class="btn btn-primary pull-right"
                                              (click)="RankBiddingCompanies()"
                                            >
                                              <span class="glyphicon glyphicon-refresh"></span
                                              >&nbsp; Rank Bidding Companies
                                            </button>
                                            </div>
                                            <div class="form-group" style="padding: 2em;" *ngIf="BidOpenListViewByRateFlag">
                                              <div class="table-responsive no-padding">
                                                <table class="table bidopen table-bordered">
                                                  <thead>
                                                    <tr style="background-color:#3c8dbc;color:white;">
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                       Rank
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Bidder Name
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Tender Value
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Quoted Rate
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Quoted Percentage
                                                      </th>
                                                      <th colspan="2" scope="colgroup" class="text-center">
                                                        Quoted Rate In Figures and Words
                                                      </th>

                                                    </tr>
                                                    <tr style="background-color:#3c8dbc;color:white">
                                                      <th scope="col" class="text-center">Rate</th>
                                                      <th scope="col" class="text-center">Amount.</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr
                                                      *ngFor="
                                                        let d of BidOpenListViewByRate;
                                                        let odd = odd;
                                                        let index = index
                                                      "
                                                      [class.even]="odd"
                                                    >
                                                      <td>{{ d.Rank }}</td>
                                                      <td>{{ d.Bidder_Name }}</td>
                                                      <td>{{ d.Tender_Value ? BidAmountView(d.Tender_Value) : 0 }} </td>
                                                      <td>{{ d.Quoted_Rate ? d.Quoted_Rate: "-" }}</td>
                                                      <td>{{ d.Quoted_Percentage ? d.Quoted_Percentage +' %' : "-" }}</td>
                                                      <td>{{ d.Rate ? BidAmountView(d.Rate) : "-" }}</td>
                                                      <td>{{ d.Rate_In_Words ? d.Rate_In_Words : "-" }}</td>

                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                              </div>
                                            <div class="form-group"  style="padding: 2em;" *ngIf="BidOpenListViewByLotteryFlag">
                                              <div class="table-responsive no-padding">
                                                <table class="table bidopen table-bordered">
                                                  <thead>
                                                    <tr style="background-color:#3c8dbc;color:white;">
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Rank
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Bidder Name
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Tender Value
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Quoted Rate
                                                      </th>
                                                      <th
                                                        nowrap
                                                        rowspan="2"
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                        Quoted Percentage
                                                      </th>

                                                      <th colspan="2" scope="colgroup" class="text-center">
                                                        Quoted Rate In Figures and Words
                                                      </th>
                                                    </tr>
                                                    <tr style="background-color:#3c8dbc;color:white">
                                                      <th scope="col" class="text-center">Rate</th>
                                                      <th scope="col" class="text-center">Amount.</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr
                                                      *ngFor="
                                                        let d of BidOpenListViewByLottery;
                                                        let odd = odd;
                                                        let index = index;
                                                        trackBy:trackByfn
                                                      "
                                                      [class.even]="odd"
                                                    >
                                                      <td>{{d.Rank}}
                                                      </td>
                                                      <td>
                                                        <select class="form-control"
                                                        name="Bidder_Name-{{index}}"
                                                        #Bidder_Name="ngModel"
                                                        [(ngModel)]="d['Bidder_Name']"
                                                        (change)="LotteryBidderNameChange(index,d)"
                                                        *ngIf="d['Lottery_Flag'] === 'DUPLICATE'"
                                                        [ngClass]="{'clearance': (BidOpeningListFormSubmitted && Bidder_Name.errors?.required) || (checkBidderSelectLottery(d['Bidder_Name']))}" required>
                                                          <option  [ngValue]="undefined">Select</option>
                                                          <option *ngFor="let option of d.Temp_Bidder_Array;trackBy:trackByfn" [ngValue]="option.Bidder_Name">
                                                              {{option.Bidder_Name}}
                                                              </option>
                                                        </select>
                                                        <span  *ngIf="d['Lottery_Flag'] === 'FIXED'">{{d.Bidder_Name}}</span>
                                                      </td>
                                                      <td>{{ d.Tender_Value ? BidAmountView(d.Tender_Value) : 0 }} </td>
                                                      <td>{{ d.Quoted_Rate ? d.Quoted_Rate: "-" }}</td>
                                                      <td> {{d.Quoted_Percentage ? d.Quoted_Percentage  +' %':'-' }} </td>
                                                      <td>{{ d.Rate ? BidAmountView(d.Rate) : "-" }}</td>
                                                      <td>{{ d.Rate_In_Words ? d.Rate_In_Words : "-" }}</td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                            <div class="box-footer" *ngIf="ObjBidOpening.Financial_Bid_Status ==='AWARDING THE TENDER'">
                                              <button class="btn btn-primary pull-right"
                                                      (click)="SaveBidOpening(BidOpeningForm.form.valid)"
                                                      id="load"
                                                      [disabled]="Spinner">
                                                      <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                  <span *ngIf="!Spinner" class="glyphicon glyphicon-save"></span>{{BidEditFlag ? 'Update Bid' : 'Create Bid'}}
                                              </button>
                                          </div>
                                           
                                            <!-- <div class='form-group' *ngIf="BidOpenListViewByLottery.length || BidOpenListViewByRate.length">
                                              <div class="col-sm-4 pull-right">
                                                <button
                                                type="submit"
                                                name="Upbidopen"
                                                class="btn btn-primary  pull-right custombutton"
                                                (click)="UpdateStatus()"
                                              >
                                                <span class="fa fa-fw fa-flash"></span
                                                >&nbsp;Update Status
                                              </button>
                                              </div>
                                            </div> -->
                                            <div class="form-group">
                                              <div class="col-sm-4">
                                                <label class="control-label"
                                                >Status<sup class="text-danger">*</sup
                                              ></label>
                                              <select
                                              class="form-control"
                                              name="Bid_Status"
                                              #Bid_Status="ngModel"
                                              [(ngModel)]="ObjBidOpening.Financial_Bid_Status"
                                              (change)="StatusChange(ObjBidOpening.Financial_Bid_Status)"
                                              [ngClass]="{
                                                clearance: BidOpeningFormSubmitted && Bid_Status?.errors?.required
                                              }"
                                              required
                                            >
                                              <option [ngValue]="undefined">Select</option>
                                              <option value="AWARDING THE TENDER"> AWARDING THE TENDER</option>
                                              <option value="NOT- AWARDING THE TENDER"> NOT- AWARDING THE TENDER</option>
                                            </select>
                                              </div>
                                              <div class="col-sm-4" *ngIf="ObjBidOpening.Financial_Bid_Status ==='NOT- AWARDING THE TENDER'">
                                                <label class="control-label">Reason<sup class="text-danger">*</sup></label>
                                                <span (click)="ToggleReason()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <p-multiSelect [options]="ReasonList" [(ngModel)]="ReasonSelect" [styleClass]="'compacct-multiselect'" name="Reason"></p-multiSelect>

                                               </div>
                                            </div>
                                            </form>
                                            <div class="form-group" *ngIf="ObjBidOpening.Financial_Bid_Status ==='AWARDING THE TENDER'" >
                                              <form name="AgreementForm" #AgreementForm="ngForm" novalidate>
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                                <i class="fa fa-fw fa-fax">
                                                </i> &nbsp;<strong>Agreement Details :</strong>
                                              </h5>
                                               <div class="col-sm-4">
                                                <label class="control-label">Circle <sup class="text-danger">*</sup></label>
                                                <span (click)="ToggleCircle()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <select class="form-control"
                                                        name="Circle"
                                                        #Circle="ngModel"
                                                        [(ngModel)]="ObjAgreement.Circle"
                                                        (change)="GetDivision(ObjAgreement.Circle)"
                                                        [ngClass]="{'clearance': AgreementSubmitted && Circle.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option *ngFor="let option of CircleList" [ngValue]="option.Circle">
                                                        {{option.Circle}}
                                                        </option>

                                                </select>
                                               </div>
                                           
                                               <div class="col-sm-4">
                                                <label class="control-label">Agreement Number<sup class="text-danger">*</sup></label>

                                                <input class="form-control"
                                                name="Agreement"
                                                #Agreement="ngModel"
                                                [(ngModel)]="ObjAgreement.Agreement_Number"
                                                placeholder="Agreement Number"
                                                [ngClass]="{'clearance': AgreementSubmitted && Agreement.errors?.required}" required>
                                               </div>
                                               <div class="col-sm-4">
                                                <label class="control-label">Agreement Value<sup class="text-danger">*</sup></label>
                                                <input class="form-control"
                                                name="AgreementValue"
                                                #AgreementValue="ngModel"
                                                [(ngModel)]="ObjAgreement.Agreement_Value"
                                                placeholder="Agreement value"
                                                [ngClass]="{'clearance': AgreementSubmitted && AgreementValue.errors?.required}" required>
                                                
                                               </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Date of Commencement<sup class="text-danger">*</sup></label>
                                                <div class="input-group date">
                                                  <div class="input-group-addon">
                                                    <i class="fa fa-calendar"></i>
                                                  </div>
                                                  <input
                                                  type="date"
                                                  name="Commencement"
                                                  #Commencement="ngModel"
                                                  [ngModel]="CommencementDate | date: 'yyyy-MM-dd'"
                                                  (ngModelChange)="GetCommencementDate($event)"
                                                  class="form-control"
                                                />
                                              </div>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Date of Completion<sup class="text-danger">*</sup></label>
                                                <div class="input-group date">
                                                  <div class="input-group-addon">
                                                    <i class="fa fa-calendar"></i>
                                                  </div>
                                                  <input
                                                  type="date"
                                                  name="Completion"
                                                  #Completion="ngModel"
                                                  [ngModel]="CompletionDate | date: 'yyyy-MM-dd'"
                                                  [min]="CompletionDate | date: 'yyyy-MM-dd'"
                                                  (ngModelChange)="GetCompletionDate($event)"
                                                  class="form-control"
                                                />
                                              </div>
                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton"
                                                        (click)="saveAgreement(AgreementForm.form.valid)"
                                                        id="load"
                                                        [disabled]="SpinnerAg">
                                                        <p-progressSpinner *ngIf="SpinnerAg" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                    <span *ngIf="!SpinnerAg" class="glyphicon glyphicon-save"></span>{{BidEditFlag ? 'Update Agreement' : 'Create Agreement'}}
                                                </button>
                                              </div>
                                               </form>
                                            </div>
                                            <div class="box-footer" *ngIf="ObjBidOpening.Financial_Bid_Status !=='AWARDING THE TENDER'">
                                              <button class="btn btn-primary pull-right"
                                                      (click)="SaveBidOpening(BidOpeningForm.form.valid)"
                                                      id="load"
                                                      [disabled]="Spinner">
                                                      <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                  <span *ngIf="!Spinner" class="glyphicon glyphicon-save"></span>{{BidEditFlag ? 'Update Bid' : 'Create Bid'}}
                                              </button>
                                          </div>
                                          
                                          <!-- <app-compacct-document [foofFall]="ObjBidOpening.Foot_Fall_ID" (clear)="GetFlagFromDocumentBid($event)" *ngIf="FootfalID"></app-compacct-document> -->
                                          <!-- <div class="row">
                                            <h5 style="
                                            padding: 0.5em 1em;
                                            background: #c1c1c185;
                                            border-top: 5px solid #3c8dbc;
                                            border-bottom: 1px solid #c6c6c6;
                                            margin-top: 15px;
                                            ">
                                            <i class="fa fa-fw fa-fax">
                                            </i> &nbsp;<strong>{{ObjBidOpening['BOQ_File_Name'] ? 'Update ' : ''}}BOQ Documents Upload:</strong>
                                        </h5>
                                        <form name="BOQdOCForm" #BOQdOCForm="ngForm" novalidate>
                                         <div class="col-sm-4">
                                          <label class="control-label">Documents<sup class="text-danger">*</sup></label>
                                          <p-fileUpload #fileInput *ngIf="!PDFViewFlag" accept=".xlsx" name="aFile"  customUpload="true" [chooseLabel]="'Browse'" [showUploadButton]="false" (onSelect)="onFileChange($event)" url="/Master_Product_V2/Upload_Doc" ></p-fileUpload>


                                         </div>
                                         <div class="col-sm-4">
                                          <label class="control-label">Project Name<sup class="text-danger">*</sup></label>
                                          <input class="form-control"
                                          name="Short"
                                          #Short="ngModel"
                                          [(ngModel)]="ObjBidOpening.Project_Short_Name"
                                          placeholder="Project Short Name"
                                          [ngClass]="{'clearance': BoqDocFormSubmitted && Short.errors?.required}" required>
                                        </div>
                                         <div class="col-sm-4"  *ngIf="ObjBidOpening['BOQ_File_Name']">
                                          <label class="control-label">Previously Uploaded<sup class="text-danger">*</sup></label>
                                          <a style="display: block;margin-top: 1em;"
                                          target="_blank" >
                                            <img src="/PDF_Logo/xls.png"
                                            class='img-rounded pdf' style="width:35px; height:35px "
                                            alt="xls">
                                            <span style='margin-left: 2em;font-weight: 800;'>{{getFileName(ObjBidOpening['BOQ_File_Name'])}}</span>

                                          </a><br>
                                          <a [href]="ObjBidOpening['BOQ_File_Name']" class='btn btn-xs btn-primary' download>Download</a>&nbsp;
                                          <span class='btn btn-xs btn-primary' (click)='ViewExcel()'>View</span>
                                         </div>
                                         <div class="col-sm-4">
                                          <button
                                          type="submit"
                                          name="bidopen"
                                          class="btn btn-primary custombutton"
                                          (click)="SaveBOQ(BOQdOCForm.form.valid)"
                                        >
                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                          <span *ngIf="!Spinner"  class="glyphicon glyphicon-plus"></span
                                          >&nbsp; {{ObjBidOpening['BOQ_File_Name'] ? 'Update' : 'Upload'}}
                                        </button>
                                        </div>
                                        </form>
                                          </div> -->
                                          <app-compacct-document  [documentType]="{'FootfalID' :ObjBidOpening.Tender_Doc_ID,'name': 'Awarding','title':'Awarding Documents Upload'}" (clear)="GetFlagFromDocument($event)" *ngIf="ObjBidOpening.Tender_Doc_ID"></app-compacct-document>
                                          <!-- <div class="row">
                                            <h5 style="
                                            padding: 0.5em 1em;
                                            background: #c1c1c185;
                                            border-top: 5px solid #3c8dbc;
                                            border-bottom: 1px solid #c6c6c6;
                                            margin-top: 15px;
                                            ">
                                            <i class="fa fa-fw fa-fax">
                                            </i> &nbsp;<strong>Awarding Documents Upload :</strong>
                                        </h5>
                                         <div class="col-sm-4">
                                          <label class="control-label">Documents<sup class="text-danger">*</sup></label>
                                          <p-fileUpload #fileInput1 *ngIf="!PDFViewFlag" name="aFile" accept="application/pdf/*" customUpload="true" [chooseLabel]="'Browse'" [showUploadButton]="false" (onSelect)="FetchPDFFile($event)" url="/Master_Product_V2/Upload_Doc" ></p-fileUpload>

                                         </div>
                                          </div> -->
                                        </p-tabPanel>
                                    </p-tabView>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <p-overlayPanel 
        [dismissable]="true" [showCloseIcon]="true"
        [appendTo]="'body'"
        (onShow)='CreateLightBoxSubmitted = false;'
        [baseZIndex]="9999999" #Tender_Calling_Div_Name>
        <div class="form-horizontal">
          <form
          name="OrgForm"
          #OrgForm="ngForm"
          novalidate
          >
          <div class="form-group">
            <div class="col-sm-12">
              <label class="control-label">Tender Calling Div<sup class="text-danger">*</sup ></label>
            <input
                  type="text"
                  class="form-control"
                  name="name"
                  #name="ngModel"
                  [(ngModel)]="TenderCallingDiv"
                  placeholder="Tender Calling Div"
                  allow-pattern="([a-z ]|\.)"
                  [ngClass]="{clearance: CreateLightBoxSubmitted && name?.errors?.required}"
                  required
                />
            </div>
            <button (click)='LightBoxSave("TenderCallingDiv","Tender_Calling_Div_Name")'
             class="btn btn-sm btn-success pull-right" style="margin-right: 15px;margin-top: 10px;"
             [disabled]="Spinner"
             >
             <p-progressSpinner
               *ngIf="Spinner"
               [style]="{ width: '15px', height: '15px' }"
               strokeWidth="8"
               animationDuration=".5s"
             ></p-progressSpinner>
              <i class="fa fa-fw  fa-plus"></i>  Create</button>
          </div>
          
          </form>
          </div>
      </p-overlayPanel>
      <p-overlayPanel 
      [dismissable]="true" [showCloseIcon]="true"
      [appendTo]="'body'"
      (onShow)='CreateLightBoxSubmitted = false;'
      [baseZIndex]="9999999" #Tender_Execution_Div_Name>
      <div class="form-horizontal">
        <form
        name="OrgForm"
        #OrgForm="ngForm"
        novalidate
        >
        <div class="form-group">
          <div class="col-sm-12">
            <label class="control-label">Tender Execution Div<sup class="text-danger">*</sup ></label>
          <input
                type="text"
                class="form-control"
                name="name"
                #name="ngModel"
                [(ngModel)]="TenderExecutionDiv"
                placeholder="Tender Execution Div"
                allow-pattern="([a-z ]|\.)"
                [ngClass]="{clearance: CreateLightBoxSubmitted && name?.errors?.required}"
                required
              />
          </div>
          <button (click)='LightBoxSave("TenderExecutionDiv","Tender_Execution_Div_Name")'
           class="btn btn-sm btn-success pull-right" style="margin-right: 15px;margin-top: 10px;"
           [disabled]="Spinner"
           >
           <p-progressSpinner
             *ngIf="Spinner"
             [style]="{ width: '15px', height: '15px' }"
             strokeWidth="8"
             animationDuration=".5s"
           ></p-progressSpinner>
            <i class="fa fa-fw  fa-plus"></i>  Create</button>
        </div>
        
        </form>
        </div>
    </p-overlayPanel>
    <p-overlayPanel 
    [dismissable]="true" [showCloseIcon]="true"
    [appendTo]="'body'"
    (onShow)='CreateLightBoxSubmitted = false;'
    [baseZIndex]="9999999" #Tender_Type_Name>
    <div class="form-horizontal">
      <form
      name="OrgForm"
      #OrgForm="ngForm"
      novalidate
      >
      <div class="form-group">
        <div class="col-sm-12">
          <label class="control-label">Tender Type<sup class="text-danger">*</sup ></label>
        <input
              type="text"
              class="form-control"
              name="name"
              #name="ngModel"
              [(ngModel)]="TenderType"
              placeholder="Tender Type"
              allow-pattern="([a-z ]|\.)"
              [ngClass]="{clearance: CreateLightBoxSubmitted && name?.errors?.required}"
              required
            />
        </div>
        <button (click)='LightBoxSave("TenderType","Tender_Type_Name")'
         class="btn btn-sm btn-success pull-right" style="margin-right: 15px;margin-top: 10px;"
         [disabled]="Spinner"
         >
         <p-progressSpinner
           *ngIf="Spinner"
           [style]="{ width: '15px', height: '15px' }"
           strokeWidth="8"
           animationDuration=".5s"
         ></p-progressSpinner>
          <i class="fa fa-fw  fa-plus"></i>  Create</button>
      </div>
      
      </form>
      </div>
  </p-overlayPanel>
  <p-overlayPanel 
  [dismissable]="true" [showCloseIcon]="true"
  [appendTo]="'body'"
  (onShow)='CreateLightBoxSubmitted = false;'
  [baseZIndex]="9999999" #Tender_Category_Name>
  <div class="form-horizontal">
    <form
    name="OrgForm"
    #OrgForm="ngForm"
    novalidate
    >
    <div class="form-group">
      <div class="col-sm-12">
        <label class="control-label">Tender Category<sup class="text-danger">*</sup ></label>
      <input
            type="text"
            class="form-control"
            name="name"
            #name="ngModel"
            [(ngModel)]="TenderCategory"
            placeholder="Tender Category"
            allow-pattern="([a-z ]|\.)"
            [ngClass]="{clearance: CreateLightBoxSubmitted && name?.errors?.required}"
            required
          />
      </div>
      <button (click)='LightBoxSave("TenderCategory","Tender_Category_Name")'
       class="btn btn-sm btn-success pull-right" style="margin-right: 15px;margin-top: 10px;"
       [disabled]="Spinner"
       >
       <p-progressSpinner
         *ngIf="Spinner"
         [style]="{ width: '15px', height: '15px' }"
         strokeWidth="8"
         animationDuration=".5s"
       ></p-progressSpinner>
        <i class="fa fa-fw  fa-plus"></i>  Create</button>
    </div>
    
    </form>
    </div>
</p-overlayPanel>
<p-overlayPanel 
  [dismissable]="true" [showCloseIcon]="true"
  [appendTo]="'body'"
  (onShow)='CreateLightBoxSubmitted = false;'
  [baseZIndex]="9999999" #Tender_Payment_Mode>
  <div class="form-horizontal">
    <form
    name="OrgForm"
    #OrgForm="ngForm"
    novalidate
    >
    <div class="form-group">
      <div class="col-sm-12">
        <label class="control-label">Payment Mode<sup class="text-danger">*</sup ></label>
      <input
            type="text"
            class="form-control"
            name="name"
            #name="ngModel"
            [(ngModel)]="TenderPaymentMode1"
            placeholder="Payment Mode"
            allow-pattern="([a-z ]|\.)"
            [ngClass]="{clearance: CreateLightBoxSubmitted && name?.errors?.required}"
            required
          >
      </div>
      <button (click)='LightBoxSave("TenderPaymentMode1","Tender_Payment_Mode")'
       class="btn btn-sm btn-success pull-right" style="margin-right: 15px;margin-top: 10px;"
       [disabled]="Spinner"
       >
       <p-progressSpinner
         *ngIf="Spinner"
         [style]="{ width: '15px', height: '15px' }"
         strokeWidth="8"
         animationDuration=".5s"
       ></p-progressSpinner>
        <i class="fa fa-fw  fa-plus"></i>  Create</button>
    </div>
    
    </form>
    </div>
</p-overlayPanel>

<p-dialog
[header]="'Create Category'"
[appendTo]="'body'"
[visible]="CategoryModal"
[closeOnEscape]="true"
[closable]="false"
[modal]="true"
[responsive]="true"
[style]="{ width: '40%', minWidth: '200px' }"
style="text-align: center;"
[minY]="70"
[maximizable]="true"
[baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="catform"
#catform="ngForm"
novalidate
>
<div class="form-group">
<div class="col-sm-12">
  <label class="control-label"
  >Category Name<sup class="text-danger">*</sup
></label>
<input
type="text"
class="form-control"
name="name"
#name="ngModel"
[(ngModel)]="TenderCategoryName"
placeholder="Tender Category Name"
allow-pattern="([a-z ]|\.)"
[ngClass]="{
  clearance: catSubmitted && name?.errors?.required
}"
required
/>
</div>
</div>

</form>
</div>
<p-footer>
  <button
    type="button"
    (click)="CategoryModal = false"
    class="btn btn-default"
  >
    CANCEL
  </button>
  <button
  type="submit"
  name="bill"
  class="btn btn-primary pull-right custombutton"
  (click)="CreateCategory(catform.form.valid)"
  id="load2"
  [disabled]="Spinner"
>
  <p-progressSpinner
    *ngIf="Spinner"
    [style]="{ width: '15px', height: '15px' }"
    strokeWidth="8"
    animationDuration=".5s"
  ></p-progressSpinner>
  <span
    *ngIf="!Spinner"
    class="glyphicon glyphicon-save"
  ></span
  >&nbsp;{{ buttonname }}
  </button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Organization'"
  [appendTo]="'body'"
  [visible]="OrganizationModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="OrgForm"
#OrgForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Organization Name<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="TenderOrganization"
        placeholder="Organization Name"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: OrgSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="OrganizationModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateOrganization(OrgForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Tender Type'"
  [appendTo]="'body'"
  [visible]="TypeModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="TypeForm"
#TypeForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Tender Type Name<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="TenderTypeName"
        placeholder="Tender Type Name"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: TypeSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="TypeModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateType(TypeForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Contract Type'"
  [appendTo]="'body'"
  [visible]="ContactModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="ContactForm"
#ContactForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Tender Form Of Contract<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="FormOfContract"
        placeholder="Tender Form Of Contract"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: ContractSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="ContactModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateContact(ContactForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Payment Type'"
  [appendTo]="'body'"
  [visible]="PaymentModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="PaymentForm"
#PaymentForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Tender Payment Type<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="TenderPaymentMode"
        placeholder="Tender Payment Type"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: PaymentSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="PaymentModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreatePayment(PaymentForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Bidder Name'"
  [appendTo]="'body'"
  [visible]="BidderModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="BidderForm"
#BidderForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Bidder Name<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="BidderName"
        placeholder="Bidder Name"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: BidderSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="BidderModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateBidder(BidderForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Circle'"
  [appendTo]="'body'"
  [visible]="CircleModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="CircleForm"
#CircleForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Circle<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="CircleName"
        placeholder="Circle"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: CircleSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="CircleModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateCircle(CircleForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Division'"
  [appendTo]="'body'"
  [visible]="DivisionModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="DivisionForm"
#DivisionForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Division<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="DivisionName"
        placeholder="Division"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: DivisionSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="DivisionModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateDivision(DivisionForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Tender Inviting Authority'"
  [appendTo]="'body'"
  [visible]="AuthorityModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="AuthorityForm"
#AuthorityForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Tender Inviting Authority<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="AuthorityName"
        placeholder="Tender Inviting Authority"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: AuthoritySubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="AuthorityModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateAuthority(AuthorityForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Reason'"
  [appendTo]="'body'"
  [visible]="ReasonModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="ReasonForm"
#ReasonForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Reason<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="ReasonName"
        placeholder="Reason"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: ReasonSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="ReasonModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateReason(ReasonForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Financial Year'"
  [appendTo]="'body'"
  [visible]="FinalcialYearModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="FinancialForm"
#FinancialForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Financial Year<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="Year"
        #Year="ngModel"
        [(ngModel)]="FinalcialYearName"
        placeholder="Financial Year"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: FinalcialYearSubmitted && Year?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="FinalcialYearModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateFinalcialYear(FinancialForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>


<p-dialog
  [header]="'Update EMD'"
  [appendTo]="'body'"
  [visible]="EMDModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '50%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="EMDForm"
#EMDForm="ngForm"
novalidate
>

<!-- <div class="form-group">
  <div class="col-sm-6">
    <label class="control-label">EMD Amount In ₹<sup class="text-danger">*</sup></label>
    <input class="form-control"
    name="EMD"
    #EMD="ngModel"
    CompacctDigitonly="true"
    [(ngModel)]="EMDAmount"
    (change)="TenderEMDChange(EMDAmount)"
    (focus)="onFocusInEvent('EMDAmount',EMDAmount)"
    (focusout)="onFocusOutEvent('EMDAmount',EMDAmount)"
    placeholder="EMD Amount In ₹"
    autocomplete="off"
    [ngClass]="{'clearance': EMDSubmitted && EMD.errors?.required}" required>
   </div>
  <div class="col-sm-6">
    <label class="control-label">Deposit Date</label>
    <div class="input-group date">
      <div class="input-group-addon">
        <i class="fa fa-calendar"></i>
      </div>
   <ejs-datepicker name="Deposit" [(ngModel)]='EMDDepositDate' format='dd-MM-yyyy' ></ejs-datepicker>
  </div>
  </div>
  <div class="col-sm-6">
    <label class="control-label"
    > Deposit Type<sup class="text-danger">*</sup
  ></label>
  <select
  class="form-control"
  name="Buy"
  #Buy="ngModel"
  [(ngModel)]="ObjEMD.EMD_Amount_Deposit_Type"
  [ngClass]="{
    clearance: EMDSubmitted && Buy?.errors?.required
  }"
  required
>
  <option [ngValue]="undefined">Select</option>
  <option value="BG"> BG</option>
  <option value="FD"> FD</option>
  <option value="NEFT"> NEFT </option>
  <option value="RTGS"> RTGS </option>
</select>
  </div>

</div>
<div class="form-group" *ngIf="ObjEMD.EMD_Amount_Deposit_Type ==='BG'">
  <div class="col-sm-6">
    <label class="control-label"> BG Creation Date</label>
    <div class="input-group date">
      <div class="input-group-addon">
        <i class="fa fa-calendar"></i>
      </div>
     
      <ejs-datepicker name="BG" [(ngModel)]='EMDBGDate' format='dd-MM-yyyy' ></ejs-datepicker>
  </div>
  </div>
  <div class="col-sm-6">
    <label class="control-label">EMD BG Exp Date</label>
    <div class="input-group date">
      <div class="input-group-addon">
        <i class="fa fa-calendar"></i>
      </div>
     
      <ejs-datepicker name="BGExp" [(ngModel)]='EMDBGExpDate' format='dd-MM-yyyy' ></ejs-datepicker>
  </div>
  </div>
</div>
<div class="form-group"  *ngIf="ObjEMD.EMD_Amount_Deposit_Type ==='FD'">
  <div class="col-sm-6">
    <label class="control-label"> FD Amount</label>
    <input class="form-control"
          name="DAmount"
          #DAmount="ngModel"
          CompacctDigitonly="true"
          [(ngModel)]="FDAmount"
          (change)="TenderFDChange(FDAmount)"
          (focus)="onFocusInEvent('FDAmount',FDAmount)"
          (focusout)="onFocusOutEvent('FDAmount',FDAmount)"
          placeholder=" FD Amount"
          [ngClass]="{'clearance': EMDSubmitted && DAmount.errors?.required}" required>
  </div>
  <div class="col-sm-6">
    <label class="control-label"> FD Maturity Amount</label>
    <input class="form-control"
          name="Mature"
          #Mature="ngModel"
          CompacctDigitonly="true"
          [(ngModel)]="FDMaturityAmount"
          (change)="TenderFDMaturityChange(FDMaturityAmount)"
          (focus)="onFocusInEvent('FDMaturityAmount',FDMaturityAmount)"
          (focusout)="onFocusOutEvent('FDMaturityAmount',FDMaturityAmount)"
          placeholder=" FD Maturity Amount"
          [ngClass]="{'clearance': EMDSubmitted && Mature.errors?.required}" required>
  </div>
  <div class="col-sm-6">
    <label class="control-label"> FD Maturity Date</label>
    <div class="input-group date">
      <div class="input-group-addon">
        <i class="fa fa-calendar"></i>
      </div>
      <ejs-datepicker name="MatureDate" [(ngModel)]='EMDMatureDate' format='dd-MM-yyyy' ></ejs-datepicker>
   </div>
  </div>
</div>
<div class="form-group"   *ngIf="(ObjEMD.EMD_Amount_Deposit_Type ==='NEFT' || ObjEMD.EMD_Amount_Deposit_Type ==='RTGS')">
  <div class="col-sm-6">
    <label class="control-label"> {{ObjEMD.EMD_Amount_Deposit_Type}} Txn Date</label>
    <div class="input-group date">
      <div class="input-group-addon">
        <i class="fa fa-calendar"></i>
      </div>
    
      <ejs-datepicker name="NEFT" [(ngModel)]='EMDNEFTDate' format='dd-MM-yyyy' ></ejs-datepicker>
  </div>
  </div>
  <div class="col-sm-6">
    <label class="control-label">{{ObjEMD.EMD_Amount_Deposit_Type}} Txn No.</label>
    <input class="form-control"
          name="NEFTTxn"
          #NEFTTxn="ngModel"
          [(ngModel)]="ObjEMD.EMD_NEFT_TXN_No"
          placeholder=" NEFT Txn No"
          [ngClass]="{'clearance': EMDSubmitted && NEFTTxn.errors?.required}" required>
  </div>
</div> -->
<div class="col-sm-6">
  <label class="control-label">Payment Mode<sup class="text-danger">*</sup></label>
  <span (click)="Tender_Payment_Mode.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
  
  <select class="form-control"
  name="EMDPay"
  #EMDPay="ngModel"
  [(ngModel)]="ObjEMD.EMD_Payment_Mode"
  [ngClass]="{'clearance': EMDSubmitted && EMDPay.errors?.required}" required>
  <option  [ngValue]="undefined">Select</option>
<option *ngFor="let option of PaymentList" [ngValue]="option.Tender_Payment_Mode">
  {{option.Tender_Payment_Mode}}
  </option>
</select>
  </div>
 <div class="col-sm-6">
  <label class="control-label">EMD Acc Voucher No <sup class="text-danger">*</sup></label>
   
<span (click)="RedirectVoucherAcc()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Create</span>
  <input class="form-control"
          name="EMD_Transaction_Ref_No"
          #EMD_Transaction_Ref_No="ngModel"
          [(ngModel)]="ObjEMD.EMD_Transaction_Ref_No"
          placeholder="EMD Acc Voucher No"
          [ngClass]="{'clearance': EMDSubmitted && EMD_Transaction_Ref_No.errors?.required}" required>
</div>
<div class="col-sm-6">
  <label class="control-label">EMD Amount <sup class="text-danger">*</sup></label>
  <input class="form-control"
  name="UEMD"
  #UEMD="ngModel"
  CompacctDigitonly="true"
  [(ngModel)]="updateEMDAmount"
  (change)="TenderEMDChange(updateEMDAmount)"
  (focus)="onFocusInEvent('EMDAmount',updateEMDAmount)"
  (focusout)="onFocusOutEvent('EMDAmount',onFocusOutEvent)"
  placeholder="Payment Mode"
  autocomplete="off"
  [ngClass]="{'clearance': TenderFormSubmitted && UEMD.errors?.required}" required>
  </div>
<div class="col-sm-6">
  <label class="control-label">EMD Fees Payable To <sup class="text-danger">*</sup></label>
  <input class="form-control"
          name="EMDPayable"
          #EMDPayable="ngModel"
          [(ngModel)]="ObjEMD.EMD_Payable_To"
          placeholder="EMD Payable To"
          [ngClass]="{'clearance': EMDSubmitted && EMDPayable.errors?.required}" required>
</div>
 <div class="col-sm-6">
  <label class="control-label">EMD Fees Payable At <sup class="text-danger">*</sup></label>
  <input class="form-control"
          name="EMDPayableAt"
          #EMDPayableAt="ngModel"
          [(ngModel)]="ObjEMD.EMD_Payable_At"
          placeholder="EMD Payable At  "
          [ngClass]="{'clearance': EMDSubmitted && EMDPayableAt.errors?.required}" required>
</div>
<div class="col-sm-6">
  <label class="control-label">EMD Fees Exemption Allowed <sup class="text-danger">*</sup></label>
          <select class="form-control"
            name="Exemption"
            #Exemption="ngModel"
            [(ngModel)]="ObjEMD.T_Fee_exm_Allowed"
            placeholder="Tender Fee Exemption Allowed "
            [ngClass]="{'clearance': EMDSubmitted && Exemption.errors?.required}" required>
            <option  [ngValue]="undefined">Select</option>
        <option ngValue="Y">Yes</option>
        <option ngValue="N">No</option>
    </select>
</div>
<div class="col-sm-6">
  <label class="control-label">Date of Issue <sup class="text-danger">*</sup></label>
  <div class="input-group date">
    <div class="input-group-addon">
      <i class="fa fa-calendar"></i>
    </div>
    <input
      type="date"
      name="EMDissuedate1"
      #EMDissuedate1="ngModel"
      [ngModel]="EMDUpdateDeposit | date: 'yyyy-MM-dd'"
      (ngModelChange)="EMDUpdateDeposit = $event"
      class="form-control"
      [ngClass]="{'clearance': EMDSubmitted && EMDissuedate1.errors?.required}"
      required  />
  </div>
</div> 
<div class="col-sm-6">
  <label class="control-label">Date of Expiry <sup class="text-danger"></sup></label>
  <div class="input-group date">
    <div class="input-group-addon">
      <i class="fa fa-calendar"></i>
    </div>
    <input
      type="date"
      name="EMDexpirydate1"
      #EMDexpirydate1="ngModel"
      [ngModel]="EMDUpdateDepositDate | date: 'yyyy-MM-dd'"
      (ngModelChange)="EMDUpdateDepositDate = $event"
      class="form-control"
      [ngClass]="{'clearance': EMDSubmitted && EMDexpirydate1.errors?.required}"
        />
  </div>
</div> 
</form>
</div>
  <p-footer>
    <button
      type="button"
      (click)="EMDModal = false"
      class="btn btn-default"
    >
      CANCEL
    </button>
    <button
    type="submit"
    name="bill"
    class="btn btn-primary pull-right custombutton"
    (click)="SaveEMD(EMDForm.form.valid)"
    id="load2"
    [disabled]="Spinner"
  >
    <p-progressSpinner
      *ngIf="Spinner"
      [style]="{ width: '15px', height: '15px' }"
      strokeWidth="8"
      animationDuration=".5s"
    ></p-progressSpinner>
    <span
      *ngIf="!Spinner"
      class="glyphicon glyphicon-save"
    ></span
    >&nbsp;Update
    </button>
  </p-footer>
</p-dialog>
<p-dialog
  [header]="'Update Tender Fee'"
  [appendTo]="'body'"
  [visible]="TenderFeeModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="TenderFreeForm"
#TenderFreeForm="ngForm"
novalidate
>

 <div class="form-group">
  <!-- <div class="col-sm-12">
    <label class="control-label">Tender Fee Deposit Date</label>
    <div class="input-group date">
      <div class="input-group-addon">
        <i class="fa fa-calendar"></i>
      </div>
      <ejs-datepicker name="FeeDeposit" [(ngModel)]='FeeDepositDate' format='dd-MM-yyyy' ></ejs-datepicker>
  </div>
  </div>
  <div class="col-sm-12">
    <label class="control-label">Tender Fee Transaction No.</label>
    <input class="form-control"
    name="Transaction"
    #Transaction="ngModel"
    [(ngModel)]="ObjFee.T_Fee_NEFT_TXN_No"
    placeholder="Tender Transaction No"
    [ngClass]="{'clearance': TenderFeeSubmitted && Transaction.errors?.required}" required>
  </div> -->
        <div class="col-sm-6">
          <label class="control-label">Payment Mode <sup class="text-danger">*</sup></label>
          <span (click)="Tender_Payment_Mode.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
              
          <select class="form-control"
                        name="EMDAmountPay"
                        #EMDAmountPay="ngModel"
                        [(ngModel)]="ObjtenerFee.T_Fee_Payment_Mode"
                        [ngClass]="{'clearance': TenderFeeSubmitted && EMDAmountPay.errors?.required}" required>
                        <option  [ngValue]="undefined">Select</option>
                    <option *ngFor="let option of PaymentList" [ngValue]="option.Tender_Payment_Mode">
                        {{option.Tender_Payment_Mode}}
                        </option>
                </select>
        </div>
        <div class="col-sm-6">
          <label class="control-label">Tender Acc Voucher No <sup class="text-danger">*</sup></label>
          <span (click)="RedirectVoucherAcc()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Create</span>
          <input class="form-control"
                  name="updatePayableAt"
                  #updatePayableAt="ngModel"
                  [(ngModel)]="ObjtenerFee.T_Fee_Transaction_Ref_No"
                  placeholder="Tender Acc Voucher No  "
                  [ngClass]="{'clearance': TenderFeeSubmitted && updatePayableAt.errors?.required}">
        </div>
        <div class="col-sm-6">
          <label class="control-label">Tender Fee In ₹<sup class="text-danger">*</sup></label>
          <input class="form-control"
          name="updateFee"
          #updateFee="ngModel"
          CompacctDigitonly="true"
          [(ngModel)]="TFeeAmountupdate"
          (change)="TenderFeeUpdateChange(TFeeAmountupdate)"
          (focus)="onFocusInEvent('TFeeAmountupdate',TFeeAmountupdate)"
          (focusout)="onFocusOutEvent('TFeeAmountupdate',TFeeAmountupdate)"
          placeholder="Tender Fee  In ₹"
          autocomplete="off"
          [ngClass]="{'clearance': TenderFeeSubmitted && updateFee.errors?.required}" required>
        </div>

        <div class="col-sm-6">
          <label class="control-label">Fee Payable To <sup class="text-danger">*</sup></label>
          <input class="form-control"
                  name="updatePayable"
                  #updatePayable="ngModel"
                  [(ngModel)]="ObjtenerFee.T_Fee_Payable_To"
                  placeholder="Fee Payable To "
                  [ngClass]="{'clearance': TenderFeeSubmitted && updatePayable.errors?.required}" required>
        </div>
        <div class="col-sm-6">
          <label class="control-label">Fee Payable At <sup class="text-danger">*</sup></label>
          <input class="form-control"
                  name="UpdatefeePayableAt"
                  #UpdatefeePayableAt="ngModel"
                  [(ngModel)]="ObjtenerFee.T_Fee_Payable_At"
                  placeholder="Fee Payable At "
                  [ngClass]="{'clearance': TenderFeeSubmitted && UpdatefeePayableAt.errors?.required}" required>
        </div>
        <div class="col-sm-6">
          <label class="control-label">Tender Fees Exemption Allowed <sup class="text-danger">*</sup></label>
          <select class="form-control"
                  name="updateExemption"
                  #updateExemption="ngModel"
                  [(ngModel)]="ObjtenerFee.T_Fee_exm_Allowed"
                  placeholder="Tender Fee Exemption Allowed "
                  [ngClass]="{'clearance': TenderFeeSubmitted && updateExemption.errors?.required}" required>
                  <option  [ngValue]="undefined">Select</option>
              <option ngValue="Y">Yes</option>
              <option ngValue="N">No</option>
          </select>
        </div>
        <div class="col-sm-6">
          <label class="control-label">Date of Issue <sup class="text-danger">*</sup></label>
          <div class="input-group date">
            <div class="input-group-addon">
              <i class="fa fa-calendar"></i>
            </div>
            <input
              type="date"
              name="updateTenderissuedate1"
              #updateTenderissuedate1="ngModel"
              [ngModel]="TenderIssueDateupdate | date: 'yyyy-MM-dd'"
              (ngModelChange)="TenderIssueDateupdate = $event"
              class="form-control"
              [ngClass]="{'clearance': TenderFeeSubmitted && updateTenderissuedate1.errors?.required}"
              required  />
          </div>
        </div> 
        <div class="col-sm-6">
          <label class="control-label">Date of Expiry <sup class="text-danger"></sup></label>
          <div class="input-group date">
            <div class="input-group-addon">
              <i class="fa fa-calendar"></i>
            </div>
            <input
              type="date"
              name="updateTenderexpirydate1"
              #updateTenderexpirydate1="ngModel"
              [ngModel]="TenderExpiryDateupdate | date: 'yyyy-MM-dd'"
              (ngModelChange)="TenderExpiryDateupdate = $event"
              class="form-control"
              [ngClass]="{'clearance': TenderFeeSubmitted && updateTenderexpirydate1.errors?.required}"
                />
          </div>
        </div>

</div>
</form>
</div>
  <p-footer>
    <button
      type="button"
      (click)="TenderFeeModal = false"
      class="btn btn-default"
    >
      CANCEL
    </button>
    <button
    type="submit"
    name="bill"
    class="btn btn-primary pull-right custombutton"
    (click)="SaveFee(TenderFreeForm.form.valid)"
    id="load2"
    [disabled]="Spinner"
  >
    <p-progressSpinner
      *ngIf="Spinner"
      [style]="{ width: '15px', height: '15px' }"
      strokeWidth="8"
      animationDuration=".5s"
    ></p-progressSpinner>
    <span
      *ngIf="!Spinner"
      class="glyphicon glyphicon-save"
    ></span
    >&nbsp;Update
    </button>
  </p-footer>
</p-dialog>
<p-dialog
  [header]="'Update Performance Security'"
  [appendTo]="'body'"
  [visible]="PerformanceSecurityModel"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '50%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="PerformanceSecurity"
#PerformanceSecurity="ngForm"
novalidate
>

 <div class="form-group">
  <div class="col-sm-6">
    <label class="control-label">Payment Mode<sup class="text-danger">*</sup></label>
    <span (click)="Tender_Payment_Mode.toggle($event)" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
    
    <select class="form-control"
    name="EMDPay2"
    #EMDPay2="ngModel"
    [(ngModel)]="ObjPerformanceSecurity.PSD_Payment_Mode"
    [ngClass]="{'clearance': PerformanceFormSubmitted && EMDPay2.errors?.required}" required>
    <option  [ngValue]="undefined">Select</option>
<option *ngFor="let option of PaymentList" [ngValue]="option.Tender_Payment_Mode">
    {{option.Tender_Payment_Mode}}
    </option>
</select>
    </div>
   <div class="col-sm-6">
    <label class="control-label">Performance Acc Voucher No <sup class="text-danger">*</sup></label>
      
    <span (click)="RedirectVoucherAcc()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i>Create</span>
    <input class="form-control"
            name="PSD_Acc_Voucher_No"
            #PSD_Acc_Voucher_No="ngModel"
            [(ngModel)]="ObjPerformanceSecurity.PSD_Acc_Voucher_No"
            placeholder="Performance Acc Voucher No"
            [ngClass]="{'clearance': PerformanceFormSubmitted && PSD_Acc_Voucher_No.errors?.required}">
  </div>
  <div class ="col-sm-6">
    <label class="control-label">Performance Security Amount <sup class="text-danger">*</sup></label>
    <input class="form-control"
    name="UpdatePerformance_Security"
    #UpdatePerformance_Security="ngModel"
    CompacctDigitonly="true"
    [(ngModel)]="UpdatePerformanceSecurityAmount"
    (change)="PerformanceSecurityChange(UpdatePerformanceSecurityAmount)"
    (focus)="onFocusInEvent('PerformanceSecurityAmount',UpdatePerformanceSecurityAmount)"
    (focusout)="onFocusOutEvent('PerformanceSecurityAmount',UpdatePerformanceSecurityAmount)"
    placeholder="Payment Mode"
    autocomplete="off"
    [ngClass]="{'clearance': TenderFormSubmitted && UpdatePerformance_Security.errors?.required}" required> 
  </div>
   <div class="col-sm-6">
    <label class="control-label">Performance Security Fees Payable To  <sup class="text-danger">*</sup></label>
    <input class="form-control"
            name="PSD_Payable_To"
            #PSD_Payable_To="ngModel"
            [(ngModel)]="ObjPerformanceSecurity.PSD_Payable_To"
            placeholder="EMD Payable To"
            [ngClass]="{'clearance': PerformanceFormSubmitted && PSD_Payable_To.errors?.required}" required>
  </div>
   <div class="col-sm-6">
    <label class="control-label">Performance Security Fees Payable At <sup class="text-danger">*</sup></label>
    <input class="form-control"
            name="PSD_Payable_At"
            #PSD_Payable_At="ngModel"
            [(ngModel)]="ObjPerformanceSecurity.PSD_Payable_At"
            placeholder="EMD Payable At  "
            [ngClass]="{'clearance': PerformanceFormSubmitted && PSD_Payable_At.errors?.required}" required>
  </div>
  <div class="col-sm-6">
    <label class="control-label">Performance Security Fees Exemption Allowed  <sup class="text-danger">*</sup></label>
      <select class="form-control"
            name="PSD__Fees_Exemption_Allowed"
            #PSD__Fees_Exemption_Allowed="ngModel"
            [(ngModel)]="ObjPerformanceSecurity.PSD__Fees_Exemption_Allowed"
            placeholder="Tender Fee Exemption Allowed "
            [ngClass]="{'clearance': PerformanceFormSubmitted && PSD__Fees_Exemption_Allowed.errors?.required}" required>
            <option  [ngValue]="undefined">Select</option>
        <option ngValue="Y">Yes</option>
        <option ngValue="N">No</option>
    </select>
  </div>
  <div class="col-sm-6">
    <label class="control-label">Date of Issue <sup class="text-danger">*</sup></label>
    <div class="input-group date">
      <div class="input-group-addon">
        <i class="fa fa-calendar"></i>
      </div>
      <input
        type="date"
        name="Performanceissuedate1"
        #Performanceissuedate1="ngModel"
        [ngModel]="PerformanceIssueDateUpdate | date: 'yyyy-MM-dd'"
        (ngModelChange)="PerformanceIssueDateUpdate = $event"
        class="form-control"
        [ngClass]="{'clearance': PerformanceFormSubmitted && Performanceissuedate1.errors?.required}"
        required  />
    </div>
  </div> 
  <div class="col-sm-6">
    <label class="control-label">Date of Expiry <sup class="text-danger"></sup></label>
    <div class="input-group date">
      <div class="input-group-addon">
        <i class="fa fa-calendar"></i>
      </div>
      <input
        type="date"
        name="Performanceexpirydate1"
        #Performanceexpirydate1="ngModel"
        [ngModel]="PerformanceExpiryDateUpdate | date: 'yyyy-MM-dd'"
        (ngModelChange)="PerformanceExpiryDateUpdate = $event"
        class="form-control"
        [ngClass]="{'clearance': PerformanceFormSubmitted && Performanceexpirydate1.errors?.required}"
          />
    </div>
  </div> 

</div>


</form>
</div>
  <p-footer>
    <button
      type="button"
      (click)="PerformanceSecurityModel = false"
      class="btn btn-default"
    >
      CANCEL
    </button>
    <button
    type="submit"
    name="bill"
    class="btn btn-primary pull-right custombutton"
    (click)="SavePerformanceSecurity(PerformanceSecurity.form.valid)"
    id="load2"
    [disabled]="Spinner"
  >
    <p-progressSpinner
      *ngIf="Spinner"
      [style]="{ width: '15px', height: '15px' }"
      strokeWidth="8"
      animationDuration=".5s"
    ></p-progressSpinner>
    <span
      *ngIf="!Spinner"
      class="glyphicon glyphicon-save"
    ></span
    >&nbsp;Update
    </button>
  </p-footer>
</p-dialog>
<p-dialog
  [header]="'Update Bid Submission Date & Time'"
  [appendTo]="'body'"
  [visible]="SubmissionModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="SubmissionForm"
#SubmissionForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Bid Submission Date & Time<sup class="text-danger">*</sup
  ></label>
  <div class="input-group date">
    <div class="input-group-addon">
      <i class="fa fa-calendar"></i>
    </div>
    <input class="form-control"  [owlDateTimeTrigger]="bidsub"   name="bidsub_Submission"
    [(ngModel)]="SubmissionDate" [owlDateTime]="bidsub">
   <owl-date-time  [pickerMode]="'dialog'" [hour12Timer]='true' #bidsub></owl-date-time>
  </div>

  <!-- <div class="input-group date">
    <div class="input-group-addon">
      <i class="fa fa-calendar"></i>
    </div>
    <input
      type="datetime-local"
      name="submissiodate"
      #submissiodate="ngModel"
      [ngModel]="SubmissionDate"
      (ngModelChange)="GetSubmissionDate($event)"
      class="form-control"
      [ngClass]="{'clearance': SubmissionSubmitted && submissiodate.errors?.required}" required  />
  </div> -->
  </div>
</div>

</form>
</div>
  <p-footer>
    <button
      type="button"
      (click)="SubmissionModal = false"
      class="btn btn-default"
    >
      CANCEL
    </button>
    <button
    type="submit"
    name="bill"
    class="btn btn-primary pull-right custombutton"
    (click)="SaveSubmissionDate(SubmissionForm.form.valid)"
    id="load2"
    [disabled]="Spinner"
  >
    <p-progressSpinner
      *ngIf="Spinner"
      [style]="{ width: '15px', height: '15px' }"
      strokeWidth="8"
      animationDuration=".5s"
    ></p-progressSpinner>
    <span
      *ngIf="!Spinner"
      class="glyphicon glyphicon-save"
    ></span
    >&nbsp; Update
    </button>
  </p-footer>
</p-dialog>

<p-dialog
[header]="'BOQ Excel Data'"
[appendTo]="'body'"
[visible]="ExcelModalFlag"
[closeOnEscape]="true"
[closable]="false"
[modal]="true"
[responsive]="true"
[style]="{ width: '75%', minWidth: '200px' }"
style="text-align: center;"
[minY]="70"
[maximizable]="true"
[baseZIndex]="10000"
>
<div class="form-horizontal">
  <div class='label-t' style="font-weight: 600;text-align: center;padding: 15px;margin-top: 1em;height:auto;">
    {{TenderDetails ? TenderDetails['Tender_Name'] :'-'}}
  </div>
  <div class="table-responsive no-padding" id='boqExelID'>
    <table class="table bidopen table-bordered">
      <thead>
        <tr style="background-color:#3c8dbc;color:white;">
          <th
            class="text-center"
            style="vertical-align:middle"
          >
          SL NO.
          </th>
          <th
            class="text-center"
            style="vertical-align:middle; width:30%;"
          >
          DESCRIPTION OF ITEMS
          </th>
          <th
            class="text-center"
            style="vertical-align:middle"
          >
          ITEM CODE
          </th>
          <th
          class="text-center"
          style="vertical-align:middle"
        >
        QNTY./NOS.
        </th>

          <th class="text-center">
            UNIT
          </th>
          <th class="text-center">
            ESTIMATED RATE
          </th>
          <th class="text-center">
            AMOUNT
          </th>
        </tr>

      </thead>
      <tbody>
        <tr
          *ngFor="
            let d of BOQExcelList;
            let odd = odd;
            let index = index
          "
          [class.even]="odd"
        >
          <td>{{ d.Sl_No }}</td>
          <td style='width:30%;'>{{ d.Description_of_work }}</td>
          <td>{{ d.Item_Code ? d.Item_Code : '-'  }}</td>
          <td>{{ d.Qty ? d.Qty : '-' }}</td>
          <td>{{ d.Unit ? d.Unit : '-' }}</td>
          <td class='text-right'>{{ d.Estimated_Rate ? BidAmountView(d.Estimated_Rate) : '-'  }}</td>
          <td class='text-right'>{{ d.Amount ? BidAmountView(d.Amount) : '-'  }}</td>

        </tr>
        <tr>
          <td colspan='6' class='text-right'>Total</td>
          <td  class='text-right'>{{BOQExcelTotal}}</td>
        </tr>
        <tr>
          <td colspan='3' style="vertical-align:middle" class='text-right'>{{BOQExcelLess}}</td>
          <td colspan='3' style="vertical-align:middle" class='text-center'>
            <div class="input-group">
            <input class="form-control"
            name="Quoted1"
            #Quoted1="ngModel"
            [(ngModel)]="BOQExcelQuote"
            (change)='getTotalExcelData()'
            placeholder="Quoted Percentage" >
            <div class="input-group-addon"><b>%</b></div>
            <div class="input-group-addon btn btn-primary" (click)='saveQuote()'>Save</div>
          </div>
          </td>
          <td class='text-right' style="vertical-align:middle">{{BOQExcelLess === 'Less' ? '- ' +BOQExcelLessTotal :BOQExcelLessTotal}}</td>
        </tr>
        <tr>
          <td colspan='6' class='text-right'>Grand</td>
          <td  class='text-right'>{{BOQExcelGrandTotal}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<p-footer>
  <button
    type="button"
    (click)="PrintExcel()"
    class="btn btn-primary"
  >
  <i class="fa fa-fw fa-print" aria-hidden="true"></i> &nbsp;
    PRINT
  </button>
  <button
    type="button"
    (click)="ExcelModalFlag = false"
    class="btn btn-default"
  >
    CANCEL
  </button>

</p-footer>
</p-dialog>

<p-dialog
  [header]="'View Tender'"
  [appendTo]="'body'"
  [visible]="ViewFlag"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '75%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal" style="padding: 0 1em;" *ngIf="ViewFlag">
    <p-tabView [activeIndex]="tabIndexToView2">
     <p-tabPanel
        headerStyleClass="compacct-tabs"
        [header]="items2[0]"
        leftIcon="fa fa-fw fa-fax"
      >
      <div class="form-group">
        <div class="col-sm-4" style="margin-bottom: 1em;">
          <label class="control-label">Tender Organization</label> : {{GetOrgName(ObjTender.Tender_Org_ID)}}<br>
          <label class="control-label">Tender Type</label> : {{GetTypeName(ObjTender.Tender_Type_ID) }}
        </div>
        <div class="col-sm-4" style="margin-bottom: 1em;">
          <label class="control-label">Tender Reference Number</label> : {{ObjTender.Tender_Ref_No ? ObjTender.Tender_Ref_No : '-' }}<br>
          <label class="control-label">Tender Category</label> : {{GetCatName(ObjTender.Tender_Category_ID)}}
        </div>
        <div class="col-sm-4" style="margin-bottom: 1em;">
          <label class="control-label">Tender ID</label> : {{ObjTender.Tender_ID ? ObjTender.Tender_ID : '-' }} <br>
          <label class="control-label">Work Name</label> : {{ObjTender.Tender_Name}}
        </div>
        <div class="col-sm-4" style="margin-bottom: 1em;">
          <label class="control-label">Location :</label> {{ObjTender.Location ? ObjTender.Location : '-' }}<br>
          <label class="control-label">Tender  Value In ₹</label> : {{TenderAmount}}
        </div>
        <div class="col-sm-4" style="margin-bottom: 1em;">
          <label class="control-label">Pincode :</label> {{ObjTender.Pin_Code ?  ObjTender.Pin_Code : '-' }}<br>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-4" style="margin-bottom: 1em;">
          <!-- <label class="control-label">Information Form</label> : {{ObjTender.Enq_Source_ID ? GetInformName(ObjTender.Enq_Source_ID) : '-'}} <br> -->
          <label class="control-label">Bid Opening Date & Time :</label> {{ObjTender.Tender_Opening_Date !== "1900-01-01T00:00:00" ?  (ObjTender.Tender_Opening_Date | date: 'dd-MMM-yy  h:mm a') : '-'  }}<br>
          <label class="control-label">Bid Submission End Date & Time :</label>{{ObjTender.Tender_Closing_Date !== "1900-01-01T00:00:00" ?  (ObjTender.Tender_Closing_Date | date: 'dd-MMM-yy  h:mm a') : '-'  }}<br>
          <!-- <label class="control-label">Tender Amount</label> : {{ObjTender.Tender_Amount }}<br>
          -->
        </div>
        <div class="col-sm-4" style="margin-bottom: 1em;">
           <!-- <label class="control-label"  *ngIf="ObjTender.Enq_Source_ID === 246" >Website</label><span  *ngIf="ObjTender.Enq_Source_ID === 246">: <a style="cursor: pointer;" (click)="onNavigate(ObjTender.Enq_Source_Detail)" >{{ObjTender.Enq_Source_Detail}}</a> <br></span>
           <label class="control-label"  *ngIf="ObjTender.Enq_Source_ID === 236" >Name</label><span  *ngIf="ObjTender.Enq_Source_ID === 236"> {{ObjTender.Enq_Source_Detail}} <br></span> : -->
          <label class="control-label">Tender Published Date & Time :</label>{{ObjTender.Tender_Publish_Date !== "1900-01-01T00:00:00" ?  (ObjTender.Tender_Publish_Date | date: 'dd-MMM-yy  h:mm a') : '-'  }}<br>
         
        </div>
        <div class="col-sm-4" style="margin-bottom: 1em;">
          <!-- <label class="control-label"  *ngIf="ObjTender.Enq_Source_ID === 236" >Mobile</label><span  *ngIf="ObjTender.Enq_Source_ID === 236"> : {{ObjTender.Enq_Source_Detail}} <br></span> -->
          <!-- <label class="control-label">Remarks</label> : {{ObjTender.Remarks ?  ObjTender.Remarks : '-'}} <br> -->
          <label class="control-label">Period Of Work (Days)</label> : {{ObjTender.Period_Of_Work ?   PeriodOfWork : '-' }}
        </div>

      </div>
      <!-- <div class="form-group">
          <div class="col-sm-12" style="margin-bottom: 1em;">
            <label class="control-label">Elegibility:</label>
            <div  [innerHTML]='ObjTender.Elegibility'></div>
          </div>
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">Corrigendum</label> : {{ObjTender.Corrigendum ?  ObjTender.Corrigendum : '-'}} <br>
            
          </div>
          
          <div class="col-sm-4" style="margin-bottom: 1em;">
           
          </div>

      </div> -->

     </p-tabPanel>
     <p-tabPanel
      headerStyleClass="compacct-tabs"
      [header]="items2[1]"
      leftIcon="fa fa-fw fa-cubes"
    >
    <div class="form-group">
      <div >
        <h5 style="
            padding: 0.5em 1em;
            background: #c1c1c185;
            border-top: 5px solid #3c8dbc;
            border-bottom: 1px solid #c6c6c6;
            margin-top: 15px;
            ">
            <i class="fa fa-fw fa-cubes">
            </i> &nbsp;<strong>Tender Fee :</strong>
        </h5>
        <div  class="form-group">
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">Tender Fee In ₹ :</label>: {{TFeeAmount }} <br>
            <label class="control-label">Tender Fee Exemption Allowed  :</label>: {{ObjFee.T_Fee_exm_Allowed === 'Y' ?  'Yes' : 'No' }}
          </div>
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">Tender Fee Payable To :</label>: {{ObjFee.T_Fee_Payable_To ?  ObjFee.T_Fee_Payable_To : '-' }}
            <label class="control-label">Tender Fee Payment Mode:</label>: {{ObjFee.T_Fee_Payment_Mode ?  ObjFee.T_Fee_Payment_Mode : '-' }}
          </div>
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">Tender Fee Payable At :</label>: {{ObjFee.T_Fee_Payable_At ?  ObjFee.T_Fee_Payable_At : '-' }}<br>
            <label class="control-label">Tender Transaction Ref No.</label> : {{ObjFee.T_Fee_Transaction_Ref_No}} <br>
          </div>
        </div>
        <div  class="form-group">
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">Tender Fee Issue Date</label> : {{ObjFee.T_Fee_Date_of_Issue  !== "1900-01-01T00:00:00" ?  (ObjTender.T_Fee_Date_of_Issue | date: 'dd-MMM-yy  h:mm a') : '-'}}
         
          </div>
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">Tender Fee Expiry Date</label> : {{ObjFee.T_Fee_Date_of_Expiry !== "1900-01-01T00:00:00" ?  (ObjTender.T_Fee_Date_of_Expiry | date: 'dd-MMM-yy  h:mm a') : '-'}}
          </div>
        </div>
      </div>

    </div>
    <div class="form-group">
      <div >
        <h5 style="
            padding: 0.5em 1em;
            background: #c1c1c185;
            border-top: 5px solid #3c8dbc;
            border-bottom: 1px solid #c6c6c6;
            margin-top: 15px;
            ">
            <i class="fa fa-fw fa-ticket">
            </i> &nbsp;<strong>EMD :</strong>
        </h5>


        <div class="form-group">
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">EMD Amount In ₹</label> : {{EMDAmount}}<br>
            <label class="control-label">EMD Acc Voucher No </label> : {{ObjEMD.EMD_Transaction_Ref_No ?  ObjEMD.EMD_Transaction_Ref_No : '-' }}

          </div>
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">EMD Exemption Allowed</label> : {{ObjEMD.EMD_Fees_Exemption_Allowed === 'Y' ?  'Yes' : 'No' }}<br>
            <label class="control-label">EMD Payment Mode  </label> : {{ObjEMD.EMD_Payment_Mode ?  ObjEMD.EMD_Payment_Mode : '-' }}
          </div>
          <div class="col-sm-4" style="margin-bottom: 1em;">
             <label class="control-label">EMD Payable At  </label> : {{ObjEMD.EMD_Payable_At ?  ObjEMD.EMD_Payable_At : '-' }}
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-4" style="margin-bottom: 1em;">
            <label class="control-label">EMD Date of Expiry</label> : {{ObjEMD.EMD_Date_of_Expiry !== "1900-01-01T00:00:00" ?  (ObjTender.EMD_Date_of_Expiry | date: 'dd-MMM-yy  h:mm a') : '-'}}
            
           
          </div>
          <div class="col-sm-4"  style="margin-bottom: 1em;" >
            <label class="control-label">EMD Date of Issue</label> : {{ObjEMD.EMD_Date_of_Issue !== "1900-01-01T00:00:00" ?  (ObjTender.EMD_Date_of_Issue | date: 'dd-MMM-yy  h:mm a') : '-'}}
          </div>
          <!-- <div class="col-sm-4" style="margin-bottom: 1em;" *ngIf="ObjEMD.EMD_Amount_Deposit_Type ==='FD'">
            <label class="control-label">EMD FD Amount</label> : {{ObjEMD.EMD_FD_Mature_Amount}} <br>
            <label class="control-label">EMD FD Maturity Amount</label> : {{ObjEMD.EMD_FD_Mature_Amount}} <br>
            <label class="control-label">EMD FD Maturity Date</label> : {{ObjEMD.EMD_FD_Mature_Date | date: 'dd-MMM-yy'}}
          </div> -->
          <!-- <div class="col-sm-4" style="margin-bottom: 1em;" *ngIf="(ObjEMD.EMD_Amount_Deposit_Type ==='NEFT' || ObjEMD.EMD_Amount_Deposit_Type ==='RTGS')">
            <label class="control-label">EMD NEFT Txn Date</label> : {{ObjEMD.EMD_NEFT_Txn_Date | date: 'dd-MMM-yy'}} <br>
            <label class="control-label">EMD NEFT Txn No.</label> : {{ObjEMD.EMD_NEFT_TXN_No}}

          </div> -->
        </div>
      </div>
    </div>
     </p-tabPanel>
     <p-tabPanel
      headerStyleClass="compacct-tabs"
      [header]="items2[2]"
      leftIcon="fa fa-fw fa-file-pdf-o"
    >
    <div style="padding: 10px;">
      <div class="table-responsive no-padding">
        <table class="table table-bordered">
          <thead>
            <tr style="background-color:#3c8dbc;color:white;">
              <th>Sl No</th>
              <th>Name</th>
              <th>File</th>
              <th>Remarks</th>

            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let d of DocumentList;let odd = odd;let index = index" [class.even]="odd">
              <td>{{ index + 1 }}</td>
              <td>{{ d.Doc_Name }}</td>
              <td  class="text-center"> <a [href]="d.URL_Name"  style="display: block;" target="_blank" ><img src="/PDF_Logo/PDF-logo.png" class='img-rounded pdf' style="width:25px; height:25px " alt="PDF"></a></td>
              <td>{{ d.Remarks ? d.Remarks : "-" }}</td>
            </tr>
          </tbody>
        </table>
      </div>
  </div>
     </p-tabPanel>
      <p-tabPanel
      headerStyleClass="compacct-tabs"
      [header]="items2[3]"
      leftIcon="fa fa-fw fa-fire"
      >
        <div style="padding: 10px;">
          <div class="table-responsive no-padding">
            <table class="table table-bordered">
              <thead>
                <tr style="background-color:#3c8dbc;color:white;">
                  <th>Task ID</th>
                  <th>Task Subject</th>
                  <th>Priority</th>
                  <th>Intimation To</th>
                  <th>Due Date</th>
                  <th>Status</th>

                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let col of TaskList;let odd = odd;let index = index" [class.even]="odd">
                  <td>{{ col.Task_ID }}</td>
                  <td>{{ col.Task_Subject }}</td>
                  <td>{{ col.Priority }}</td>
                  <td>{{ col.Intimation_To }}</td>
                  <td>{{ col.Due_On  | date: 'dd-MMM-yy' }}</td>
                  <td>{{ col.Task_Status }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </p-tabPanel>
</p-tabView>
<!-- <form
name="StatusForm"
#StatusForm="ngForm"
novalidate
>

</form> -->
</div>
  <p-footer>
    <button
      type="button"
      (click)="CloseViewModal()"
      class="btn btn-default"
    >
      CANCEL
    </button>
  </p-footer>
</p-dialog>
<!-- ESITMATE -->
<p-dialog
  [header]="'Estimate Management'"
  [appendTo]="'body'"
  [visible]="EstimateModalFlag"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '75%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<!-- <div class="form-horizontal">
  <form name="EstimateForm" #EstimateForm="ngForm" novalidate>
  <div class="form-group" style="padding: 0 1em;" >
    <div class="col-sm-6">
      <label class="control-label">Estimate Group Name&nbsp;<span class="text-danger" >*</span></label>
      <span (click)="ToggleEstimateGrp()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
    
      <p-dropdown
      [options]="EstimateGroupList"
      name="EstimateGroup"
      [(ngModel)]="ObjEstimate.Budget_Group_ID"
      [showClear]="true"
      [emptyFilterMessage]="' No Estimate Group Found'"
      (onChange)="EstimateGroupChange(ObjEstimate.Budget_Group_ID)"
      [filter]="true"
      filterBy="label,value.name"
      [placeholder]="'Select Estimate Group'"
      [virtualScroll]="true"
      itemSize="30"
      #EstimateGroup="ngModel"
      [styleClass]="
      EstimateInfoSubmitted && EstimateGroup.errors?.required? 'clearance': ''"
      [required]="true"
    >
    </p-dropdown>
    </div>
    <div class="col-sm-6">
      <label class="control-label">Estimate Sub Group Name&nbsp;<span class="text-danger" >*</span></label>
      <span (click)="ToggleEstimateSubGrp()" *ngIf='ObjEstimate.Budget_Group_ID' class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
      <p-dropdown
      [options]="EstimateSubGroupList"
      name="EstimateSubGroup"
      [(ngModel)]="ObjEstimate.Budget_Sub_Group_ID"
      [showClear]="true"
      [emptyFilterMessage]="' No Estimate Sub Group Found'"
      (onChange)="EstimateSubGroupChange(ObjEstimate.Budget_Sub_Group_ID)"
      [filter]="true"
      filterBy="label,value.name"
      [placeholder]="'Select Estimate Sub Group'"
      [virtualScroll]="true"
      itemSize="30"
      #EstimateSubGroup="ngModel"
      [styleClass]="
      EstimateInfoSubmitted && EstimateSubGroup.errors?.required? 'clearance': ''"
      [required]="true"
    >
    </p-dropdown>
    </div>
    <div class="col-sm-3">
      <label class="control-label">Enter Product Details</label><br />
      <p-radioButton name="groupname" #groupname='ngModel' value="No" (onClick)='Cleardata3()' label="No" [(ngModel)]="ObjEstimate.Product_Req"></p-radioButton> &nbsp;&nbsp;&nbsp;
      <p-radioButton name="groupname" #groupname='ngModel' value="Yes" (onClick)='Cleardata3()' label="Yes" [(ngModel)]="ObjEstimate.Product_Req"></p-radioButton>
                                      
    </div>
    <div class="col-sm-6" *ngIf='ObjEstimate.Product_Req ==="Yes"'>
      <label class="control-label" style="margin-top: -1px;">Product&nbsp;<span class="text-danger" >*</span></label>
      <p-dropdown
      [options]="EstimateGroupProductList"
      name="EstimateGroupProduct"
      [(ngModel)]="ObjEstimate.Product_ID"
      [showClear]="true"
      [emptyFilterMessage]="' No Product Found'"
      (onChange)="EstimateGroupProductChange(ObjEstimate.Product_ID)"
      [filter]="true"
      filterBy="label,value.name"
      [placeholder]="'Select Product'"
      [virtualScroll]="true"
      itemSize="30"
      #EstimateGroupProduct="ngModel"
      [styleClass]="
      EstimateInfoSubmitted && EstimateGroupProduct.errors?.required? 'clearance': ''"
      [required]="true"
    >
    </p-dropdown>
    </div>
    <div class="col-sm-3">
      <label class="control-label">Qty<sup class="text-danger">*</sup></label >
      <input
        class="form-control"
        name="Qty"
        #Qty="ngModel"
        [(ngModel)]="ObjEstimate.Qty"
        (change)="CalculateEstimateAmount()"
        CompacctDigitonly="true"
        [ngClass]="{clearance: EstimateInfoSubmitted && Qty?.errors?.required}"
        placeholder="Qty"
        [required]="true"
      />
    </div>
    <div class="col-sm-3">
      <label class="control-label">UOM<sup class="text-danger">*</sup></label>
      <input
        class="form-control"
        name="unit"
        #unit="ngModel"
        [(ngModel)]="ObjEstimate.UOM"
        [ngClass]="{clearance: EstimateInfoSubmitted && unit?.errors?.required}"
        placeholder="Unit"
        [required]="true"
      />
    </div>
    <div class="col-sm-3">
      <label class="control-label">Rate<sup class="text-danger">*</sup></label>
      <input
        class="form-control"
        name="rate"
        type="text"
        [ngClass]="{clearance:EstimateInfoSubmitted && rate?.errors?.required }"
        #rate="ngModel"
        [(ngModel)]="ObjEstimate.Rate"
        (change)="CalculateEstimateAmount()"
        CompacctDigitonly="true"
        [required]="true"
        placeholder="Rate"
      />
    </div>
    <div class="col-sm-3">
      <label class="control-label"> Amount<sup class="text-danger">*</sup></label>
      <input
        class="form-control"
        name="tolamt"
        #tolamt="ngModel"
        (change)="CalculateEstimateAmount()"
        [(ngModel)]="ObjEstimate.Amount"
        placeholder="Total Amount"
        [disabled]='true'
      />
    </div>
    <div class="col-sm-3">
      <button class="btn btn-primary custombutton"
      (click)="AddEstimate(EstimateForm.form.valid)">    
      <span class="glyphicon glyphicon-add"></span>&nbsp;Add
  </button>
    </div>
  </div>
  <div class="form-group" style="margin-top:2.5em;padding: 0 1em;" >
    <div class="table-responsive no-padding">
     
   <table  class="table table-bordered">
     <thead>
    <tr style="background-color:#3c8dbc;color:white;" >
        <th>SL No.</th>
        <th>Group Name</th>
        <th>SL No.</th>
        <th>Sub Group Name</th>
        <th>Product</th>
        <th >Qty</th>
        <th>UOM</th>
        <th>Rate</th>
        <th>AMOUNT</th>
     </tr>
    </thead>
    <tbody *ngIf='ShowAddedEstimateProductList.length'>
      <ng-container *ngFor="let data of ShowAddedEstimateProductList;let h =index;">
        
      <tr *ngIf='h === 0'>
        <td class="text-right" colspan="9"><span class="badge bg-yellow">Total : {{data.Total_Amt}}</span></td>
      </tr>    
          <tr>
            <td style="vertical-align: middle;text-align: center;" [attr.rowspan]="data.No_of_Child + 1">{{data.Sl_No}}</td>
            <td style="vertical-align: middle;text-align: center;" [attr.rowspan]="data.No_of_Child + 1">{{data.Root_Parent_Name}}</td>
          <ng-container *ngFor="let rowData of data.items; let i= index;">
              <td style="vertical-align: middle;text-align: center;" *ngIf="i === 0" [attr.rowspan]="rowData.items.length">{{rowData.Sl_No}}</td>
              <td style="vertical-align: middle;text-align: center;" *ngIf="i === 0" [attr.rowspan]="rowData.items.length">{{rowData.Child_Parent_Name}}</td>
                <ng-container *ngFor="let rowData2 of rowData.items;let k= index;" >
                  <td  *ngIf="i===0 && k === 0">{{ rowData2.Product_Description ? rowData2.Product_Description : '-' }}</td>
                  <td  *ngIf="i===0 && k === 0">{{ rowData2.Qty ? rowData2.Qty : '-' }}</td>
                  <td  *ngIf="i===0 && k === 0">{{ rowData2.UOM ? rowData2.UOM : "-" }}</td>
                  <td  *ngIf="i===0 && k === 0">{{ rowData2.Rate ? rowData2.Rate : "-" }}</td>
                  <td  *ngIf="i===0 && k === 0">{{ rowData2.Amount ? rowData2.Amount : "-" }}</td>  
                  
                </ng-container> 
          </ng-container>
        </tr>
        <ng-container *ngFor="let rowData of data.items;let k= index; ">
          <ng-container *ngFor="let rowData2 of rowData.items; let i= index;">
            <ng-container *ngIf="k!=0">
              <tr>
              <td style="vertical-align: middle;text-align: center;" *ngIf="k!=0" name='ddd' [attr.rowspan]="rowData.items.length + 1">{{rowData.Sl_No}}</td>
              <td style="vertical-align: middle;text-align: center;" *ngIf="k!=0" [attr.rowspan]="rowData.items.length + 1">{{rowData.Child_Parent_Name}}</td>
              <td>{{ rowData2.Product_Description ? rowData2.Product_Description : '-' }}</td>
              <td>{{ rowData2.Qty ? rowData2.Qty : '-' }}</td>
              <td>{{ rowData2.UOM ? rowData2.UOM : "-" }}</td>
              <td>{{ rowData2.Rate ? rowData2.Rate : "-" }}</td>
              <td>{{ rowData2.Amount ? rowData2.Amount : "-" }}</td>  
            </tr>
            <tr>
              <td class="text-right" colspan="9"><span class="badge bg-blue">Sub Group Total :  {{rowData.Total_Sub_Group_Amt}}</span></td>
            </tr>
            </ng-container>
            <ng-container *ngIf="i!=0">
              <td style="vertical-align: middle;text-align: center;" *ngIf="k!=0" name='ddd' [attr.rowspan]="rowData.items.length + 1">{{rowData.Sl_No}}</td>
              <td style="vertical-align: middle;text-align: center;" *ngIf="k!=0" [attr.rowspan]="rowData.items.length + 1">{{rowData.Child_Parent_Name}}</td>
              <tr >
                <td>{{ rowData2.Product_Description ? rowData2.Product_Description : '-' }}</td>
                <td>{{ rowData2.Qty ? rowData2.Qty : '-' }}</td>
                <td>{{ rowData2.UOM ? rowData2.UOM : "-" }}</td>
                <td>{{ rowData2.Rate ? rowData2.Rate : "-" }}</td>
                <td>{{ rowData2.Amount ? rowData2.Amount : "-" }}</td>  
                </tr>
                <tr>
                  <td class="text-right" colspan="9"><span class="badge bg-blue">Sub Group Total :  {{rowData.Total_Sub_Group_Amt}}</span></td>
                </tr>
            </ng-container>
           
          </ng-container>  
      </ng-container>  
      <tr>
        <td class="text-right" colspan="9"><span class="badge bg-green">Group Total : {{data.Total_Group_Amt}}</span></td>
      </tr>
  </ng-container>

      
    </tbody>
   </table>
    
    </div>
  </div>
    

  </form>
</div>
  <p-footer>
    <button
      type="button"
      (click)="EstimateModalFlag = false"
      class="btn btn-default"
    >
      CANCEL
    </button>
    <button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="SaveEsitimate()"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp; SAVE
</button>
  </p-footer> -->
 <div class="form-horizontal">
  <div class="form-group" style="margin-top:1em;padding: 0 1em;" >
    <div class="table-responsive no-padding productTable">
      <p-table #dt78 [value]="EstimateAllData"
               [globalFilterFields]="['Tender_Name','Tender_Amount','Tender_Closing_Date','Lead_Status']"
               [paginator]="EstimateAllData.length ? true:false" [rows]="10" [rowHover]="true"
               [autoLayout]="true" sortMode="multiple"
               [rowsPerPageOptions]="[10,20,30]"
               [rowHover]="true">
                 <ng-template pTemplate="caption">
                     <div class="row">
                          <div class="col-sm-3 pull-right" style="text-align: right;">
                                  <input type="text" pInputText size="50" placeholder="Search" (input)="dt78.filterGlobal($event.target.value, 'contains')" class="searchInput form-control">
                              </div>
                              <div class="col-sm-3 pull-right" style="text-align: right;">
                                <button
                                type="submit"
                                name="bill"
                                class="btn btn-success"
                                (click)="addEstimate()"
                                ><span class="glyphicon glyphicon-plus"></span>&nbsp;ADD</button>
                                <button class="btn btn-primary pull-left" 
                                (click)="GetestimateAllData()">
                                <i class="fa fa-fw  fa-refresh"></i>
                              </button>
                            </div>
                            <!-- <div class="col-sm-2 pull-left" style="text-align: left;">
                              <button class="btn btn-primary " 
                              (click)="GetestimateAllData()">
                              <i class="fa fa-fw  fa-refresh"></i>
                            </button>
                          </div> -->
                     </div>

                  </ng-template>
                  <ng-template pTemplate="header">
                      <tr>
                          <th style="width:5em">Action</th>
                          <th>Project</th>
                          <th>Site</th>
                          <th>Total Amount</th>
                       </tr>
                  </ng-template>
                  <ng-template pTemplate="body" let-col let-index="rowIndex">
                      <tr>

                          <td>
                                  <div class="dropdown">
                                      <button class="btn btn-default btn-sm tableButton dropdown-toggle"
                                          type="button" data-toggle="dropdown" style="height:27px">
                                          <i class="fa fa-fw fa-bars"></i>
                                          <span class="caret"></span>
                                      </button>
                                      <ul class="dropdown-menu">
                                         <li>
                                              <a (click)="edit(col)">
                                                  <i class="fa fa-fw fa-ticket"></i>
                                                  Edit
                                              </a>
                                          </li>
                                        </ul>
                                  </div>
                          </td>
                          <td>{{col.Project_Description ? col.Project_Description : '-'}}</td>
                          <td>{{col.Site_Description ? col.Site_Description : '-'}}</td>
                          <td>{{col.Estimate_Amt ? col.Estimate_Amt : '-' }}</td>
                        </tr>
                        <tr *ngIf='(index + 1)  === EstimateAllData.length'>
                          <td colspan="3" class="text-right">Total</td>
                          <td >{{totalAmt()}}</td>
                        </tr>
                  </ng-template>
                  <ng-template  pTemplate="paginatorright" let-state>
                          Showing {{state.first+1}} of {{(state.first+1) + state.rows}} of  {{state.totalRecords}}
                  </ng-template>
          </p-table>
      </div>
    </div>
 </div>
 <p-footer>
  <button
    type="button"
    (click)="EstimateModalFlag = false"
    class="btn btn-default"
  >
    CANCEL
  </button>
</p-footer>
</p-dialog>

<p-dialog
  [header]="'Create Estimate Group'"
  [appendTo]="'body'"
  [visible]="EstimateGrpModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="EstimategrForm"
#EstimategrForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Estimate Group Name<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="EstimateGrpName"
        placeholder="Estimate Group Name"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: EstimateGrpSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="EstimateGrpModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateEstimateGrp(EstimategrForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Estimate Sub Group'"
  [appendTo]="'body'"
  [visible]="EstimateSubGrpModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="EstimateSubgrForm"
#EstimateSubgrForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Estimate Group Sub Name<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="EstimateSubGrpName"
        placeholder="Estimate Group Sub Name"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: EstimateSubGrpSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="EstimateGrpModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateEstimateSubGrp(EstimateSubgrForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>

<p-dialog
  [header]="'Create Information'"
  [appendTo]="'body'"
  [visible]="InformationModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="InformationForm"
#InformationForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Information<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="nameInformation"
        #nameInformation="ngModel"
        [(ngModel)]="InformationName"
        placeholder="Information"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: DivisionSubmitted && nameInformation?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="InformationModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateInformation(InformationForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>