<p-toast key="compacct-toast" baseZIndex="99999"></p-toast>
<!-- <p-toast position="center" key="c" (onClose)="onReject()" [modal]="true" [autoZIndex]="true">
    <ng-template let-message pTemplate="message">
        <div style="text-align: center">
            <i class="pi pi-exclamation-triangle" style="font-size: 3em"></i>
            <h3>{{message.summary}}</h3>
            <p>{{message.detail}}</p>
        </div>
        <div class="ui-g ui-fluid">
            <div class="ui-g-6">
                <button type="button" pButton (click)="onConfirm()" label="Yes" class="ui-button-success"></button>
            </div>
            <div class="ui-g-6">
                <button type="button" pButton (click)="onReject()" label="No" class="ui-button-secondary"></button>
            </div>
        </div>
    </ng-template>
</p-toast> -->

        <div class="row">
            <div class="col-xs-12">
                <div class="box box-primary">
                    <div class="form-horizontal">
                        <div class="box-body">
                                <p-tabView [activeIndex]="tabIndexToView" (onChange)="TabClick($event)">
                                        <p-tabPanel headerStyleClass="compacct-tabs" [header]="items[0]" leftIcon="glyphicon glyphicon-list-alt" >
                                          <form name="SerachForm" #SerachForm="ngForm" novalidate>
                                            <div class="form-group">

                                              <div class="col-sm-4">
                                                      <label class="control-label">Name of the Road<sup class="text-danger">*</sup></label>
                                                      <p-dropdown [options]="RoadList"
                                                            name="product"
                                                            [(ngModel)]="ObjSearch.Project_Short_Name"
                                                            [showClear]="true"
                                                            [emptyFilterMessage]="' No Road Found'"
                                                            [filter]="true"
                                                            filterBy="label,value.name"
                                                            [placeholder]="'Select Road'"
                                                            [virtualScroll]="true"
                                                            itemSize="30"
                                                            #product="ngModel"
                                                            [styleClass]="SerachFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                            [required]="true">
                                                        </p-dropdown>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Agreement Number<sup class="text-danger"></sup></label>
                                                <input  type="text" class="form-control"
                                                name="Agreement_Number"
                                                #Agreement_Number="ngModel"
                                                [(ngModel)]="ObjSearch.Agreement_Number"
                                                placeholder="Agreement Number" >
                                               </div>

                                              <div class="col-sm-3">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="Search(SerachForm.form.valid)"
                                                        id="load"
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-search"></span>&nbsp;Search
                                                </button>
                                              </div>
                                            </div>
                                          </form>
                                          <br>
                                          <div class="table-responsive no-padding productTable">
                                          <p-table #dt [value]="ProjectList"
                                                   [globalFilterFields]="['Tender_Name','Tender_Amount','Tender_Closing_Date','Lead_Status']"
                                                   [paginator]="ProjectList.length ? true:false" [rows]="10" [rowHover]="true"
                                                   [autoLayout]="true" sortMode="multiple"
                                                   [rowsPerPageOptions]="[10,20,30]"
                                                   [rowHover]="true">
                                                     <ng-template pTemplate="caption">
                                                         <div class="row">
                                                              <div class="col-sm-3 pull-right" style="text-align: right;">
                                                                      <input type="text" pInputText size="50" placeholder="Search" (input)="dt.filterGlobal($event.target.value, 'contains')" class="searchInput form-control">
                                                                  </div>
                                                         </div>

                                                      </ng-template>
                                                      <ng-template pTemplate="header">
                                                          <tr>
                                                              <th style="width:5em">Action</th>
                                                              <th>Name of the Road</th>
                                                              <th>Agreement No</th>
                                                              <th>Date of Commencement</th>
                                                              <th>Date of Completion</th>
                                                          </tr>
                                                      </ng-template>
                                                      <ng-template pTemplate="body" let-col>
                                                          <tr>

                                                              <td>
                                                                      <div class="dropdown">
                                                                          <button class="btn btn-default btn-sm tableButton dropdown-toggle"
                                                                              type="button" data-toggle="dropdown" style="height:27px">
                                                                              <i class="fa fa-fw fa-bars"></i>
                                                                              <span class="caret"></span>
                                                                          </button>
                                                                          <ul class="dropdown-menu">
                                                                             <li>
                                                                                  <a (click)='EntryJob(col)'>
                                                                                      <i class="fa fa-fw fa-ticket"></i>
                                                                                      Entry DPR
                                                                                  </a>

                                                                          </ul>
                                                                      </div>
                                                              </td>
                                                              <td>{{col.Tender_Name ? col.Tender_Name : '-'}}</td>
                                                              <td>{{col.Agreement_Number ? col.Agreement_Number : '-'}}</td>
                                                              <td>{{col.Date_of_Commencement  | date: 'dd-MMM-yy' }}</td>
                                                              <td>{{col.Date_of_Completion  | date: 'dd-MMM-yy'}}</td>
                                                          </tr>
                                                      </ng-template>
                                                      <ng-template  pTemplate="paginatorright" let-state>
                                                              Showing {{state.first+1}} of {{(state.first+1) + state.rows}} of  {{state.totalRecords}}
                                                      </ng-template>
                                              </p-table>
                                          </div>
                                        </p-tabPanel>
                                        <p-tabPanel headerStyleClass="compacct-tabs" [header]="items[1]" *ngIf="CreateModalFlag" leftIcon="glyphicon glyphicon-floppy-save">
                                          <form name="DailyJobForm" #DailyJobForm="ngForm" novalidate>
                                            <div class="form-group">
                                              <div class="col-sm-3">
                                                <label class="control-label">Date<sup class="text-danger">*</sup></label>
                                                <div class="input-group date">
                                                  <div class="input-group-addon">
                                                    <i class="fa fa-calendar"></i>
                                                  </div>
                                                  <input
                                                  type="date"
                                                  name="ISDDepositdate1"
                                                  min="{{ YESTERDAY |date:'yyyy-MM-dd'}}"
                                                  max="{{ TODAY |date:'yyyy-MM-dd'}}"
                                                  #ISDDepositdate1="ngModel"
                                                  [disabled]='DetailList.length'
                                                  [ngModel]="JobDate | date: 'yyyy-MM-dd'"
                                                  (ngModelChange)="GetJobDate($event)"
                                                  class="form-control"
                                                />
                                                </div>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Type of Works<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Date_Type"
                                                        #Date_Type="ngModel"
                                                        [(ngModel)]="ObjJobData.Type_of_Work"
                                                        (change)='ChangeTypeOfWork(ObjJobData.Type_of_Work)'
                                                        [disabled]='DetailList.length'
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Date_Type.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="Road Works">Road Works</option>
                                                    <option Value="Bridges and Culverts Works">Bridges and Culverts Works</option>
                                                    <option Value="Road Works (Concrete)">Road Works (Concrete)</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3"  *ngIf="ObjJobData.Type_of_Work ==='Bridges and Culverts Works'" >
                                                <label class="control-label">Select Structure Details<sup class="text-danger">*</sup></label>
                                                <span (click)="ToggleStructureType()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <select class="form-control"
                                                        name="_Type_Structure"
                                                        #_Type_Structure="ngModel"
                                                        [(ngModel)]="ObjJobData.Structure_Details"
                                                        (change)="ChangeStructureDetails(ObjJobData.Structure_Details)"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && _Type_Structure.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of StructureTypeDetailList" [ngValue]="option.Structure_ID">
                                                          {{option.structure_at_km +'/'+ option.structure_at_meter +' Km. - '+ option.Structured_Type}}
                                                          </option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3"  *ngIf="ObjJobData.Type_of_Work ==='Road Works (Concrete)'" >
                                                <label class="control-label">Select Structure Details<sup class="text-danger">*</sup></label>
                                                <span (click)="ToggleStructureType()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <select class="form-control"
                                                        name="_Type_Structure"
                                                        #_Type_Structure="ngModel"
                                                        [(ngModel)]="ObjJobData.Structure_Details"
                                                        (change)="ChangeStructureDetails(ObjJobData.Structure_Details)"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && _Type_Structure.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of StructureTypeDetailList2" [ngValue]="option.Concrete_Structure_ID">
                                                          {{option.Structure_Name +' - '+option.Chainage_From_km +'/'+ option.Chainage_From_meter +' to '+option.Chainage_To_km +'/'+ option.Chainage_To_meter+' Km.'}}
                                                          </option>

                                                </select>
                                              </div>
                                              <div class="col-sm-4"  *ngIf="ObjJobData.Type_of_Work && ObjJobData.Date">
                                                <label class="control-label">Main Item Code&nbsp;<span class="text-danger">*</span></label>
                                                <p-dropdown [options]="ItemList"
                                                            name="product"
                                                            [(ngModel)]="SelectedItemCode"
                                                            [showClear]="true"
                                                            [emptyFilterMessage]="' No Item Code Found'"
                                                            (onChange)="ItemCodeChange(SelectedItemCode)"
                                                            [filter]="true"
                                                            filterBy="label,value.name"
                                                            [placeholder]="'Select Item Code'"
                                                            [virtualScroll]="true"
                                                            itemSize="30"
                                                            #product="ngModel"
                                                            [styleClass]="DailyJobFormFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                            [required]="true">
                                                        </p-dropdown>
                                              </div>
                                              <div class="col-sm-3" *ngIf="BridgeItemList.length">
                                                <label class="control-label">Sub-Item Code&nbsp;<span class="text-danger">*</span></label>
                                                <p-dropdown [options]="BridgeItemList"
                                                            name="product"
                                                            [(ngModel)]="BridgeItemSelect"
                                                            [showClear]="true"
                                                            [emptyFilterMessage]="' No Item Code Found'"
                                                            (onChange)="BridgeItemCodeChange(BridgeItemSelect)"
                                                            [filter]="true"
                                                            filterBy="label,value.name"
                                                            [placeholder]="'Select Sub-Item Code'"
                                                            [virtualScroll]="true"
                                                            itemSize="30"
                                                            #product="ngModel"
                                                            [styleClass]="DailyJobFormFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                            [required]="true">
                                                        </p-dropdown>
                                              </div>
                                              <div class="col-sm-3"  *ngIf="ObjJobData.Type_of_Work && ObjJobData.Date">
                                                <label class="control-label">Addition / Deduction Type<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="_Type"
                                                        #_Type="ngModel"
                                                        [(ngModel)]="ObjJobData.calculation_type"
                                                        (change)="ChangeType()"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && _Type.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                        <option Value="Addition">Addition</option>
                                                    <option Value="Deduction">Deduction</option>
                                                </select>
                                              </div>
                                            </div>
                                            <div [ngClass]='waitLoader ? "waiter":""'>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works' && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code && ObjJobData.UNIT === 'Cum'  && !(ObjJobData.Item_Code === 'LOOSENING & LEVELING' || ObjJobData.Item_Code === 'E/W EXCAVATION (TRENCH)' || ObjJobData.Item_Code === 'E/W EXCAVATION IN CD') ">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Loose Item :</strong>
                                            </h5>
                                              <div class="col-sm-3">
                                                <label class="control-label">Trip By <sup class="text-danger">*</sup></label>
                                                <span (click)="ToggleTripBy()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <select class="form-control"
                                                        name="Trip"
                                                        #Trip="ngModel"
                                                        [(ngModel)]="ObjJobData.Trip_By"
                                                        [ngClass]="{'clearance': TripByFormSubmitted && (ObjJobData.Trip_By ==='' || ObjJobData.Trip_By=== null || ObjJobData.Trip_By=== undefined)}" >
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option *ngFor="let option of TripByList" [ngValue]="option.Trip_By">
                                                        {{option.Trip_By}}
                                                        </option>

                                                </select>
                                               </div>
                                               <div class="col-sm-2">
                                                <label class="control-label" >Vehicle No<sup class="text-danger">*</sup ></label>
                                                  <input type="text"
                                                    class="form-control"
                                                    name="Vehicle"
                                                    #Vehicle="ngModel"
                                                    [(ngModel)]="ObjJobData.Vehicle_No"
                                                    placeholder="Vehicle No"
                                                    [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Vehicle ==='' || ObjJobData.Vehicle  === null || ObjJobData.Vehicle === undefined)}"/>
                                              </div>
                                               <div class="col-sm-2">
                                                <label class="control-label" >Number of Trips<sup class="text-danger">*</sup ></label>
                                                  <input type="text"
                                                    class="form-control"
                                                    name="name1"
                                                    #name1="ngModel"
                                                    [(ngModel)]="ObjJobData.No_Of_Trip"
                                                    (change)="check3DigitLooseQty(ObjJobData.No_Of_Trip)"
                                                    CompacctDigitonly="true"
                                                    placeholder="Number of Trips"
                                                    [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.No_Of_Trip ==='' || ObjJobData.No_Of_Trip  === null || ObjJobData.No_Of_Trip === undefined)}"/>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Loose Qnty. per Trip<sup class="text-danger">*</sup ></label>
                                                  <span (click)="ToggleLooseQnty()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                  <select class="form-control"
                                                          name="Loose_Qty_Per_Trip"
                                                          #Loose_Qty_Per_Trip="ngModel"
                                                          [(ngModel)]="ObjJobData.Loose_Qty_Per_Trip"
                                                          (change)="CalculateTotalLooseQty()"
                                                          [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Loose_Qty_Per_Trip ==='' || ObjJobData.Loose_Qty_Per_Trip  === null || ObjJobData.Loose_Qty_Per_Trip === undefined)}" >
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of LooseQtyList" [ngValue]="option.Loose_Qty_Per_Trip">
                                                          {{option.Loose_Qty_Per_Trip}}
                                                          </option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" > Item Unit<sup class="text-danger">*</sup ></label>
                                                  <select class="form-control"
                                                        name="Material"
                                                        #Material="ngModel"
                                                        [(ngModel)]="ObjJobData.Material_Unit"
                                                        (change)="CalculateTotalLooseQty()"
                                                        [ngClass]="{'clearance': TripByFormSubmitted  && (ObjJobData.Material_Unit ==='' || ObjJobData.Material_Unit  === null || ObjJobData.Material_Unit === undefined)}">
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="CFT">CFT</option>
                                                    <option Value="CUM">CUM</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Item Received From <sup class="text-danger"></sup ></label>
                                                  <span (click)="ToggleReceivedFrom()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                  <select class="form-control"
                                                          name="Received_From"
                                                          #Received_From="ngModel"
                                                          [(ngModel)]="ObjJobData.Received_From"
                                                          [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Received_From ==='' || ObjJobData.Received_From  === null || ObjJobData.Received_From === undefined)}" >
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of ReceivedFromList" [ngValue]="option.Received_From">
                                                          {{option.Received_From}}
                                                          </option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-2 pull-right">
                                                <button class="btn btn-primary pull-right custombutton" data-toggle="modal"
                                                        (click)="AddTrip()"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                              </div>
                                            </div>
                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Road Works' && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  && ObjJobData.UNIT === 'Cum'  && !(ObjJobData.Item_Code === 'LOOSENING & LEVELING' || ObjJobData.Item_Code === 'E/W EXCAVATION (TRENCH)' || ObjJobData.Item_Code === 'E/W EXCAVATION IN CD')" style="margin-top:1em">
                                              <div class="table-responsive no-padding">
                                                <table class="table bidopen table-bordered">
                                                  <thead>
                                                    <tr style="background-color:#3c8dbc;color:white;">
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Sl No.
                                                      </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Trip By
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Vehicle No.
                                                    </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Number of Trips
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                      Loose Qnty. per Trip
                                                      </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Item Unit
                                                      </th>

                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Total Loose Qnty.
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Item Received From
                                                      </th>

                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Sub-Total Loose Qnty.(Cum.)
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Delete
                                                      </th>
                                                    </tr>

                                                  </thead>
                                                  <tbody>
                                                    <tr
                                                      *ngFor="
                                                        let d of TripTempArr;
                                                        let odd = odd;
                                                        let index = index
                                                      "
                                                      [class.even]="odd"
                                                    >
                                                      <td>{{ index + 1 }}</td>
                                                      <td>{{ d.Trip_By }}</td>
                                                      <td>{{ d.Vehicle_No ? d.Vehicle_No : '-'  }}</td>
                                                      <td>{{ d.No_Of_Trip ? d.No_Of_Trip : '-'  }}</td>
                                                      <td>{{ d.Loose_Qty_Per_Trip ? d.Loose_Qty_Per_Trip : '-'  }}</td>
                                                      <td>{{ d.Material_Unit ? d.Material_Unit : '-'  }}</td>
                                                      <td>{{ d.Total_Loose_Qty ? d.Total_Loose_Qty+' '+d.Material_Unit: '-'  }}</td>
                                                      <td>{{ d.Received_From ? d.Received_From : '-'  }}</td>
                                                      <td  *ngIf='index === 0' style='vertical-align: middle;text-align: center;'  [attr.rowspan]="TripTempArr.length">{{getAllQtyTrip()  }}</td>
                                                      <td>
                                                        <a (click)="DeleteTrip(index)"
                                                          ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                        </a>
                                                      </td>

                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>


                                            <!-- EQUAL TO CUM & SQM (Road Works -> Addition)-->
                                             <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  && (ObjJobData.UNIT === 'Cum' || ObjJobData.UNIT === 'Sqm') &&  ObjJobData.Item_Code !== 'BORROWPIT EARTH'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Works(Compacted Item) :</strong>
                                            </h5>
                                              <!-- <div class="col-sm-4">
                                                <label class="control-label">Sub-Item Code&nbsp;<span class="text-danger">*</span></label>
                                                <p-dropdown [options]="BridgeItemList"
                                                            name="product"
                                                            [(ngModel)]="BridgeItemSelect"
                                                            [showClear]="true"
                                                            [emptyFilterMessage]="' No Item Code Found'"
                                                            (onChange)="BridgeItemCodeChange(BridgeItemSelect)"
                                                            [filter]="true"
                                                            filterBy="label,value.name"
                                                            [placeholder]="'Select Sub-Item Code'"
                                                            [virtualScroll]="true"
                                                            itemSize="30"
                                                            #product="ngModel"
                                                            [styleClass]="DailyJobFormFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                            [required]="true">
                                                        </p-dropdown>
                                              </div> -->
                                              <div class="col-sm-3">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage From (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_KM"
                                                  #Chanage_From_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="From Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_From_KM?.errors?.required }" required >
                                                  <span class="input-group-addon custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_M"
                                                  #Chanage_From_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_From_M,'Chanage_From_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="From Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_From_M?.errors?.required ) || (ObjJobData.Chanage_From_M && (ObjJobData.Chanage_From_M.length !== 3))}" required >
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage To (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input type="text" class="form-control"
                                                  name="Chanage_To_KM"
                                                  #Chanage_To_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="To Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_To_KM?.errors?.required }" required>
                                                  <span class="input-group-addon  custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_To_M"
                                                  #Chanage_To_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_To_M,'Chanage_To_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="To Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_To_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon  custmaddon">Mtr. </span>
                                                </div>
                                              </div>

                                              <div class='col-sm-3'>
                                                <label class="control-label">Total Length (Mtr.)<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.Total_Length ? ObjJobData.Total_Length + ' Mtr.': ''}}</div>

                                              </div>
                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  && (ObjJobData.UNIT === 'Cum' || ObjJobData.UNIT === 'Sqm') &&  ObjJobData.Item_Code !== 'BORROWPIT EARTH'">

                                              <div class="col-sm-3" style='margin-top: -1px;'>
                                                <label class="control-label" > Width/Breadth (Mtr.)<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Width"
                                                    #Width="ngModel"
                                                    [(ngModel)]="ObjJobData.Width"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitWidth(ObjJobData.Width)"
                                                    placeholder="Width/Breadth (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Width?.errors?.required }" required/>
                                                    <span class="input-group-addon">Mtr.</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-3"  style='margin-top: -1px;' *ngIf="ObjJobData.UNIT === 'Cum'">
                                                <label class="control-label" >Height / Thickness (Mtr.)<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Hight_Thikness"
                                                    #Hight_Thikness="ngModel"
                                                    [(ngModel)]="ObjJobData.Hight_Thikness"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitHeight(ObjJobData.Hight_Thikness)"
                                                    placeholder="Height / Thickness (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Hight_Thikness?.errors?.required }" required/>
                                                    <span class="input-group-addon">Mtr.</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.QNTY ? ObjJobData.QNTY + ''+ObjJobData.UNIT : ''}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                <textarea name="Remarks" row='1'  class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearAddDetails()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                            <!-- NOT EQUAL TO CUM & SQM (Road Works -> Addition) -->
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  &&  ObjJobData.UNIT !== 'Cum' && ObjJobData.UNIT !== 'Sqm'  &&  ObjJobData.Item_Code !== 'BORROWPIT EARTH'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong> Details of Works (Item Fitting / Fixing at Site) :</strong>
                                              </h5>
                                              <!-- <div class="col-sm-4" *ngIf="BridgeItemList.length">
                                                <label class="control-label">Sub-Item Code&nbsp;<span class="text-danger">*</span></label>
                                                <p-dropdown [options]="BridgeItemList"
                                                            name="product"
                                                            [(ngModel)]="BridgeItemSelect"
                                                            [showClear]="true"
                                                            [emptyFilterMessage]="' No Item Code Found'"
                                                            (onChange)="BridgeItemCodeChange(BridgeItemSelect)"
                                                            [filter]="true"
                                                            filterBy="label,value.name"
                                                            [placeholder]="'Select Sub-Item Code'"
                                                            [virtualScroll]="true"
                                                            itemSize="30"
                                                            #product="ngModel"
                                                            [styleClass]="DailyJobFormFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                            [required]="true">
                                                        </p-dropdown>
                                              </div> -->
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage From (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_KM"
                                                  #Chanage_From_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="From Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_From_KM?.errors?.required }" required >
                                                  <span class="input-group-addon custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_M"
                                                  #Chanage_From_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_From_M,'Chanage_From_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="From Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_From_M?.errors?.required ) || (ObjJobData.Chanage_From_M && (ObjJobData.Chanage_From_M.length !== 3))}" required >
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage To (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input type="text" class="form-control"
                                                  name="Chanage_To_KM"
                                                  #Chanage_To_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="To Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_To_KM?.errors?.required }" required>
                                                  <span class="input-group-addon  custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_To_M"
                                                  #Chanage_To_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_To_M,'Chanage_To_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="To Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_To_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon  custmaddon">Mtr. </span>
                                                </div>
                                              </div>


                                              <div class="col-sm-2">
                                                <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Total_QNTY"
                                                #Total_QNTY="ngModel"
                                                [(ngModel)]="ObjJobData.QNTY"
                                                (change)="check3Digit(ObjJobData.QNTY,'QNTY')"
                                                CompacctDigitonly="true"
                                                placeholder="Qnty."
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Total_QNTY?.errors?.required }" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                <textarea name="Remarks" row='1'  class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearAddDetails()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                            <!-- BORROWPIT EARTH (Road Works -> Addition) -->
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  && ObjJobData.Item_Code === 'BORROWPIT EARTH' && ObjJobData.UNIT === 'Cum'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Works(Compacted Item) : </strong>
                                            </h5>
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage From (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_KM"
                                                  #Chanage_From_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="From Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_From_KM?.errors?.required }" required >
                                                  <span class="input-group-addon custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_M"
                                                  #Chanage_From_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_From_M,'Chanage_From_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="From Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_From_M?.errors?.required ) || (ObjJobData.Chanage_From_M && (ObjJobData.Chanage_From_M.length !== 3))}" required >
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage To (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input type="text" class="form-control"
                                                  name="Chanage_To_KM"
                                                  #Chanage_To_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="To Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_To_KM?.errors?.required }" required>
                                                  <span class="input-group-addon  custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_To_M"
                                                  #Chanage_To_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_To_M,'Chanage_To_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="To Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_To_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon  custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Sub-Total Loose Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Loose_Qnty"
                                                #Loose_Qnty="ngModel"
                                                [(ngModel)]="ObjJobData.Loose_Qnty"
                                                (change)="check3Digit(ObjJobData.Loose_Qnty,'Loose_Qnty')"
                                                CompacctDigitonly="true"
                                                placeholder="Sub-Total Loose Qnty."
                                                [disabled]='true'
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Loose_Qnty?.errors?.required }" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Deduct Percentage<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Deduct_Percentage"
                                                        #Deduct_Percentage="ngModel"
                                                        [(ngModel)]="ObjJobData.Deduct_Percentage"
                                                        (change)='GetTotalLooseQnty()'
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Deduct_Percentage.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                        <option *ngFor="let option of DeductPerList" [ngValue]="option">
                                                            {{'- '+ option + ' %'}}
                                                            </option>
                                                </select>
                                              </div>
                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  && ObjJobData.Item_Code === 'BORROWPIT EARTH' && ObjJobData.UNIT === 'Cum'">

                                              <div class="col-sm-2">
                                                <label class="control-label">Total Compacted Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Total_Loose_Qnty_All"
                                                #Total_Loose_Qnty_All="ngModel"
                                                [(ngModel)]="ObjJobData.Total_Loose_Qnty_All"
                                                (change)="check3Digit(ObjJobData.Total_Loose_Qnty_All,'Total_Loose_Qnty_All')"
                                                CompacctDigitonly="true"
                                                [disabled]='true'
                                                placeholder="Total Compacted Qnty."
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Total_Loose_Qnty_All?.errors?.required }" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                <textarea name="Remarks" row='1'  class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearAddDetails()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                            <!-- EQUAL TO CUM & SQM (Road Works -> Deduction)-->
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works' && ObjJobData.calculation_type === 'Deduction' && ObjJobData.Item_Code  && (ObjJobData.UNIT === 'Cum' || ObjJobData.UNIT === 'Sqm') &&  ObjJobData.Item_Code !== 'BORROWPIT EARTH'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Works(Compacted Item) :</strong>
                                            </h5>
                                              <!-- <div class="col-sm-3">
                                                <label class="control-label">Sub-Item Code&nbsp;<span class="text-danger">*</span></label>
                                                <p-dropdown [options]="BridgeItemList"
                                                            name="product"
                                                            [(ngModel)]="BridgeItemSelect"
                                                            [showClear]="true"
                                                            [emptyFilterMessage]="' No Item Code Found'"
                                                            (onChange)="BridgeItemCodeChange(BridgeItemSelect)"
                                                            [filter]="true"
                                                            filterBy="label,value.name"
                                                            [placeholder]="'Select Sub-Item Code'"
                                                            [virtualScroll]="true"
                                                            itemSize="30"
                                                            #product="ngModel"
                                                            [styleClass]="DailyJobFormFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                            [required]="true">
                                                        </p-dropdown>
                                              </div> -->
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>

                                              <div class="col-sm-4">
                                                <label class="control-label">Chainage at (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input type="text" class="form-control"
                                                  name="Chanage_At_KM"
                                                  #Chanage_At_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_At_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_At_KM?.errors?.required }" required>
                                                  <span class="input-group-addon  custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_At_M"
                                                  #Chanage_At_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_At_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_At_M,'Chanage_At_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_At_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon  custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Total Length (Mtr.)<sup class="text-danger">*</sup></label>
                                                 <input type="text"
                                                class="form-control"
                                                name="Total_Length"
                                                #Total_Length="ngModel"
                                                [(ngModel)]="ObjJobData.Total_Length"
                                                (change)="check3Digit(ObjJobData.Total_Length,'Total_Length')"
                                                CompacctDigitonly="true"
                                                placeholder="Total Length (Mtr.)"
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Total_Length?.errors?.required }" required/>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" > Width/Breadth (Mtr.)<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Width"
                                                    #Width="ngModel"
                                                    [(ngModel)]="ObjJobData.Width"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitWidth(ObjJobData.Width)"
                                                    placeholder="Width/Breadth (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Width?.errors?.required }" required/>
                                                    <span class="input-group-addon">Mtr.</span>
                                                  </div>

                                              </div>
                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works' && ObjJobData.calculation_type === 'Deduction' && ObjJobData.Item_Code  &&  (ObjJobData.UNIT === 'Cum' || ObjJobData.UNIT === 'Sqm') &&  ObjJobData.Item_Code !== 'BORROWPIT EARTH'">

                                                <div class="col-sm-3"  *ngIf="ObjJobData.UNIT === 'Cum'">
                                                  <label class="control-label" >Height / Thickness (Mtr.)<sup class="text-danger">*</sup ></label>
                                                    <div class="input-group">
                                                      <input type="text"
                                                      class="form-control"
                                                      name="Hight_Thikness"
                                                      #Hight_Thikness="ngModel"
                                                      [(ngModel)]="ObjJobData.Hight_Thikness"
                                                      CompacctDigitonly="true"
                                                      (change)="check3DigitHeight(ObjJobData.Hight_Thikness)"
                                                      placeholder="Height / Thickness (Mtr.)"
                                                      [ngClass]="{clearance: DailyJobFormFormSubmitted && Hight_Thikness?.errors?.required }" required/>
                                                      <span class="input-group-addon">Mtr.</span>
                                                    </div>

                                                </div>
                                                <div class="col-sm-2">
                                                  <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                  <div class="label-t">{{ObjJobData.QNTY ? ObjJobData.QNTY + ''+ObjJobData.UNIT : ''}}</div>

                                                </div>
                                                <div class="col-sm-2">
                                                  <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                  <div class="label-t">{{ObjJobData.UNIT}}</div>

                                                </div>
                                                <div class="col-sm-4">
                                                  <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                  <textarea name="Remarks"  row='1' class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                                </div>
                                                <div class="col-sm-4">
                                                  <button class="btn btn-primary custombutton" data-toggle="modal"
                                                          (click)="AddDetailList(DailyJobForm.form.valid)"
                                                          id="load"
                                                          type='button'
                                                          [disabled]="Spinner">
                                                          <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                          <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                  </button>
                                                  <button class="btn btn-warning custombutton" data-toggle="modal"
                                                  (click)="clearAddDetails()"
                                                  type='button'
                                                  id="load"
                                                  [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                                </div>
                                            </div>
                                            <!-- NOT EQUAL TO CUM & SQM (Road Works -> Deduction) -->
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works' && ObjJobData.calculation_type === 'Deduction' && ObjJobData.Item_Code  && ObjJobData.UNIT !== 'Cum' && ObjJobData.UNIT !== 'Sqm' &&  ObjJobData.Item_Code !== 'BORROWPIT EARTH'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong> Details of Works (Item Fitting / Fixing at Site) :</strong>
                                            </h5>
                                            <!-- <div class="col-sm-4"  *ngIf="BridgeItemList.length">
                                              <label class="control-label">Sub-Item Code&nbsp;<span class="text-danger">*</span></label>
                                              <p-dropdown [options]="BridgeItemList"
                                                          name="product"
                                                          [(ngModel)]="BridgeItemSelect"
                                                          [showClear]="true"
                                                          [emptyFilterMessage]="' No Item Code Found'"
                                                          (onChange)="BridgeItemCodeChange(BridgeItemSelect)"
                                                          [filter]="true"
                                                          filterBy="label,value.name"
                                                          [placeholder]="'Select Sub-Item Code'"
                                                          [virtualScroll]="true"
                                                          itemSize="30"
                                                          #product="ngModel"
                                                          [styleClass]="DailyJobFormFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                          [required]="true">
                                                      </p-dropdown>
                                            </div> -->
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>

                                              <div class="col-sm-4">
                                                <label class="control-label">Chainage at (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input type="text" class="form-control"
                                                  name="Chanage_At_KM"
                                                  #Chanage_At_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_At_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_At_KM?.errors?.required }" required>
                                                  <span class="input-group-addon  custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_At_M"
                                                  #Chanage_At_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_At_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_At_M,'Chanage_At_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_At_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon  custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Total_QNTY"
                                                #Total_QNTY="ngModel"
                                                [(ngModel)]="ObjJobData.QNTY"
                                                (change)="check3Digit(ObjJobData.QNTY,'QNTY')"
                                                CompacctDigitonly="true"
                                                placeholder="Qnty."
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Total_QNTY?.errors?.required }" required/>

                                              </div>



                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works' && ObjJobData.calculation_type === 'Deduction' && ObjJobData.Item_Code  && ObjJobData.UNIT !== 'Cum' && ObjJobData.UNIT !== 'Sqm' &&  ObjJobData.Item_Code !== 'BORROWPIT EARTH'">
                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                <textarea name="Remarks" row='1'  class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearAddDetails()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                             <!-- BORROWPIT EARTH (Road Works -> Deduction) -->
                                             <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works'  && ObjJobData.calculation_type === 'Deduction' && ObjJobData.Item_Code  && ObjJobData.Item_Code === 'BORROWPIT EARTH' && ObjJobData.UNIT === 'Cum'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Works(Compacted Item) : </strong>
                                            </h5>
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Chainage at (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input type="text" class="form-control"
                                                  name="Chanage_At_KM"
                                                  #Chanage_At_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_At_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_At_KM?.errors?.required }" required>
                                                  <span class="input-group-addon  custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_At_M"
                                                  #Chanage_At_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_At_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_At_M,'Chanage_At_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_At_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon  custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Loose Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Loose_Qnty"
                                                #Loose_Qnty="ngModel"
                                                [(ngModel)]="ObjJobData.Loose_Qnty"
                                                (change)="check3Digit(ObjJobData.Loose_Qnty,'Loose_Qnty')"
                                                CompacctDigitonly="true"
                                                placeholder="Loose Qnty."
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Loose_Qnty?.errors?.required }" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Deduct Percentage<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Deduct_Percentage"
                                                        #Deduct_Percentage="ngModel"
                                                        [(ngModel)]="ObjJobData.Deduct_Percentage"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Deduct_Percentage.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                        <option *ngFor="let option of DeductPerList" [ngValue]="option">
                                                            {{option + ' %'}}
                                                            </option>
                                                </select>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Total Loose Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Total_Loose_Qnty_All"
                                                #Total_Loose_Qnty_All="ngModel"
                                                [(ngModel)]="ObjJobData.Total_Loose_Qnty_All"
                                                (change)="check3Digit(ObjJobData.Total_Loose_Qnty_All,'Total_Loose_Qnty_All')"
                                                CompacctDigitonly="true"
                                                placeholder="Qnty."
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Total_Loose_Qnty_All?.errors?.required }" required/>

                                              </div>
                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works'  && ObjJobData.calculation_type === 'Deduction' && ObjJobData.Item_Code  && ObjJobData.Item_Code === 'BORROWPIT EARTH' && ObjJobData.UNIT === 'Cum'">


                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                <textarea name="Remarks" row='1'  class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearAddDetails()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>




                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Road Works'" style="margin-top:1em">
                                              <div class='label-t' style="font-weight: 600;text-align: center;"  *ngIf='DetailList.length'>
                                                Date : {{DetailList[0].Date | date:'dd-MMM-yyyy'}}&nbsp;&nbsp;|
                                                Type of Works : {{DetailList[0].Type_of_Work}}
                                              </div>
                                              <div class="table-responsive no-padding">
                                                <table class='table bidopen table-bordered'>
                                                  <thead>
                                                    <tr  style="background-color:#3c8dbc;color:white;">
                                                      <th class="text-center" style="vertical-align:middle" >Action</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sl No.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Side</th>
                                                      <th class="text-center" style="vertical-align:middle" > Chainage From (Km.)</th>
                                                      <th class="text-center" style="vertical-align:middle" > Chainage To (Km.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Chainage At (Km.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Length (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Width/Breadth (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Height / Thickness (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Qnty .</th>
                                                      <th class="text-center" style="vertical-align:middle" >UNIT</th>
                                                      <th class="text-center" style="vertical-align:middle" > Total Compacted Qnty. (Cum.) </th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Loose Qnty. (Cum.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Item Consumption (%)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Average Thickness (Cum.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Remarks</th>
                                                      <th class="text-center" style="vertical-align:middle" >Delete</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <ng-container *ngFor='let Item of DistinctItemCode;let distinctIndex = index;'>
                                                      <tr style="background: #c1c1c1;">
                                                        <td class='text-left'  colspan='100%'>
                                                          <a (click)='Item.ToggleFlag = !Item.ToggleFlag' style='cursor:pointer;color:white;'>
                                                            <i style="color: dimgrey;" [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{Item.Item_Code}}</b></a></td>
                                                      </tr>
                                                      <ng-template [ngIf]='Item.ToggleFlag && !Item.Sub_Item_Flag'>
                                                          <tr *ngFor='let rowData of getDetailList(Item.Item_Code ,"Main"); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                              <td>
                                                                <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' class="btn btn-primary btn-sm" (click)="viewTripTempArrFromDetails(rowData)">
                                                                  <i class="fa fa-fw fa-info-circle"></i></a>
                                                                  <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>
                                                              </td>
                                                              <td style='font-size: 0.8em;'>{{ (distinctIndex + 1)+'.'+(rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{(rowData.Chanage_From_KM  || rowData.Chanage_From_M) ? rowData.Chanage_From_KM +'/'+rowData.Chanage_From_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ (rowData.Chanage_To_KM  || rowData.Chanage_To_M) ? rowData.Chanage_To_KM +'/'+rowData.Chanage_To_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ (rowData.Chanage_At_KM  || rowData.Chanage_At_M) ? rowData.Chanage_At_KM +'/'+rowData.Chanage_At_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length ? rowData.Total_Length+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Width ? rowData.Width+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Hight_Thikness ? rowData.Hight_Thikness+' Mtr.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.QNTY ? rowData.QNTY : '-'  }}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main').length" style='vertical-align: middle;font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main').length"  style='vertical-align: middle;text-align: center;' ><strong>{{ GetTotalQnt(Item.Item_Code)}}</strong></td>
                                                              <td   *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main').length"  style='vertical-align: middle;text-align: center;'>{{ rowData.UNIT ==='Cum' ? GetGridTotalLooseQnty(rowData) : '-'}}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main').length"  style='vertical-align: middle;text-align: center;'>{{ GetItemConsumption(rowData,Item.Item_Code)  }}</td>
                                                              <td   *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main').length"  style='vertical-align: middle;text-align: center;'>{{  rowData.UNIT ==='Cum' ?  GetAverageThickness(rowData) : '-'}}</td>
                                                            <td style='font-size: 0.8em;'>{{ rowData.Remarks ? rowData.Remarks : '-'  }}</td>
                                                            <td>
                                                              <a (click)="DeleteDetailList(rowData)"
                                                                ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                              </a>
                                                            </td>
                                                          </tr>
                                                          <!-- <tr style="background: #c1c1c161;">
                                                            <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Total : </strong> {{GetTotalQnt(Item.Item_Code)}}</td>
                                                          </tr> -->
                                                      </ng-template>
                                                      <ng-template [ngIf]='Item.ToggleFlag && Item.Sub_Item_Flag'>
                                                        <ng-container *ngFor='let subItem of Item.Sub_Item_List;let distinctIndex2 = index;'>
                                                            <tr>
                                                              <td class='text-left' style='font-size: 10px;background: azure;padding-left: 2em;'  colspan='100%'>
                                                                <a (click)='subItem.ToggleFlag2 = !subItem.ToggleFlag2' style='cursor:pointer;'>
                                                                  <i  [ngClass]="subItem.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                                  <b>{{subItem.bridge_item}}</b></a></td>
                                                            </tr>
                                                            <ng-template [ngIf]='subItem.ToggleFlag2'>
                                                              <tr *ngFor='let rowData of getDetailList(subItem.bridge_item,"Sub"); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                                  <td>
                                                                    <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' class="btn btn-primary btn-sm" (click)="viewTripTempArrFromDetails(rowData)">
                                                                      <i class="fa fa-fw fa-info-circle"></i></a>
                                                                      <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>
                                                                  </td>
                                                                  <td style='font-size: 0.8em;'>{{ (distinctIndex + 1)+'.'+(distinctIndex2 + 1)+'.'+(rowIndex + 1) }}</td>
                                                                  <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                                  <td style='font-size: 0.8em;'>{{(rowData.Chanage_From_KM  || rowData.Chanage_From_M) ? rowData.Chanage_From_KM +'/'+rowData.Chanage_From_M +'KM ' : '-' }}</td>
                                                                  <td style='font-size: 0.8em;'>{{ (rowData.Chanage_To_KM  || rowData.Chanage_To_M) ? rowData.Chanage_To_KM +'/'+rowData.Chanage_To_M +'KM ' : '-' }}</td>
                                                                  <td style='font-size: 0.8em;'>{{ (rowData.Chanage_At_KM  || rowData.Chanage_At_M) ? rowData.Chanage_At_KM +'/'+rowData.Chanage_At_M +'KM ' : '-' }}</td>
                                                                  <td style='font-size: 0.8em;'>{{ rowData.Total_Length ? rowData.Total_Length+' Mtr.' : '-'  }}</td>
                                                                  <td style='font-size: 0.8em;'>{{ rowData.Width ? rowData.Width+' Mtr.' : '-'  }}</td>
                                                                  <td style='font-size: 0.8em;'>{{rowData.Hight_Thikness ? rowData.Hight_Thikness+' Mtr.' : '-'}}</td>
                                                                  <td style='font-size: 0.8em;'>{{ rowData.QNTY ? rowData.QNTY : '-'  }}</td>
                                                                  <td *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.bridge_item ,'Sub').length"  style='vertical-align: middle;font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                                  <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.bridge_item ,'Sub').length"  style='vertical-align: middle;text-align: center;'><strong> {{GetSubTotalQnt(subItem.bridge_item)}}</strong></td>
                                                                  <td style='font-size: 0.8em;'>-</td>
                                                                  <td style='font-size: 0.8em;'>-</td>
                                                                  <td style='font-size: 0.8em;'>-</td>
                                                                <td style='font-size: 0.8em;'>{{ rowData.Remarks ? rowData.Remarks : '-'  }}</td>
                                                                <td>
                                                                  <a (click)="DeleteDetailList(rowData)"
                                                                    ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                                  </a>
                                                                </td>
                                                              </tr>
                                                              <!-- <tr style="background: #c1c1c161;">
                                                                <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Total : </strong></td>
                                                              </tr> -->
                                                          </ng-template>
                                                        </ng-container>
                                                      </ng-template>
                                                    </ng-container>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                            <!-- (Bridges and Culverts Works -> ) -->
                                            <div class="form-group"  *ngIf="ObjJobData.Type_of_Work ==='Bridges and Culverts Works' && ObjJobData.Structure_Details"style="padding: 1.5em;">
                                              <p-accordion>
                                              <p-accordionTab header=" Structure Details (As per Agreement)">
                                                <div class="form-group" >
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Party Name<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.Party ? ObjJobData.Party : '-' }}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Structure at Chainage  (Km.)<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{(ObjJobData.structure_at_km || ObjJobData.structure_at_meter) ? ObjJobData.structure_at_km + '/' +ObjJobData.structure_at_meter : '-'}}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Type<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.Structured_Type}}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">No. of Span<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.No_of_Span === 1 ? ObjJobData.No_of_Span+' No.' : ObjJobData.No_of_Span+' Nos.'}}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Breadth / Width (Mtr.)<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.Structured_Breadth ? ObjJobData.Structured_Breadth +' Mtr.' : '-'}}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Height / Thickness  (Mtr.)<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.Structured_Height ? ObjJobData.Structured_Height +' Mtr.' : '-'}}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Total Structure Length (Mtr.)<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.Structured_Length ? ObjJobData.Structured_Length +' Mtr.' : '-'}}</div>

                                                  </div>
                                                </div>
                                              </p-accordionTab>
                                              </p-accordion>
                                            </div>

                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Bridges and Culverts Works' && ObjJobData.Item_Code  && ObjJobData.calculation_type === 'Addition' && ObjJobData.UNIT === 'Cum'  && !(ObjJobData.Item_Code === 'LOOSENING & LEVELING' || ObjJobData.Item_Code === 'E/W EXCAVATION (TRENCH)' || ObjJobData.Item_Code === 'E/W EXCAVATION IN CD') ">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Loose Item :</strong>
                                            </h5>
                                              <div class="col-sm-3">
                                                <label class="control-label">Trip By <sup class="text-danger">*</sup></label>
                                                <span (click)="ToggleTripBy()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <select class="form-control"
                                                        name="Trip"
                                                        #Trip="ngModel"
                                                        [(ngModel)]="ObjJobData.Trip_By"
                                                        [ngClass]="{'clearance': TripByFormSubmitted && (ObjJobData.Trip_By ==='' || ObjJobData.Trip_By=== null || ObjJobData.Trip_By=== undefined)}" >
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option *ngFor="let option of TripByList" [ngValue]="option.Trip_By">
                                                        {{option.Trip_By}}
                                                        </option>

                                                </select>
                                               </div>
                                               <div class="col-sm-2">
                                                <label class="control-label" >Vehicle No<sup class="text-danger">*</sup ></label>
                                                  <input type="text"
                                                    class="form-control"
                                                    name="Vehicle"
                                                    #Vehicle="ngModel"
                                                    [(ngModel)]="ObjJobData.Vehicle_No"
                                                    placeholder="Vehicle No"
                                                    [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Vehicle ==='' || ObjJobData.Vehicle  === null || ObjJobData.Vehicle === undefined)}"/>
                                              </div>
                                               <div class="col-sm-2">
                                                <label class="control-label" >Number of Trips<sup class="text-danger">*</sup ></label>
                                                  <input type="text"
                                                    class="form-control"
                                                    name="name1"
                                                    #name1="ngModel"
                                                    [(ngModel)]="ObjJobData.No_Of_Trip"
                                                    (change)="check3DigitLooseQty(ObjJobData.No_Of_Trip)"
                                                    CompacctDigitonly="true"
                                                    placeholder="Number of Trips"
                                                    [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.No_Of_Trip ==='' || ObjJobData.No_Of_Trip  === null || ObjJobData.No_Of_Trip === undefined)}"/>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >   Loose Qnty. per Trip<sup class="text-danger">*</sup ></label>
                                                  <span (click)="ToggleLooseQnty()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                  <select class="form-control"
                                                          name="Loose_Qty_Per_Trip"
                                                          #Loose_Qty_Per_Trip="ngModel"
                                                          [(ngModel)]="ObjJobData.Loose_Qty_Per_Trip"
                                                          (change)="CalculateTotalLooseQty()"
                                                          [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Loose_Qty_Per_Trip ==='' || ObjJobData.Loose_Qty_Per_Trip  === null || ObjJobData.Loose_Qty_Per_Trip === undefined)}" >
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of LooseQtyList" [ngValue]="option.Loose_Qty_Per_Trip">
                                                          {{option.Loose_Qty_Per_Trip}}
                                                          </option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" > Item Unit<sup class="text-danger">*</sup ></label>
                                                  <select class="form-control"
                                                        name="Material"
                                                        #Material="ngModel"
                                                        [(ngModel)]="ObjJobData.Material_Unit"
                                                        (change)="CalculateTotalLooseQty()"
                                                        [ngClass]="{'clearance': TripByFormSubmitted  && (ObjJobData.Material_Unit ==='' || ObjJobData.Material_Unit  === null || ObjJobData.Material_Unit === undefined)}">
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="CFT">CFT</option>
                                                    <option Value="CUM">CUM</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Item Received From <sup class="text-danger"></sup ></label>
                                                  <span (click)="ToggleReceivedFrom()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                  <select class="form-control"
                                                          name="Received_From"
                                                          #Received_From="ngModel"
                                                          [(ngModel)]="ObjJobData.Received_From"
                                                          [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Received_From ==='' || ObjJobData.Received_From  === null || ObjJobData.Received_From === undefined)}" >
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of ReceivedFromList" [ngValue]="option.Received_From">
                                                          {{option.Received_From}}
                                                          </option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-2 pull-right">
                                                <button class="btn btn-primary pull-right custombutton" data-toggle="modal"
                                                        (click)="AddTrip()"
                                                        id="load"
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                              </div>
                                            </div>
                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Bridges and Culverts Works' && ObjJobData.Item_Code  && ObjJobData.calculation_type === 'Addition' && ObjJobData.UNIT === 'Cum'  && !(ObjJobData.Item_Code === 'LOOSENING & LEVELING' || ObjJobData.Item_Code === 'E/W EXCAVATION (TRENCH)' || ObjJobData.Item_Code === 'E/W EXCAVATION IN CD') " style="margin-top:1em">
                                              <div class="table-responsive no-padding">
                                                <table class="table bidopen table-bordered">
                                                  <thead>
                                                    <tr style="background-color:#3c8dbc;color:white;">
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Sl No.
                                                      </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Trip By
                                                      </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Vehicle No
                                                      </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Number of Trips
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                      Loose Qnty. per Trip
                                                      </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Item Unit
                                                      </th>

                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Total Loose Qnty.
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Item Received From
                                                      </th>

                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Sub-Total Loose Qnty.(Cum.)
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Delete
                                                      </th>
                                                    </tr>

                                                  </thead>
                                                  <tbody>
                                                    <tr
                                                      *ngFor="
                                                        let d of TripTempArr;
                                                        let odd = odd;
                                                        let index = index
                                                      "
                                                      [class.even]="odd"
                                                    >
                                                      <td>{{ index + 1 }}</td>
                                                      <td>{{ d.Trip_By }}</td>
                                                      <td>{{ d.Vehicle_No ? d.Vehicle_No : '-'  }}</td>
                                                      <td>{{ d.No_Of_Trip ? d.No_Of_Trip : '-'  }}</td>
                                                      <td>{{ d.Loose_Qty_Per_Trip ? d.Loose_Qty_Per_Trip : '-'  }}</td>
                                                      <td>{{ d.Material_Unit ? d.Material_Unit : '-'  }}</td>
                                                      <td>{{ d.Total_Loose_Qty ? d.Total_Loose_Qty+' '+d.Material_Unit: '-'  }}</td>
                                                      <td>{{ d.Received_From ? d.Received_From : '-'  }}</td>
                                                      <td  *ngIf='index === 0' style='vertical-align: middle;text-align: center;'  [attr.rowspan]="TripTempArr.length">{{getAllQtyTrip()  }}</td>
                                                      <td>
                                                        <a (click)="DeleteTrip(index)"
                                                          ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                        </a>
                                                      </td>

                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>

                                            <!-- NOT EQUAL TO CUM & SQM (Bridges and Culverts Works -> Addition) -->
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work ==='Bridges and Culverts Works' && ObjJobData.Item_Code  &&  ObjJobData.UNIT !== 'Cum' && ObjJobData.UNIT !== 'Sqm' && ObjJobData.UNIT !== 'No.' && ObjJobData.UNIT !== 'Nos.' && ObjJobData.UNIT !== 'Rmt' && ObjJobData.UNIT !== 'Rm' &&  ChecItemCode() === ''">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Works (Compacted Materials) :</strong>
                                              </h5>
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" >Numbers<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Number"
                                                    #Number="ngModel"
                                                    [(ngModel)]="ObjJobData.Number"
                                                    (change)="check3DigitBridgeNumber(ObjJobData.Number)"
                                                    CompacctDigitonly="true"
                                                    placeholder="Number"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Number?.errors?.required }" required/>

                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Length (Mtr.)<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="bridge_item_length "
                                                    #bridge_item_length ="ngModel"
                                                    [(ngModel)]="ObjJobData.bridge_item_length"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitBridge(ObjJobData.bridge_item_length,'bridge_item_length')"
                                                    placeholder="Length (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && bridge_item_length?.errors?.required }" required/>
                                                    <span class="input-group-addon">(Mtr.)</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Breadth / Width (Mtr.) <sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Bridge_Item_Breath"
                                                    #Bridge_Item_Breath="ngModel"
                                                    [(ngModel)]="ObjJobData.Bridge_Item_Breath"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitBridge(ObjJobData.Bridge_Item_Breath,'Bridge_Item_Breath')"
                                                    placeholder="Breadth / Width (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Bridge_Item_Breath?.errors?.required }" required/>
                                                    <span class="input-group-addon">(Mtr.)</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Total_QNTY"
                                                #Total_QNTY="ngModel"
                                                [(ngModel)]="ObjJobData.QNTY"
                                                (change)="check3Digit(ObjJobData.QNTY,'QNTY')"
                                                CompacctDigitonly="true"
                                                placeholder="Qnty."
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Total_QNTY?.errors?.required }" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Remarks<sup class="text-danger">*</sup></label>
                                                <textarea name="Bridge_Item_Remarks" class="form-control" [(ngModel)]="ObjJobData.Bridge_Item_Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearBridgeData()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                            <!-- EQUAL TO CUM & SQM (Bridges and Culverts Workss -> Addition)-->
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work ==='Bridges and Culverts Works' && ObjJobData.Item_Code  && (ObjJobData.UNIT === 'Cum' || ObjJobData.UNIT === 'Sqm') && ChecItemCode() === ''">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Works (Compacted Materials) :</strong>
                                              </h5>
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" >Numbers<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Number "
                                                    #Number ="ngModel"
                                                    [(ngModel)]="ObjJobData.Number"
                                                    (change)="check3DigitBridgeNumber(ObjJobData.Number)"
                                                    CompacctDigitonly="true"
                                                    placeholder="Number"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Number?.errors?.required }" required/>

                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Length (Mtr.)<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="bridge_item_length "
                                                    #bridge_item_length ="ngModel"
                                                    [(ngModel)]="ObjJobData.bridge_item_length"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitBridge(ObjJobData.bridge_item_length,'bridge_item_length')"
                                                    placeholder="Length (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && bridge_item_length?.errors?.required }" required/>
                                                    <span class="input-group-addon">(Mtr.)</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Breadth / Width (Mtr.) <sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Bridge_Item_Breath"
                                                    #Bridge_Item_Breath="ngModel"
                                                    [(ngModel)]="ObjJobData.Bridge_Item_Breath"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitBridge(ObjJobData.Bridge_Item_Breath,'Bridge_Item_Breath')"
                                                    placeholder="Breadth / Width (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Bridge_Item_Breath?.errors?.required }" required/>
                                                    <span class="input-group-addon">(Mtr.)</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-3"  *ngIf="ObjJobData.UNIT === 'Cum'">
                                                <label class="control-label" >Height / Thickness (Mtr.)  <sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Bridge_Item_Height"
                                                    #Bridge_Item_Height ="ngModel"
                                                    [(ngModel)]="ObjJobData.Bridge_Item_Height"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitBridge(ObjJobData.Bridge_Item_Height,'Bridge_Item_Height')"
                                                    placeholder="Height / Thickness (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Bridge_Item_Height?.errors?.required }" required/>
                                                    <span class="input-group-addon">(Mtr.)</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.QNTY ? ObjJobData.QNTY + ''+ObjJobData.UNIT : ''}}</div>

                                              </div>

                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Remarks<sup class="text-danger">*</sup></label>
                                                <textarea name="Bridge_Item_Remarks" class="form-control" [(ngModel)]="ObjJobData.Bridge_Item_Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearBridgeData()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>

                                             <!-- EQUAL TO No. / Rmt / Rm (Road Works -> Addition) -->
                                             <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Bridges and Culverts Works'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  &&  (ObjJobData.UNIT === 'No.' || ObjJobData.UNIT === 'Nos.' || ObjJobData.UNIT === 'Rmt' || ObjJobData.UNIT === 'Rm' )  && ChecItemCode() === ''">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong> Details of Works (Item Fitting / Fixing at Site) :</strong>
                                              </h5>

                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage at (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_KM"
                                                  #Chanage_From_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_At_KM"
                                                  CompacctDigitonly="true"
                                                  placeholder="At Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_From_KM?.errors?.required }" required >
                                                  <span class="input-group-addon custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_M"
                                                  #Chanage_From_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_At_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_At_M,'Chanage_At_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="At Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_From_M?.errors?.required ) || (ObjJobData.Chanage_From_M && (ObjJobData.Chanage_From_M.length !== 3))}" required >
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon custmaddon">Mtr. </span>
                                                </div>
                                              </div>



                                              <div class="col-sm-2">
                                                <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Total_QNTY"
                                                #Total_QNTY="ngModel"
                                                [(ngModel)]="ObjJobData.QNTY"
                                                (change)="check3Digit(ObjJobData.QNTY,'QNTY')"
                                                CompacctDigitonly="true"
                                                placeholder="Qnty."
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Total_QNTY?.errors?.required }" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                <textarea name="Remarks" row='1'  class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearAddDetails()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                             <!-- EQUAL TO HYSD BAR (Bridges and Culverts Works -> Addition)-->
                                             <div class="form-group" *ngIf="ObjJobData.Type_of_Work ==='Bridges and Culverts Works' && ObjJobData.Item_Code  && ChecItemCode() === 'BAR'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Work (Reinforcement) :</strong>
                                              </h5>
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" > Dia of HYSD Bar / Steel (mm.) <sup class="text-danger">*</sup ></label>
                                                  <select class="form-control"
                                                          name="DiaHYSD"
                                                          #DiaHYSD="ngModel"
                                                          [(ngModel)]="ObjJobData.Dia"
                                                          (change)="FetchCoefficient(ObjJobData.Dia)"
                                                          [ngClass]="{clearance: TripByFormSubmitted && DiaHYSD?.errors.required}" required>
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of DiaList" [ngValue]="option.dia">
                                                          {{option.dia+' mm.' }}
                                                          </option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" >Numbers<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Number "
                                                    #Number ="ngModel"
                                                    [(ngModel)]="ObjJobData.Number"
                                                    (change)='check3DigitNumber(ObjJobData.Number)'
                                                    CompacctDigitonly="true"
                                                    placeholder="Number"
                                                    [ngClass]="{clearance: TripByFormSubmitted && Number?.errors?.required}" required/>

                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Length of each Bar (Rmt.)<sup class="text-danger">*</sup ></label>
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Length_per_Each_Bar "
                                                    #Length_per_Each_Bar ="ngModel"
                                                    [(ngModel)]="ObjJobData.Length_per_Each_Bar"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitLengthPerRmt(ObjJobData.Length_per_Each_Bar)"
                                                    placeholder="Length per Each Bar (Rmt.)"
                                                    [ngClass]="{clearance: TripByFormSubmitted && Length_per_Each_Bar?.errors?.required}" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" >Total Length (Rmt.) <sup class="text-danger">*</sup ></label>
                                                  <div class="label-t">{{ObjJobData.Total_Length_Rmt ? ObjJobData.Total_Length_Rmt+ ' Rmt.' : '-' }}</div>
                                                    <!-- <input type="text"
                                                    class="form-control"
                                                    name="Total_Length_Rmt"
                                                    #Total_Length_Rmt="ngModel"
                                                    [(ngModel)]="ObjJobData.Total_Length_Rmt"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitTotalLengthRmt(ObjJobData.Total_Length_Rmt)"
                                                    placeholder="Total Length (Rmt.)"
                                                    [ngClass]="{clearance: TripByFormSubmitted &&  Total_Length_Rmt?.errors?.required}" required/> -->

                                              </div>
                                             <div class="col-sm-2">
                                                <label class="control-label">Co-efficient (Kg/Rmt.)<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.Co_efficient ? ObjJobData.Co_efficient + ' Kg/Rmt.' : '-'}}</div>

                                              </div>


                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work ==='Bridges and Culverts Works' && ObjJobData.Item_Code  && ChecItemCode() === 'BAR'">
                                              <div class="col-sm-2">
                                                <label class="control-label">Qnty. (Qtl.)<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.QNTY ? ObjJobData.QNTY + ' Qtl.' : ''}}</div>

                                              </div>

                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Remarks<sup class="text-danger">*</sup></label>
                                                <textarea name="Bridge_Item_Remarks" class="form-control" [(ngModel)]="ObjJobData.Bridge_Item_Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearBridgeData()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                             <!-- EQUAL TO HP / WEEP / REMOVING HP (Bridges and Culverts Works -> Addition)-->
                                             <div class="form-group" *ngIf="ObjJobData.Type_of_Work ==='Bridges and Culverts Works' && ObjJobData.Item_Code  && ChecItemCode() === 'HP'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>{{ObjJobData.Item_Code.toUpperCase() === 'REMOVING HP' ? 'Details of Work (Removing Pipe) :' : 'Details of Work (Hume Pipe & Weep Hole) :' }}</strong>
                                              </h5>

                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3" *ngIf="ObjJobData.Item_Code.toUpperCase() !== 'WEEP HOLE'">
                                                <label class="control-label" > Dia of HPC<sup class="text-danger">*</sup ></label>
                                                  <select class="form-control"
                                                          name="DiaHYSD"
                                                          #DiaHYSD="ngModel"
                                                          [(ngModel)]="ObjJobData.Dia"
                                                          [ngClass]="{clearance: TripByFormSubmitted && DiaHYSD?.errors?.required}" required>
                                                          <option  [ngValue]="undefined">Select</option>
                                                          <option Value="300">300 mm</option>
                                                          <option Value="600">600 mm</option>
                                                          <option Value="750">750 mm</option>
                                                          <option Value="900">900 mm</option>
                                                          <option Value="1000">1000 mm</option>
                                                          <option Value="1200">1200 mm</option>
                                                          <option Value="1500">1500 mm</option>
                                                          <option Value="1800">1800 mm</option>
                                                          <option Value="2000">2000 mm</option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-3" *ngIf="ObjJobData.Item_Code.toUpperCase() === 'WEEP HOLE'">
                                                <label class="control-label">Dia of Weep Hole<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Size"
                                                        #Size="ngModel"
                                                        [(ngModel)]="ObjJobData.Dia"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Size.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value='3'>3"</option>
                                                    <option Value='4'>4"</option>
                                                    <option Value='5'>5"</option>
                                                    <option Value='6'>6"</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" >Number<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Number"
                                                    #Number ="ngModel"
                                                    [(ngModel)]="ObjJobData.Number"
                                                    (change)='check3DigitNumber2(ObjJobData.Number)'
                                                    CompacctDigitonly="true"
                                                    placeholder="Nos"
                                                    [ngClass]="{clearance: TripByFormSubmitted && Number?.errors?.required}" required/>

                                                  </div>

                                              </div>

                                              <div class="col-sm-2" *ngIf="ObjJobData.Item_Code.toUpperCase() !== 'WEEP HOLE'">
                                                <label class="control-label"> Length per piece (Mtr.)<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Length_per_piece"
                                                        #Length_per_piece="ngModel"
                                                        [(ngModel)]="ObjJobData.Length_per_piece"
                                                        (change)='calculateHpLength()'
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Length_per_piece.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="1.50 Mtr.">1.50 Mtr.</option>
                                                    <option Value="2.00 Mtr."> 2.00 Mtr.</option>
                                                    <option Value="2.50 Mtr.">2.50 Mtr.</option>
                                                    <option Value="3.00 Mtr.">3.00 Mtr.</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-2" *ngIf="ObjJobData.Item_Code.toUpperCase() === 'WEEP HOLE'">
                                                <label class="control-label"> Length per piece (Mtr.)<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                    class="form-control"
                                                    name="Length_per_piece "
                                                    #Length_per_piece ="ngModel"
                                                    [(ngModel)]="ObjJobData.Length_per_piece"
                                                    (change)='calculateHpLength()'
                                                    CompacctDigitonly="true"
                                                    (change)="check3Digit(ObjJobData.Length_per_piece,'Length_per_piece')"
                                                    placeholder=" Length per piece (mtr.)"
                                                    [ngClass]="{clearance: TripByFormSubmitted && Length_per_piece?.errors?.required}" required/>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Total Length (Mtr.) <sup class="text-danger">*</sup ></label>
                                                  <div class="label-t">{{ObjJobData.Total_Length ? ObjJobData.Total_Length+ ' Mtr.' : '-' }}</div>
                                                    <!-- <input type="text"
                                                    class="form-control"
                                                    name="Total_Length"
                                                    #Total_Length="ngModel"
                                                    [(ngModel)]="ObjJobData.Total_Length"
                                                    CompacctDigitonly="true"
                                                    (change)="check3Digit(ObjJobData.Total_Length,'Total_Length')"
                                                    placeholder="Total Length (mtr.)"
                                                    [ngClass]="{clearance: TripByFormSubmitted && Total_Length?.errors?.required}" required/> -->

                                              </div>

                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Remarks<sup class="text-danger">*</sup></label>
                                                <textarea name="Bridge_Item_Remarks" class="form-control" [(ngModel)]="ObjJobData.Bridge_Item_Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearBridgeData()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>

                                            </div>

                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Bridges and Culverts Works'" style="margin-top:1em">
                                              <div class='label-t' style="font-weight: 600;text-align: center;"  *ngIf='DetailList.length'>
                                                Date : {{DetailList[0].Date | date:'dd-MMM-yyyy'}}&nbsp;&nbsp;|
                                                Type of Works : {{DetailList[0].Type_of_Work}}
                                              </div>
                                              <div class="table-responsive no-padding">
                                                <table class='table bidopen table-bordered'>
                                                  <thead>
                                                    <tr  style="background-color:#3c8dbc;color:white;">
                                                      <th class="text-center" style="vertical-align:middle" >Action</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sl No.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Side</th>
                                                      <th class="text-center" style="vertical-align:middle" >Number</th>
                                                      <th class="text-center" style="vertical-align:middle" >Length (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Breath (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Height (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Qnty.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sub-Total Qnty.</th>
                                                      <!-- <th class="text-center" style="vertical-align:middle" >Grand Total Qnty. (Cum.)</th> -->
                                                      <th class="text-center" style="vertical-align:middle" >UNIT</th>
                                                      <th class="text-center" style="vertical-align:middle" >Remarks</th>
                                                      <th class="text-center" style="vertical-align:middle" >Delete</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <ng-container *ngFor='let struc of DistinctStructure'>
                                                      <tr style="background: #c1c1c1;">
                                                        <td class='text-left'  colspan='100%'>
                                                          <a (click)='struc.ToggleFlag = !struc.ToggleFlag' style='cursor:pointer;color:white;'>
                                                            <i style="color: dimgrey;" [ngClass]="struc.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{struc.structure}}</b></a></td>
                                                      </tr>
                                                    <ng-template [ngIf]='struc.ToggleFlag'>
                                                    <ng-container *ngFor='let Item of struc.Sub_Item_List;let disIndex = index;'>
                                                      <tr style="background:#e0e0e0;">
                                                        <td class='text-left' style="font-size:12px;padding-left: 1em;"  colspan='100%'>
                                                          <a (click)='Item.ToggleFlag = !Item.ToggleFlag' style='cursor:pointer;color:#222d32;'>
                                                            <i style="color: dimgrey;" [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{Item.Item_Code}}</b>
                                                          </a>
                                                        </td>
                                                      </tr>
                                                      <ng-template [ngIf]='Item.ToggleFlag && !Item.Sub_Item_Flag'>
                                                          <tr *ngFor='let rowData of getDetailList(Item.Item_Code ,"Main", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                              <td>
                                                                <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' class="btn btn-primary btn-xs"  title=' Details of Loose Item' (click)="viewTripTempArrFromDetails(rowData)">
                                                                  <i class="fa fa-fw fa-info-circle"></i></a>
                                                                  <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                  <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                              </td>
                                                              <td style='font-size: 0.8em;'>{{(disIndex+1) +'.'+ (rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>

                                                              <td style='font-size: 0.8em;'>{{ rowData.bridge_item_length ? rowData.bridge_item_length+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Bridge_Item_Breath ? rowData.Bridge_Item_Breath+' Mtr.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Height ? rowData.Bridge_Item_Height+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.QNTY ? rowData.QNTY+' '+ rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main', struc.Sl_No).length"  style='vertical-align: middle;text-align: center;' ><strong>{{ GetTotalQntBridge(Item.Item_Code,rowData.Structure_Details) ? GetTotalQntBridge(Item.Item_Code,rowData.Structure_Details) : '-'}}</strong></td>

                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main', struc.Sl_No).length"  style='vertical-align: middle;font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                             <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                            <td>
                                                              <a (click)="DeleteDetailList(rowData)"
                                                                ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                              </a>
                                                            </td>
                                                          </tr>
                                                          <tr>
                                                            <td  colspan='9' class='text-right' style='font-size: 1em;font-weight:bold'><strong>Grand Total : </strong> </td>
                                                            <td class='text-right' style='font-size: 1em;font-weight:bold;text-align:center;background: #d7f3ff;'> {{GetTotalQntBridge(Item.Item_Code,struc.Sl_No) + ' '+ GetTotalQntBridgeUnit(Item.Item_Code,struc.Sl_No)}}</td>
                                                          </tr>
                                                      </ng-template>
                                                      <ng-template [ngIf]='Item.ToggleFlag && Item.Sub_Item_Flag'>
                                                        <ng-container *ngFor='let subItem of Item.Sub_Item_List;let disIndex2 = index;'>
                                                            <tr>
                                                              <td class='text-left' style='font-size: 10px;background: azure;padding-left: 2em;'  colspan='100%'>
                                                                <a (click)='subItem.ToggleFlag2 = !subItem.ToggleFlag2' style='cursor:pointer;'>
                                                                  <i  [ngClass]="subItem.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                                  <b>{{subItem.bridge_item}}</b></a></td>
                                                            </tr>
                                                            <ng-template [ngIf]='subItem.ToggleFlag2'>
                                                              <tr *ngFor='let rowData of getDetailList(subItem.bridge_item,"Sub", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                                  <td>
                                                                    <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' title='Details of Loose Item' class="btn btn-primary btn-xs" (click)="viewTripTempArrFromDetails(rowData)">
                                                                      <i class="fa fa-fw fa-info-circle"></i></a>
                                                                      <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                      <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                                  </td>
                                                                  <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+(disIndex2 +1)+'.'+ (rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>

                                                              <td style='font-size: 0.8em;'>{{ rowData.bridge_item_length ? rowData.bridge_item_length+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Bridge_Item_Breath ? rowData.Bridge_Item_Breath+' Mtr.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Height ? rowData.Bridge_Item_Height+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.QNTY ? rowData.QNTY+' '+ rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(rowData.bridge_item ,'Sub', struc.Sl_No).length"  style='vertical-align: middle;text-align: center;'><strong> {{GetTotalQntBridge(rowData.bridge_item,rowData.Structure_Details,true) ? GetTotalQntBridge(rowData.bridge_item,rowData.Structure_Details,true) : '-'}}</strong></td>

                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(rowData.bridge_item ,'Sub', struc.Sl_No).length"  style='vertical-align: middle;font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                                <td>
                                                                  <a (click)="DeleteDetailList(rowData)"
                                                                    ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                                  </a>
                                                                </td>
                                                              </tr>
                                                              <!-- <tr style="background: #c1c1c161;">
                                                                <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Grand Total : </strong> {{GetTotalQntBridge(subItem.bridge_item,struc.Sl_No,true)}}</td>
                                                              </tr> -->
                                                          </ng-template>

                                                        </ng-container>
                                                        <tr >
                                                          <td  colspan='9' class='text-right' style='font-size: 1em;font-weight:bold'><strong>Grand Total : </strong> </td>
                                                          <td class='text-right' style='font-size: 1em;font-weight:bold;text-align:center;background: #d7f3ff;'> {{GetTotalQntBridge(Item.Item_Code,struc.Sl_No) + ' '+ GetTotalQntBridgeUnit(Item.Item_Code,struc.Sl_No)}}</td>
                                                        </tr>
                                                      </ng-template>
                                                    </ng-container>
                                                  </ng-template>
                                                </ng-container>
                                                    <!-- <ng-container *ngFor='let Item of DistinctItemCode'>
                                                    <tr>
                                                      <td class='text-left'  colspan='100%'>
                                                        <a (click)='Item.ToggleFlag = !Item.ToggleFlag'>
                                                          <i  [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                          <b>{{Item.Item_Code}}</b></a></td>
                                                    </tr>
                                                    <ng-template [ngIf]='Item.ToggleFlag'>
                                                    <tr *ngFor='let rowData of getDetailList(Item.Item_Code,"Main"); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                      <td>
                                                        <a *ngIf='rowData.calculation_type === "Addition"' class="btn btn-primary btn-sm" (click)="viewTripTempArrFromDetails(rowData)">
                                                          <i class="fa fa-fw fa-info-circle"></i></a>
                                                          <span *ngIf='rowData.calculation_type === "Deduction"'>-</span>
                                                      </td>
                                                        <td style='font-size: 0.8em;'>{{ rowIndex + 1 }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.calculation_type ? rowData.calculation_type : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{(rowData.structure_at_km  || rowData.structure_at_meter) ? rowData.structure_at_km +'/'+rowData.structure_at_meter +'KM ' : '-' }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Structured_Type ? rowData.Structured_Type : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Structured_Length ? rowData.Structured_Length : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Structured_Breadth ? rowData.Structured_Breadth : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Structured_Height ? rowData.Structured_Height : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.bridge_item ? rowData.bridge_item : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.bridge_item_length ? rowData.bridge_item_length : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{rowData.Bridge_Item_Breath ? rowData.Bridge_Item_Breath : '-'}}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Height ? rowData.Bridge_Item_Height : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Total_Qty ? rowData.Bridge_Item_Total_Qty : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                       <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                       <td>
                                                        <a (click)="DeleteDetailList(rowIndex)"
                                                          ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                        </a>
                                                      </td>
                                                    </tr>
                                                    <tr>
                                                      <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Total : </strong> {{GetTotalQnt(Item.Item_Code)}}</td>
                                                    </tr>
                                                  </ng-template>

                                                  </ng-container> -->
                                                  </tbody>
                                                </table>
                                             </div>

                                            </div>
                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Bridges and Culverts Works'" style="margin-top:1em">
                                              <div class='label-t' style="font-weight: 600;text-align: center;"  *ngIf='DistinctStructure2.length'>
                                                DETAILS OF HUME PIPE , WEEP HOLE & REMOVING PIPE
                                              </div>
                                              <div class="table-responsive no-padding" *ngIf='DistinctStructure2.length'>
                                                <table class='table bidopen table-bordered'>
                                                  <thead>
                                                    <tr  style="background-color:#3c8dbc;color:white;">
                                                      <th class="text-center" style="vertical-align:middle" >Action</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sl No.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Side</th>
                                                      <th class="text-center" style="vertical-align:middle" >DIA of HPC / Weep Hole</th>
                                                      <th class="text-center" style="vertical-align:middle" >Number</th>
                                                      <th class="text-center" style="vertical-align:middle" >Length per piece (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Length (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >UNIT  </th>
                                                      <th class="text-center" style="vertical-align:middle" >Sub-Total</th>
                                                      <th class="text-center" style="vertical-align:middle" >Remarks</th>
                                                      <th class="text-center" style="vertical-align:middle" >Delete</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <ng-container *ngFor='let struc of DistinctStructure2'>
                                                      <tr style="background: #c1c1c1;">
                                                        <td class='text-left'  colspan='100%'>
                                                          <a (click)='struc.ToggleFlag = !struc.ToggleFlag' style='cursor:pointer;color:white;'>
                                                            <i style="color: dimgrey;" [ngClass]="struc.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{struc.structure}}</b></a></td>
                                                      </tr>
                                                    <ng-template [ngIf]='struc.ToggleFlag'>
                                                    <ng-container *ngFor='let Item of struc.Sub_Item_List;let disIndex = index;'>
                                                      <tr style="background:#e0e0e0;">
                                                        <td class='text-left' style="font-size:12px;padding-left: 1em;"  colspan='100%'>
                                                          <a (click)='Item.ToggleFlag = !Item.ToggleFlag' style='cursor:pointer;color:#222d32;'>
                                                            <i style="color: dimgrey;" [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{Item.Item_Code}}</b>
                                                          </a>
                                                        </td>
                                                      </tr>
                                                      <ng-template [ngIf]='Item.ToggleFlag && !Item.Sub_Item_Flag'>
                                                          <tr *ngFor='let rowData of getDetailListHp(Item.Item_Code ,"Main", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                              <td>
                                                                <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' title='Details of Loose Item' class="btn btn-primary btn-xs" (click)="viewTripTempArrFromDetails2(rowData)">
                                                                  <i class="fa fa-fw fa-info-circle"></i></a>
                                                                  <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                  <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                              </td>
                                                              <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+ (rowIndex + 1)}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Dia && rowData.Item_Code.toUpperCase() === 'WEEP HOLE'? rowData.Dia+'"' : rowData.Dia+' mm.'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Length_per_piece ? rowData.Length_per_piece+' Mtr.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length ? rowData.Total_Length+' Mtr.' : '-'  }}</td>
                                                              <td  *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength2(rowData).length" style='vertical-align: middle;font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength2(rowData).length"  style='vertical-align: middle;text-align: center;' ><strong>{{ getTotalLength(rowData)}}</strong></td>

                                                             <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                            <td>
                                                              <a (click)="DeleteDetailListHp(rowData)"
                                                                ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                              </a>
                                                            </td>
                                                          </tr>

                                                      </ng-template>
                                                      <ng-template [ngIf]='Item.ToggleFlag && Item.Sub_Item_Flag'>
                                                        <ng-container *ngFor='let subItem of Item.Sub_Item_List;let disIndex2 = index;'>
                                                            <tr>
                                                              <td class='text-left' style='font-size: 10px;background: azure;padding-left: 2em;'  colspan='100%'>
                                                                <a (click)='subItem.ToggleFlag2 = !subItem.ToggleFlag2' style='cursor:pointer;'>
                                                                  <i  [ngClass]="subItem.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                                  <b>{{subItem.bridge_item}}</b></a></td>
                                                            </tr>
                                                            <ng-template [ngIf]='subItem.ToggleFlag2'>
                                                              <tr *ngFor='let rowData of getDetailListHp(subItem.bridge_item,"Sub", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                                  <td>
                                                                    <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' title='Details of Loose Item' class="btn btn-primary btn-xs" (click)="viewTripTempArrFromDetails(rowData)">
                                                                      <i class="fa fa-fw fa-info-circle"></i></a>
                                                                      <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                      <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                                  </td>
                                                                  <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+(disIndex2 + 1) +'.'+(rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Dia && rowData.Item_Code.toUpperCase() === 'WEEP HOLE' ? rowData.Dia : rowData.Dia+' mm.'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Length_per_piece ? rowData.Length_per_piece+' Mtr.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length ? rowData.Total_Length+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailListHp(subItem.bridge_item,'Sub', struc.Sl_No).length"  style='vertical-align: middle;text-align: center;' ><strong>{{ getTotalLength(rowData,true)}}</strong></td>
                                                              <!-- <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.bridge_item ,'Sub').length"  style='vertical-align: middle;text-align: center;'><strong> {{GetSubTotalQnt(subItem.bridge_item)}}</strong></td>
                                                              <td style='font-size: 0.8em;'>-</td>
                                                              <td style='font-size: 0.8em;'>-</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td> -->
                                                                <td>
                                                                  <a (click)="DeleteDetailListHp(rowData)"
                                                                    ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                                  </a>
                                                                </td>
                                                              </tr>
                                                              <!-- <tr style="background: #c1c1c161;">
                                                                <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Total : </strong></td>
                                                              </tr> -->
                                                          </ng-template>
                                                        </ng-container>
                                                      </ng-template>
                                                    </ng-container>
                                                  </ng-template>
                                                </ng-container>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Bridges and Culverts Works'" style="margin-top:1em">
                                              <div class='label-t' style="font-weight: 600;text-align: center;"  *ngIf='DistinctStructure3.length'>
                                                DETAILS OF REINFORCEMENT
                                              </div>
                                              <div class="table-responsive no-padding" *ngIf='DistinctStructure3.length'>
                                                <table class='table bidopen table-bordered'>
                                                  <thead>
                                                    <tr  style="background-color:#3c8dbc;color:white;">
                                                      <th class="text-center" style="vertical-align:middle" >Action</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sl No.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Side</th>
                                                      <th class="text-center" style="vertical-align:middle" >Dia of HYSD Bar (mm.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Number</th>
                                                      <th class="text-center" style="vertical-align:middle" >Length of Each Bar (Rmt.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Length (Rmt.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sub-Total Length </th>
                                                      <th class="text-center" style="vertical-align:middle" >Co-efficient (Kg/Rmt.)  </th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Qnty. (Kg.) </th>
                                                      <th class="text-center" style="vertical-align:middle" >Grand Total (Qtl.)  </th>
                                                      <th class="text-center" style="vertical-align:middle" >Remarks</th>
                                                      <th class="text-center" style="vertical-align:middle" >Delete</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <ng-container *ngFor='let struc of DistinctStructure3'>
                                                      <tr style="background: #c1c1c1;">
                                                        <td class='text-left'  colspan='100%'>
                                                          <a (click)='struc.ToggleFlag = !struc.ToggleFlag' style='cursor:pointer;color:white;'>
                                                            <i style="color: dimgrey;" [ngClass]="struc.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{struc.structure}}</b></a></td>
                                                      </tr>
                                                    <ng-template [ngIf]='struc.ToggleFlag'>
                                                    <ng-container *ngFor='let Item of struc.Sub_Item_List;let disIndex = index;'>
                                                      <tr style="background:#e0e0e0;">
                                                        <td class='text-left' style="font-size:12px;padding-left: 1em;"  colspan='100%'>
                                                          <a (click)='Item.ToggleFlag = !Item.ToggleFlag' style='cursor:pointer;color:#222d32;'>
                                                            <i style="color: dimgrey;" [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{Item.Item_Code}}</b>
                                                          </a>
                                                        </td>
                                                      </tr>
                                                      <ng-template [ngIf]='Item.ToggleFlag && !Item.Sub_Item_Flag'>
                                                          <tr *ngFor='let rowData of getDetailListbAR(Item.Item_Code ,"Main", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                              <td>
                                                                <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' class="btn btn-primary btn-xs" title='Details of Loose Item' (click)="viewTripTempArrFromDetails(rowData)">
                                                                  <i class="fa fa-fw fa-info-circle"></i></a>
                                                                  <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                  <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                              </td>
                                                              <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+ (rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Dia ? rowData.Dia + 'mm.': '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Length_per_Each_Bar ? rowData.Length_per_Each_Bar+' Rmt.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length_Rmt ? rowData.Total_Length_Rmt+' Rmt.' : '-'  }}</td>

                                                              <td  *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength(rowData).length"  style='vertical-align: middle;text-align: center;' ><strong>{{ GetTotalDiaWise(rowData) ? GetTotalDiaWise(rowData)+' Rmt.' : '-'}}</strong></td>
                                                              <td  *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength(rowData).length"  style='vertical-align: middle;text-align: center;font-size: 0.8em;'>{{ rowData.Co_efficient ? rowData.Co_efficient+' Kg/Rmt.' : '-'  }}</td>
                                                              <td *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength(rowData).length"  style='vertical-align: middle;text-align: center;font-size: 0.8em;'>{{  (GetTotalDiaWiseQnty(rowData) * rowData.Co_efficient).toFixed(3) +' Kg.'}}</td>
                                                              <td   *ngIf='rowIndex === 0' [attr.rowspan]="getDetailListbAR(Item.Item_Code ,'Main', struc.Sl_No).length"  style='vertical-align: middle;text-align: center;'>{{ GetTotalDia(rowData) ? GetTotalDia(rowData)+' Qtl.'  : '-' }}</td>
                                                             <!-- <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main').length"  style='vertical-align: middle;text-align: center;'>{{ GetItemConsumption(rowData,Item.Item_Code)  }}</td> -->
                                                             <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                            <td>
                                                              <a (click)="DeleteDetailListBAR(rowData)"
                                                                ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                              </a>
                                                            </td>
                                                          </tr>

                                                      </ng-template>
                                                      <ng-template [ngIf]='Item.ToggleFlag && Item.Sub_Item_Flag'>
                                                        <ng-container *ngFor='let subItem of Item.Sub_Item_List'>
                                                            <tr>
                                                              <td class='text-left' style='font-size: 10px;background: azure;padding-left: 2em;'  colspan='100%'>
                                                                <a (click)='subItem.ToggleFlag2 = !subItem.ToggleFlag2' style='cursor:pointer;'>
                                                                  <i  [ngClass]="subItem.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                                  <b>{{subItem.bridge_item}}</b></a></td>
                                                            </tr>
                                                            <ng-template [ngIf]='subItem.ToggleFlag2'>
                                                              <tr *ngFor='let rowData of getDetailListbAR(subItem.bridge_item,"Sub", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                                  <td>
                                                                    <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' title='Details of Loose Item' class="btn btn-primary btn-xs" (click)="viewTripTempArrFromDetails(rowData)">
                                                                      <i class="fa fa-fw fa-info-circle"></i></a>
                                                                      <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                      <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                                  </td>
                                                                  <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+ (rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Dia ? rowData.Dia : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Length_per_Each_Bar ? rowData.Length_per_Each_Bar : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length_Rmt ? rowData.Total_Length_Rmt : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Co_efficient ? rowData.Co_efficient : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.QNTY ? rowData.QNTY : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <!-- <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.bridge_item ,'Sub').length"  style='vertical-align: middle;text-align: center;'><strong> {{GetSubTotalQnt(subItem.bridge_item)}}</strong></td> -->
                                                              <td style='font-size: 0.8em;'>-</td>
                                                              <td style='font-size: 0.8em;'>-</td>
                                                              <!-- <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td> -->
                                                                <td>
                                                                  <a (click)="DeleteDetailListBAR(rowData)"
                                                                    ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                                  </a>
                                                                </td>
                                                              </tr>
                                                              <!-- <tr style="background: #c1c1c161;">
                                                                <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Total : </strong></td>
                                                              </tr> -->
                                                          </ng-template>
                                                        </ng-container>
                                                      </ng-template>
                                                    </ng-container>
                                                  </ng-template>
                                                </ng-container>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>






                                            <!-- (Road Works (Concrete) ) -->
                                            <div class="form-group"  *ngIf="ObjJobData.Type_of_Work ==='Road Works (Concrete)' && ObjJobData.Structure_Details"style="padding: 1.5em;">
                                              <p-accordion>
                                              <p-accordionTab header=" Structure Details">
                                                <div class="form-group" >
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Party Name<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.Party ? ObjJobData.Party : '-' }}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Structure Name<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.Structure_Name}}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{ObjJobData.Structure_Side ? ObjJobData.Structure_Side : '-' }}</div>
                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Chainage From (Km.)<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{(ObjJobData.Chainage_From_km || ObjJobData.Chainage_From_meter) ? ObjJobData.Chainage_From_km + '/' +ObjJobData.Chainage_From_meter : '-'}}</div>

                                                  </div>
                                                  <div class="col-sm-3">
                                                    <label class="control-label">Chainage To (Km.)<sup class="text-danger">*</sup></label>
                                                    <div class="label-t">{{(ObjJobData.Chainage_To_km || ObjJobData.Chainage_To_meter) ? ObjJobData.Chainage_To_km + '/' +ObjJobData.Chainage_To_meter : '-'}}</div>

                                                  </div>


                                                </div>
                                              </p-accordionTab>
                                              </p-accordion>
                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works (Concrete)' && ObjJobData.Item_Code  && ObjJobData.calculation_type === 'Addition' && ObjJobData.UNIT === 'Cum'  && !(ObjJobData.Item_Code === 'LOOSENING & LEVELING' || ObjJobData.Item_Code === 'E/W EXCAVATION (TRENCH)' || ObjJobData.Item_Code === 'E/W EXCAVATION IN CD')">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Loose Item :</strong>
                                            </h5>
                                              <div class="col-sm-3">
                                                <label class="control-label">Trip By <sup class="text-danger">*</sup></label>
                                                <span (click)="ToggleTripBy()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                <select class="form-control"
                                                        name="Trip"
                                                        #Trip="ngModel"
                                                        [(ngModel)]="ObjJobData.Trip_By"
                                                        [ngClass]="{'clearance': TripByFormSubmitted && (ObjJobData.Trip_By ==='' || ObjJobData.Trip_By=== null || ObjJobData.Trip_By=== undefined)}" >
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option *ngFor="let option of TripByList" [ngValue]="option.Trip_By">
                                                        {{option.Trip_By}}
                                                        </option>

                                                </select>
                                               </div>
                                               <div class="col-sm-2">
                                                <label class="control-label" >Vehicle No<sup class="text-danger">*</sup ></label>
                                                  <input type="text"
                                                    class="form-control"
                                                    name="Vehicle"
                                                    #Vehicle="ngModel"
                                                    [(ngModel)]="ObjJobData.Vehicle_No"
                                                    placeholder="Vehicle No"
                                                    [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Vehicle ==='' || ObjJobData.Vehicle  === null || ObjJobData.Vehicle === undefined)}"/>
                                              </div>
                                               <div class="col-sm-2">
                                                <label class="control-label" >Number of Trips<sup class="text-danger">*</sup ></label>
                                                  <input type="text"
                                                    class="form-control"
                                                    name="name1"
                                                    #name1="ngModel"
                                                    [(ngModel)]="ObjJobData.No_Of_Trip"
                                                    (change)="check3DigitLooseQty(ObjJobData.No_Of_Trip)"
                                                    CompacctDigitonly="true"
                                                    placeholder="Number of Trips"
                                                    [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.No_Of_Trip ==='' || ObjJobData.No_Of_Trip  === null || ObjJobData.No_Of_Trip === undefined)}"/>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >   Loose Qnty. per Trip<sup class="text-danger">*</sup ></label>
                                                  <span (click)="ToggleLooseQnty()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                  <select class="form-control"
                                                          name="Loose_Qty_Per_Trip"
                                                          #Loose_Qty_Per_Trip="ngModel"
                                                          [(ngModel)]="ObjJobData.Loose_Qty_Per_Trip"
                                                          (change)="CalculateTotalLooseQty()"
                                                          [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Loose_Qty_Per_Trip ==='' || ObjJobData.Loose_Qty_Per_Trip  === null || ObjJobData.Loose_Qty_Per_Trip === undefined)}" >
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of LooseQtyList" [ngValue]="option.Loose_Qty_Per_Trip">
                                                          {{option.Loose_Qty_Per_Trip}}
                                                          </option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" > Item Unit<sup class="text-danger">*</sup ></label>
                                                  <select class="form-control"
                                                        name="Material"
                                                        #Material="ngModel"
                                                        [(ngModel)]="ObjJobData.Material_Unit"
                                                        (change)="CalculateTotalLooseQty()"
                                                        [ngClass]="{'clearance': TripByFormSubmitted  && (ObjJobData.Material_Unit ==='' || ObjJobData.Material_Unit  === null || ObjJobData.Material_Unit === undefined)}">
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="CFT">CFT</option>
                                                    <option Value="CUM">CUM</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Item Received From <sup class="text-danger"></sup ></label>
                                                  <span (click)="ToggleReceivedFrom()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
                                                  <select class="form-control"
                                                          name="Received_From"
                                                          #Received_From="ngModel"
                                                          [(ngModel)]="ObjJobData.Received_From"
                                                          [ngClass]="{clearance: TripByFormSubmitted && (ObjJobData.Received_From ==='' || ObjJobData.Received_From  === null || ObjJobData.Received_From === undefined)}" >
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of ReceivedFromList" [ngValue]="option.Received_From">
                                                          {{option.Received_From}}
                                                          </option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-2 pull-right">
                                                <button class="btn btn-primary pull-right custombutton" data-toggle="modal"
                                                        (click)="AddTrip()"
                                                        id="load"
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                              </div>
                                            </div>
                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Road Works (Concrete)' && ObjJobData.Item_Code  && ObjJobData.calculation_type === 'Addition' && ObjJobData.UNIT === 'Cum'  && !(ObjJobData.Item_Code === 'LOOSENING & LEVELING' || ObjJobData.Item_Code === 'E/W EXCAVATION (TRENCH)' || ObjJobData.Item_Code === 'E/W EXCAVATION IN CD')" style="margin-top:1em">
                                              <div class="table-responsive no-padding">
                                                <table class="table bidopen table-bordered">
                                                  <thead>
                                                    <tr style="background-color:#3c8dbc;color:white;">
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Sl No.
                                                      </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Trip By
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Vehicle No
                                                    </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Number of Trips
                                                      </th>
                                                      <th
                                                        class="text-center"
                                                        style="vertical-align:middle"
                                                      >
                                                      Item Unit
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                      Loose Qnty. per Trip
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Total Loose Qnty.
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Item Received From
                                                      </th>

                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Sub-Total Loose Qnty.(Cum.)
                                                      </th>
                                                      <th
                                                      class="text-center"
                                                      style="vertical-align:middle"
                                                    >
                                                    Delete
                                                  </th>
                                                    </tr>

                                                  </thead>
                                                  <tbody>
                                                    <tr
                                                      *ngFor="
                                                        let d of TripTempArr;
                                                        let odd = odd;
                                                        let index = index
                                                      "
                                                      [class.even]="odd"
                                                    >
                                                      <td>{{ index + 1 }}</td>
                                                      <td>{{ d.Trip_By }}</td>
                                                      <td>{{ d.Vehicle_No ? d.Vehicle_No : '-'  }}</td>
                                                      <td>{{ d.No_Of_Trip ? d.No_Of_Trip : '-'  }}</td>
                                                      <td>{{ d.Loose_Qty_Per_Trip ? d.Loose_Qty_Per_Trip : '-'  }}</td>
                                                      <td>{{ d.Material_Unit ? d.Material_Unit : '-'  }}</td>
                                                      <td>{{ d.Total_Loose_Qty ? d.Total_Loose_Qty+' '+d.Material_Unit: '-'  }}</td>
                                                      <td>{{ d.Received_From ? d.Received_From : '-'  }}</td>
                                                      <td  *ngIf='index === 0' style='vertical-align: middle;text-align: center;'  [attr.rowspan]="TripTempArr.length">{{getAllQtyTrip()  }}</td>
                                                      <td>
                                                        <a (click)="DeleteTrip(index)"
                                                          ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                        </a>
                                                      </td>

                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                             <!-- EQUAL TO CUM & SQM (Road Works (Concrete) -> Addition)-->
                                             <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works (Concrete)'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  && (ObjJobData.UNIT === 'Cum' || ObjJobData.UNIT === 'Sqm')  && ChecItemCode() === '' ">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Works(Compacted Item) :</strong>
                                            </h5>
                                              <!-- <div class="col-sm-4">
                                                <label class="control-label">Sub-Item Code&nbsp;<span class="text-danger">*</span></label>
                                                <p-dropdown [options]="BridgeItemList"
                                                            name="product"
                                                            [(ngModel)]="BridgeItemSelect"
                                                            [showClear]="true"
                                                            [emptyFilterMessage]="' No Item Code Found'"
                                                            (onChange)="BridgeItemCodeChange(BridgeItemSelect)"
                                                            [filter]="true"
                                                            filterBy="label,value.name"
                                                            [placeholder]="'Select Sub-Item Code'"
                                                            [virtualScroll]="true"
                                                            itemSize="30"
                                                            #product="ngModel"
                                                            [styleClass]="DailyJobFormFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                            [required]="true">
                                                        </p-dropdown>
                                              </div> -->
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" >Number<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Number"
                                                    #Number ="ngModel"
                                                    [(ngModel)]="ObjJobData.Number"
                                                    (change)='check3DigitNumber(ObjJobData.Number)'
                                                    CompacctDigitonly="true"
                                                    placeholder="Nos"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Number?.errors?.required}" required/>

                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage From (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_KM"
                                                  #Chanage_From_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="From Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_From_KM?.errors?.required }" required >
                                                  <span class="input-group-addon custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_M"
                                                  #Chanage_From_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_From_M,'Chanage_From_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="From Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_From_M?.errors?.required ) || (ObjJobData.Chanage_From_M && (ObjJobData.Chanage_From_M.length !== 3))}" required >
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage To (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input type="text" class="form-control"
                                                  name="Chanage_To_KM"
                                                  #Chanage_To_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="To Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_To_KM?.errors?.required }" required>
                                                  <span class="input-group-addon  custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_To_M"
                                                  #Chanage_To_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_To_M,'Chanage_To_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="To Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_To_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon  custmaddon">Mtr. </span>
                                                </div>
                                              </div>

                                              <div class='col-sm-2'>
                                                <label class="control-label">Total Length (Mtr.)<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.Total_Length ? ObjJobData.Total_Length + ' Mtr.': ''}}</div>

                                              </div>
                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works (Concrete)'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code  && (ObjJobData.UNIT === 'Cum' || ObjJobData.UNIT === 'Sqm')  && ChecItemCode() === ''">

                                              <div class="col-sm-3" style='margin-top: -1px;'>
                                                <label class="control-label" > Width/Breadth (Mtr.)<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Width"
                                                    #Width="ngModel"
                                                    [(ngModel)]="ObjJobData.Width"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitWidth(ObjJobData.Width)"
                                                    placeholder="Width/Breadth (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Width?.errors?.required }" required/>
                                                    <span class="input-group-addon">Mtr.</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-3"  style='margin-top: -1px;' *ngIf="ObjJobData.UNIT === 'Cum'">
                                                <label class="control-label" >Height / Thickness (Mtr.)<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Hight_Thikness"
                                                    #Hight_Thikness="ngModel"
                                                    [(ngModel)]="ObjJobData.Hight_Thikness"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitHeight(ObjJobData.Hight_Thikness)"
                                                    placeholder="Height / Thickness (Mtr.)"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Hight_Thikness?.errors?.required }" required/>
                                                    <span class="input-group-addon">Mtr.</span>
                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.QNTY ? ObjJobData.QNTY + ''+ObjJobData.UNIT : ''}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                <textarea name="Remarks" row='1'  class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearAddDetails()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                            <!-- NOT EQUAL TO CUM & SQM (Road Works (Concrete) -> Addition) -->
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work === 'Road Works (Concrete)'  && ObjJobData.calculation_type === 'Addition' && ObjJobData.Item_Code   &&  (ObjJobData.UNIT === 'No.' || ObjJobData.UNIT === 'Nos.' || ObjJobData.UNIT === 'Rmt' || ObjJobData.UNIT === 'Rm'  )  && ChecItemCode() === '' ">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong> Details of Works (Item Fitting / Fixing at Site) :</strong>
                                              </h5>
                                              <!-- <div class="col-sm-4" *ngIf="BridgeItemList.length">
                                                <label class="control-label">Sub-Item Code&nbsp;<span class="text-danger">*</span></label>
                                                <p-dropdown [options]="BridgeItemList"
                                                            name="product"
                                                            [(ngModel)]="BridgeItemSelect"
                                                            [showClear]="true"
                                                            [emptyFilterMessage]="' No Item Code Found'"
                                                            (onChange)="BridgeItemCodeChange(BridgeItemSelect)"
                                                            [filter]="true"
                                                            filterBy="label,value.name"
                                                            [placeholder]="'Select Sub-Item Code'"
                                                            [virtualScroll]="true"
                                                            itemSize="30"
                                                            #product="ngModel"
                                                            [styleClass]="DailyJobFormFormSubmitted &&  product.errors?.required ? 'clearance' :''"
                                                            [required]="true">
                                                        </p-dropdown>
                                              </div> -->
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                 <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <!-- <div class="col-sm-2">
                                                <label class="control-label" >Number<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Number"
                                                    #Number ="ngModel"
                                                    [(ngModel)]="ObjJobData.Number"
                                                    (change)='check3DigitNumber(ObjJobData.Number)'
                                                    CompacctDigitonly="true"
                                                    placeholder="Nos"
                                                    [ngClass]="{clearance: DailyJobFormFormSubmitted && Number?.errors?.required}" required/>

                                                  </div>

                                              </div> -->
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage From (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_KM"
                                                  #Chanage_From_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="From Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_From_KM?.errors?.required }" required >
                                                  <span class="input-group-addon custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_From_M"
                                                  #Chanage_From_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_From_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_From_M,'Chanage_From_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="From Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_From_M?.errors?.required ) || (ObjJobData.Chanage_From_M && (ObjJobData.Chanage_From_M.length !== 3))}" required >
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon custmaddon">Mtr. </span>
                                                </div>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label"> Chainage To (Km.)<sup class="text-danger">*</sup></label>
                                                <div class="input-group">
                                                  <input type="text" class="form-control"
                                                  name="Chanage_To_KM"
                                                  #Chanage_To_KM="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_KM"
                                                  CompacctDigitonly="true"
                                                  (change)="GetTotalLength()"
                                                  placeholder="To Km."
                                                  [ngClass]="{clearance: DailyJobFormFormSubmitted && Chanage_To_KM?.errors?.required }" required>
                                                  <span class="input-group-addon  custmaddon  input-group-separator">/</span>
                                                  <input  type="text" class="form-control"
                                                  name="Chanage_To_M"
                                                  #Chanage_To_M="ngModel"
                                                  [(ngModel)]="ObjJobData.Chanage_To_M"
                                                  CompacctDigitonly="true"
                                                  (change)="check3DigitChanage(ObjJobData.Chanage_To_M,'Chanage_To_M')"
                                                  pattern="[0-9]{3}"
                                                  placeholder="To Mtr."
                                                  [ngClass]="{clearance: (DailyJobFormFormSubmitted && Chanage_To_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
                                                </div>
                                                <div class="input-group">
                                                  <span class="input-group-addon custmaddon">Km. </span>
                                                  <span class="input-group-addon  custmaddon">Mtr. </span>
                                                </div>
                                              </div>


                                              <div class="col-sm-2">
                                                <label class="control-label">Qnty.<sup class="text-danger">*</sup></label>
                                                <input type="text"
                                                class="form-control"
                                                name="Total_QNTY"
                                                #Total_QNTY="ngModel"
                                                [(ngModel)]="ObjJobData.QNTY"
                                                (change)="check3Digit(ObjJobData.QNTY,'QNTY')"
                                                CompacctDigitonly="true"
                                                placeholder="Qnty."
                                                [ngClass]="{clearance: DailyJobFormFormSubmitted && Total_QNTY?.errors?.required }" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label">Remarks<sup class="text-danger"></sup></label>
                                                <textarea name="Remarks" row='1'  class="form-control" [(ngModel)]="ObjJobData.Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearAddDetails()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>
                                            <!-- EQUAL TO WEEP  (Road Works (Concrete) -> Addition)-->
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work ==='Road Works (Concrete)' && ObjJobData.Item_Code  && ObjJobData.Item_Code.toUpperCase() === 'WEEP HOLE'">
                                            <h5 style="
                                            padding: 0.5em 1em;
                                            background: #c1c1c185;
                                            border-top: 5px solid #3c8dbc;
                                            border-bottom: 1px solid #c6c6c6;
                                            margin-top: 15px;
                                            ">
                                            <i class="fa fa-fw fa-fax">
                                            </i> &nbsp;<strong>Details of Work (Weep Hole)</strong>
                                            </h5>

                                            <div class="col-sm-2">
                                              <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                              <select class="form-control"
                                                      name="Side"
                                                      #Side="ngModel"
                                                      [(ngModel)]="ObjJobData.Side"
                                                      [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                      <option  [ngValue]="undefined">Select</option>
                                                  <option Value="LHS">LHS</option>
                                                  <option Value="RHS">RHS</option>
                                                  <option Value="Both Side">Both Side</option>
                                              </select>
                                            </div>

                                            <div class="col-sm-3" *ngIf="ObjJobData.Item_Code.toUpperCase() === 'WEEP HOLE'">
                                              <label class="control-label">Dia of Weep Hole<sup class="text-danger">*</sup></label>
                                                <select class="form-control"
                                                      name="Size"
                                                      #Size="ngModel"
                                                      [(ngModel)]="ObjJobData.Dia"
                                                      [ngClass]="{'clearance': DailyJobFormFormSubmitted && Size.errors?.required}" required>
                                                      <option  [ngValue]="undefined">Select</option>
                                                  <option Value='3'>3"</option>
                                                  <option Value='4'>4"</option>
                                                  <option Value='5'>5"</option>
                                                  <option Value='6'>6"</option>
                                              </select>
                                            </div>
                                            <div class="col-sm-2">
                                              <label class="control-label" >Number<sup class="text-danger">*</sup ></label>
                                                <div class="input-group">
                                                  <input type="text"
                                                  class="form-control"
                                                  name="Number"
                                                  #Number ="ngModel"
                                                  [(ngModel)]="ObjJobData.Number"
                                                  (change)='check3DigitNumber2(ObjJobData.Number)'
                                                  CompacctDigitonly="true"
                                                  placeholder="Nos"
                                                  [ngClass]="{clearance: TripByFormSubmitted && Number?.errors?.required}" required/>

                                                </div>

                                            </div>


                                            <div class="col-sm-2" *ngIf="ObjJobData.Item_Code.toUpperCase() === 'WEEP HOLE'">
                                              <label class="control-label"> Length per piece (Mtr.)<sup class="text-danger">*</sup></label>
                                              <input type="text"
                                                  class="form-control"
                                                  name="Length_per_piece "
                                                  #Length_per_piece ="ngModel"
                                                  [(ngModel)]="ObjJobData.Length_per_piece"
                                                  (change)='calculateHpLength()'
                                                  CompacctDigitonly="true"
                                                  (change)="check3Digit(ObjJobData.Length_per_piece,'Length_per_piece')"
                                                  placeholder=" Length per piece (mtr.)"
                                                  [ngClass]="{clearance: TripByFormSubmitted && Length_per_piece?.errors?.required}" required/>
                                            </div>
                                            <div class="col-sm-3">
                                              <label class="control-label" >Total Length (Mtr.) <sup class="text-danger">*</sup ></label>
                                                <div class="label-t">{{ObjJobData.Total_Length ? ObjJobData.Total_Length+ ' Mtr.' : '-' }}</div>
                                                  <!-- <input type="text"
                                                  class="form-control"
                                                  name="Total_Length"
                                                  #Total_Length="ngModel"
                                                  [(ngModel)]="ObjJobData.Total_Length"
                                                  CompacctDigitonly="true"
                                                  (change)="check3Digit(ObjJobData.Total_Length,'Total_Length')"
                                                  placeholder="Total Length (mtr.)"
                                                  [ngClass]="{clearance: TripByFormSubmitted && Total_Length?.errors?.required}" required/> -->

                                            </div>

                                            <div class="col-sm-2">
                                              <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                              <div class="label-t">{{ObjJobData.UNIT}}</div>

                                            </div>
                                            <div class="col-sm-4">
                                              <label class="control-label">Remarks<sup class="text-danger">*</sup></label>
                                              <textarea name="Bridge_Item_Remarks" class="form-control" [(ngModel)]="ObjJobData.Bridge_Item_Remarks"> </textarea>

                                            </div>
                                            <div class="col-sm-4">
                                              <button class="btn btn-primary custombutton" data-toggle="modal"
                                                      (click)="AddDetailList(DailyJobForm.form.valid)"
                                                      id="load"
                                                      type='button'
                                                      [disabled]="Spinner">
                                                      <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                      <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                              </button>
                                              <button class="btn btn-warning custombutton" data-toggle="modal"
                                              (click)="clearBridgeData()"
                                              type='button'
                                              id="load"
                                              [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                            </div>

                                            </div>
                                             <!-- EQUAL TO HYSD BAR (Road Works (Concrete) -> Addition)-->
                                             <div class="form-group" *ngIf="ObjJobData.Type_of_Work ==='Road Works (Concrete)' && ObjJobData.Item_Code  && ChecItemCode() === 'BAR'">
                                              <h5 style="
                                              padding: 0.5em 1em;
                                              background: #c1c1c185;
                                              border-top: 5px solid #3c8dbc;
                                              border-bottom: 1px solid #c6c6c6;
                                              margin-top: 15px;
                                              ">
                                              <i class="fa fa-fw fa-fax">
                                              </i> &nbsp;<strong>Details of Work (Reinforcement) :</strong>
                                              </h5>
                                              <div class="col-sm-2">
                                                <label class="control-label">Side<sup class="text-danger">*</sup></label>
                                                <select class="form-control"
                                                        name="Side"
                                                        #Side="ngModel"
                                                        [(ngModel)]="ObjJobData.Side"
                                                        [ngClass]="{'clearance': DailyJobFormFormSubmitted && Side.errors?.required}" required>
                                                        <option  [ngValue]="undefined">Select</option>
                                                    <option Value="LHS">LHS</option>
                                                    <option Value="RHS">RHS</option>
                                                    <option Value="Both Side">Both Side</option>
                                                </select>
                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" > Dia of HYSD Bar / Steel (mm.) <sup class="text-danger">*</sup ></label>
                                                  <select class="form-control"
                                                          name="DiaHYSD"
                                                          #DiaHYSD="ngModel"
                                                          [(ngModel)]="ObjJobData.Dia"
                                                          (change)="FetchCoefficient(ObjJobData.Dia)"
                                                          [ngClass]="{clearance: TripByFormSubmitted && DiaHYSD?.errors.required}" required>
                                                          <option  [ngValue]="undefined">Select</option>
                                                      <option *ngFor="let option of DiaList" [ngValue]="option.dia">
                                                          {{option.dia+' mm.' }}
                                                          </option>

                                                  </select>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" >Numbers<sup class="text-danger">*</sup ></label>
                                                  <div class="input-group">
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Number "
                                                    #Number ="ngModel"
                                                    [(ngModel)]="ObjJobData.Number"
                                                    (change)='check3DigitNumber(ObjJobData.Number)'
                                                    CompacctDigitonly="true"
                                                    placeholder="Number"
                                                    [ngClass]="{clearance: TripByFormSubmitted && Number?.errors?.required}" required/>

                                                  </div>

                                              </div>
                                              <div class="col-sm-3">
                                                <label class="control-label" >Length of each Bar (Rmt.)<sup class="text-danger">*</sup ></label>
                                                    <input type="text"
                                                    class="form-control"
                                                    name="Length_per_Each_Bar "
                                                    #Length_per_Each_Bar ="ngModel"
                                                    [(ngModel)]="ObjJobData.Length_per_Each_Bar"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitLengthPerRmt(ObjJobData.Length_per_Each_Bar)"
                                                    placeholder="Length per Each Bar (Rmt.)"
                                                    [ngClass]="{clearance: TripByFormSubmitted && Length_per_Each_Bar?.errors?.required}" required/>

                                              </div>
                                              <div class="col-sm-2">
                                                <label class="control-label" >Total Length (Rmt.) <sup class="text-danger">*</sup ></label>
                                                  <div class="label-t">{{ObjJobData.Total_Length_Rmt ? ObjJobData.Total_Length_Rmt+ ' Rmt.' : '-' }}</div>
                                                    <!-- <input type="text"
                                                    class="form-control"
                                                    name="Total_Length_Rmt"
                                                    #Total_Length_Rmt="ngModel"
                                                    [(ngModel)]="ObjJobData.Total_Length_Rmt"
                                                    CompacctDigitonly="true"
                                                    (change)="check3DigitTotalLengthRmt(ObjJobData.Total_Length_Rmt)"
                                                    placeholder="Total Length (Rmt.)"
                                                    [ngClass]="{clearance: TripByFormSubmitted &&  Total_Length_Rmt?.errors?.required}" required/> -->

                                              </div>
                                             <div class="col-sm-2">
                                                <label class="control-label">Co-efficient (Kg/Rmt.)<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.Co_efficient ? ObjJobData.Co_efficient + ' Kg/Rmt.' : '-'}}</div>

                                              </div>


                                            </div>
                                            <div class="form-group" *ngIf="ObjJobData.Type_of_Work ==='Road Works (Concrete)' && ObjJobData.Item_Code  && ChecItemCode() === 'BAR'">
                                              <div class="col-sm-2">
                                                <label class="control-label">Qnty. (Qtl.)<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.QNTY ? ObjJobData.QNTY + ' Qtl.' : ''}}</div>

                                              </div>

                                              <div class="col-sm-2">
                                                <label class="control-label">UNIT<sup class="text-danger">*</sup></label>
                                                <div class="label-t">{{ObjJobData.UNIT}}</div>

                                              </div>
                                              <div class="col-sm-4">
                                                <label class="control-label">Remarks<sup class="text-danger">*</sup></label>
                                                <textarea name="Bridge_Item_Remarks" class="form-control" [(ngModel)]="ObjJobData.Bridge_Item_Remarks"> </textarea>

                                              </div>
                                              <div class="col-sm-4">
                                                <button class="btn btn-primary custombutton" data-toggle="modal"
                                                        (click)="AddDetailList(DailyJobForm.form.valid)"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-plus"></span>&nbsp;Add
                                                </button>
                                                <button class="btn btn-warning custombutton" data-toggle="modal"
                                                (click)="clearBridgeData()"
                                                type='button'
                                                id="load"
                                                [disabled]="Spinner"> <span class="glyphicon glyphicon-refresh"></span>&nbsp;Clear   </button>
                                              </div>
                                            </div>


                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Road Works (Concrete)'" style="margin-top:1em">
                                              <div class='label-t' style="font-weight: 600;text-align: center;"  *ngIf='DetailList.length'>
                                                Date : {{DetailList[0].Date | date:'dd-MMM-yyyy'}}&nbsp;&nbsp;|
                                                Type of Works : {{DetailList[0].Type_of_Work}}
                                              </div>
                                              <div class="table-responsive no-padding">
                                                <table class='table bidopen table-bordered'>
                                                  <thead>
                                                    <tr  style="background-color:#3c8dbc;color:white;">
                                                      <th class="text-center" style="vertical-align:middle" >Action</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sl No.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Side</th>
                                                      <th class="text-center" style="vertical-align:middle" >Number</th>
                                                      <th class="text-center" style="vertical-align:middle" > Chainage From (Km.)</th>
                                                      <th class="text-center" style="vertical-align:middle" > Chainage To (Km.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Chainage At (Km.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Length (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Width/Breadth (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Height / Thickness (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Qnty.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sub-Total Qnty.</th>
                                                      <!-- <th class="text-center" style="vertical-align:middle" >Grand Total Qnty. (Cum.)</th> -->
                                                      <th class="text-center" style="vertical-align:middle" >UNIT</th>
                                                      <th class="text-center" style="vertical-align:middle" >Remarks</th>
                                                      <th class="text-center" style="vertical-align:middle" >Delete</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <ng-container *ngFor='let struc of DistinctStructure'>
                                                      <tr style="background: #c1c1c1;">
                                                        <td class='text-left'  colspan='100%'>
                                                          <a (click)='struc.ToggleFlag = !struc.ToggleFlag' style='cursor:pointer;color:white;'>
                                                            <i style="color: dimgrey;" [ngClass]="struc.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{struc.structure}}</b></a></td>
                                                      </tr>
                                                    <ng-template [ngIf]='struc.ToggleFlag'>
                                                    <ng-container *ngFor='let Item of struc.Sub_Item_List;let disIndex = index;'>
                                                      <tr style="background:#e0e0e0;">
                                                        <td class='text-left' style="font-size:12px;padding-left: 1em;"  colspan='100%'>
                                                          <a (click)='Item.ToggleFlag = !Item.ToggleFlag' style='cursor:pointer;color:#222d32;'>
                                                            <i style="color: dimgrey;" [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{Item.Item_Code}}</b>
                                                          </a>
                                                        </td>
                                                      </tr>
                                                      <ng-template [ngIf]='Item.ToggleFlag && !Item.Sub_Item_Flag'>
                                                          <tr *ngFor='let rowData of getDetailList(Item.Item_Code ,"Main", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                              <td>
                                                                <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' class="btn btn-primary btn-xs"  title=' Details of Loose Item' (click)="viewTripTempArrFromDetails(rowData)">
                                                                  <i class="fa fa-fw fa-info-circle"></i></a>
                                                                  <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                  <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                              </td>
                                                              <td style='font-size: 0.8em;'>{{(disIndex+1) +'.'+ (rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{(rowData.Chanage_From_KM  || rowData.Chanage_From_M) ? rowData.Chanage_From_KM +'/'+rowData.Chanage_From_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ (rowData.Chanage_To_KM  || rowData.Chanage_To_M) ? rowData.Chanage_To_KM +'/'+rowData.Chanage_To_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ (rowData.Chanage_At_KM  || rowData.Chanage_At_M) ? rowData.Chanage_At_KM +'/'+rowData.Chanage_At_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length ? rowData.Total_Length+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Width ? rowData.Width+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Hight_Thikness ? rowData.Hight_Thikness+' Mtr.' : '-'}}</td>


                                                              <td style='font-size: 0.8em;'>{{ rowData.QNTY ? rowData.QNTY+' '+ rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main', struc.Sl_No).length"  style='vertical-align: middle;text-align: center;' ><strong>{{ GetTotalQntBridge(Item.Item_Code,rowData.Structure_Details) ? GetTotalQntBridge(Item.Item_Code,rowData.Structure_Details) : '-'}}</strong></td>

                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main', struc.Sl_No).length"  style='vertical-align: middle;font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                             <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                            <td>
                                                              <a (click)="DeleteDetailList(rowData)"
                                                                ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                              </a>
                                                            </td>
                                                          </tr>
                                                          <tr>
                                                            <td  colspan='13' class='text-right' style='font-size: 1em;font-weight:bold'><strong>Grand Total : </strong> </td>
                                                            <td class='text-right' style='font-size: 1em;font-weight:bold;text-align:center;background: #d7f3ff;'> {{GetTotalQntBridge(Item.Item_Code,struc.Sl_No) + ' '+ GetTotalQntBridgeUnit(Item.Item_Code,struc.Sl_No)}}</td>
                                                          </tr>
                                                      </ng-template>
                                                      <ng-template [ngIf]='Item.ToggleFlag && Item.Sub_Item_Flag'>
                                                        <ng-container *ngFor='let subItem of Item.Sub_Item_List;let disIndex2 = index;'>
                                                            <tr>
                                                              <td class='text-left' style='font-size: 10px;background: azure;padding-left: 2em;'  colspan='100%'>
                                                                <a (click)='subItem.ToggleFlag2 = !subItem.ToggleFlag2' style='cursor:pointer;'>
                                                                  <i  [ngClass]="subItem.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                                  <b>{{subItem.bridge_item}}</b></a></td>
                                                            </tr>
                                                            <ng-template [ngIf]='subItem.ToggleFlag2'>
                                                              <tr *ngFor='let rowData of getDetailList(subItem.bridge_item,"Sub", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                                  <td>
                                                                    <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' title='Details of Loose Item' class="btn btn-primary btn-xs" (click)="viewTripTempArrFromDetails(rowData)">
                                                                      <i class="fa fa-fw fa-info-circle"></i></a>
                                                                      <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                      <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                                  </td>
                                                                  <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+(disIndex2 +1)+'.'+ (rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{(rowData.Chanage_From_KM  || rowData.Chanage_From_M) ? rowData.Chanage_From_KM +'/'+rowData.Chanage_From_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ (rowData.Chanage_To_KM  || rowData.Chanage_To_M) ? rowData.Chanage_To_KM +'/'+rowData.Chanage_To_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ (rowData.Chanage_At_KM  || rowData.Chanage_At_M) ? rowData.Chanage_At_KM +'/'+rowData.Chanage_At_M +'KM ' : '-' }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length ? rowData.Total_Length+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Width ? rowData.Width+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Hight_Thikness ? rowData.Hight_Thikness+' Mtr.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.QNTY ? rowData.QNTY+' '+ rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(rowData.bridge_item ,'Sub', struc.Sl_No).length"  style='vertical-align: middle;text-align: center;'><strong> {{GetTotalQntBridge(rowData.bridge_item,rowData.Structure_Details,true) ? GetTotalQntBridge(rowData.bridge_item,rowData.Structure_Details,true) : '-'}}</strong></td>

                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(rowData.bridge_item ,'Sub', struc.Sl_No).length"  style='vertical-align: middle;font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                                <td>
                                                                  <a (click)="DeleteDetailList(rowData)"
                                                                    ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                                  </a>
                                                                </td>
                                                              </tr>
                                                              <!-- <tr style="background: #c1c1c161;">
                                                                <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Grand Total : </strong> {{GetTotalQntBridge(subItem.bridge_item,struc.Sl_No,true)}}</td>
                                                              </tr> -->
                                                          </ng-template>

                                                        </ng-container>
                                                        <tr >
                                                          <td  colspan='13' class='text-right' style='font-size: 1em;font-weight:bold'><strong>Grand Total : </strong> </td>
                                                          <td class='text-right' style='font-size: 1em;font-weight:bold;text-align:center;background: #d7f3ff;'> {{GetTotalQntBridge(Item.Item_Code,struc.Sl_No) + ' '+ GetTotalQntBridgeUnit(Item.Item_Code,struc.Sl_No)}}</td>
                                                        </tr>
                                                      </ng-template>
                                                    </ng-container>
                                                  </ng-template>
                                                </ng-container>
                                                    <!-- <ng-container *ngFor='let Item of DistinctItemCode'>
                                                    <tr>
                                                      <td class='text-left'  colspan='100%'>
                                                        <a (click)='Item.ToggleFlag = !Item.ToggleFlag'>
                                                          <i  [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                          <b>{{Item.Item_Code}}</b></a></td>
                                                    </tr>
                                                    <ng-template [ngIf]='Item.ToggleFlag'>
                                                    <tr *ngFor='let rowData of getDetailList(Item.Item_Code,"Main"); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                      <td>
                                                        <a *ngIf='rowData.calculation_type === "Addition"' class="btn btn-primary btn-sm" (click)="viewTripTempArrFromDetails(rowData)">
                                                          <i class="fa fa-fw fa-info-circle"></i></a>
                                                          <span *ngIf='rowData.calculation_type === "Deduction"'>-</span>
                                                      </td>
                                                        <td style='font-size: 0.8em;'>{{ rowIndex + 1 }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.calculation_type ? rowData.calculation_type : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{(rowData.structure_at_km  || rowData.structure_at_meter) ? rowData.structure_at_km +'/'+rowData.structure_at_meter +'KM ' : '-' }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Structured_Type ? rowData.Structured_Type : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Structured_Length ? rowData.Structured_Length : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Structured_Breadth ? rowData.Structured_Breadth : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Structured_Height ? rowData.Structured_Height : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.bridge_item ? rowData.bridge_item : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.bridge_item_length ? rowData.bridge_item_length : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{rowData.Bridge_Item_Breath ? rowData.Bridge_Item_Breath : '-'}}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Height ? rowData.Bridge_Item_Height : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Total_Qty ? rowData.Bridge_Item_Total_Qty : '-'  }}</td>
                                                        <td style='font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                       <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                       <td>
                                                        <a (click)="DeleteDetailList(rowIndex)"
                                                          ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                        </a>
                                                      </td>
                                                    </tr>
                                                    <tr>
                                                      <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Total : </strong> {{GetTotalQnt(Item.Item_Code)}}</td>
                                                    </tr>
                                                  </ng-template>

                                                  </ng-container> -->
                                                  </tbody>
                                                </table>
                                             </div>

                                            </div>
                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Road Works (Concrete)'" style="margin-top:1em">
                                              <div class='label-t' style="font-weight: 600;text-align: center;"  *ngIf='DistinctStructure2.length'>
                                                DETAILS OF WEEP HOLE
                                              </div>
                                              <div class="table-responsive no-padding" *ngIf='DistinctStructure2.length'>
                                                <table class='table bidopen table-bordered'>
                                                  <thead>
                                                    <tr  style="background-color:#3c8dbc;color:white;">
                                                      <th class="text-center" style="vertical-align:middle" >Action</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sl No.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Side</th>
                                                      <th class="text-center" style="vertical-align:middle" >DIA of Weep Hole</th>
                                                      <th class="text-center" style="vertical-align:middle" >Number</th>
                                                      <th class="text-center" style="vertical-align:middle" >Length per piece (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Length (Mtr.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >UNIT  </th>
                                                      <th class="text-center" style="vertical-align:middle" >Sub-Total</th>
                                                      <th class="text-center" style="vertical-align:middle" >Remarks</th>
                                                      <th class="text-center" style="vertical-align:middle" >Delete</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <ng-container *ngFor='let struc of DistinctStructure2'>
                                                      <tr style="background: #c1c1c1;">
                                                        <td class='text-left'  colspan='100%'>
                                                          <a (click)='struc.ToggleFlag = !struc.ToggleFlag' style='cursor:pointer;color:white;'>
                                                            <i style="color: dimgrey;" [ngClass]="struc.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{struc.structure}}</b></a></td>
                                                      </tr>
                                                    <ng-template [ngIf]='struc.ToggleFlag'>
                                                    <ng-container *ngFor='let Item of struc.Sub_Item_List;let disIndex = index;'>
                                                      <tr style="background:#e0e0e0;">
                                                        <td class='text-left' style="font-size:12px;padding-left: 1em;"  colspan='100%'>
                                                          <a (click)='Item.ToggleFlag = !Item.ToggleFlag' style='cursor:pointer;color:#222d32;'>
                                                            <i style="color: dimgrey;" [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{Item.Item_Code}}</b>
                                                          </a>
                                                        </td>
                                                      </tr>
                                                      <ng-template [ngIf]='Item.ToggleFlag && !Item.Sub_Item_Flag'>
                                                          <tr *ngFor='let rowData of getDetailListHp(Item.Item_Code ,"Main", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                              <td>
                                                                <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' title='Details of Loose Item' class="btn btn-primary btn-xs" (click)="viewTripTempArrFromDetails2(rowData)">
                                                                  <i class="fa fa-fw fa-info-circle"></i></a>
                                                                  <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                  <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                              </td>
                                                              <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+ (rowIndex + 1)}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Dia && rowData.Item_Code.toUpperCase() === 'WEEP HOLE'? rowData.Dia+'"' : rowData.Dia+' mm.'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Length_per_piece ? rowData.Length_per_piece+' Mtr.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length ? rowData.Total_Length+' Mtr.' : '-'  }}</td>
                                                              <td  *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength2(rowData).length" style='vertical-align: middle;font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength2(rowData).length"  style='vertical-align: middle;text-align: center;' ><strong>{{ getTotalLength(rowData)}}</strong></td>

                                                             <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                            <td>
                                                              <a (click)="DeleteDetailListHp(rowData)"
                                                                ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                              </a>
                                                            </td>
                                                          </tr>

                                                      </ng-template>
                                                      <ng-template [ngIf]='Item.ToggleFlag && Item.Sub_Item_Flag'>
                                                        <ng-container *ngFor='let subItem of Item.Sub_Item_List;let disIndex2 = index;'>
                                                            <tr>
                                                              <td class='text-left' style='font-size: 10px;background: azure;padding-left: 2em;'  colspan='100%'>
                                                                <a (click)='subItem.ToggleFlag2 = !subItem.ToggleFlag2' style='cursor:pointer;'>
                                                                  <i  [ngClass]="subItem.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                                  <b>{{subItem.bridge_item}}</b></a></td>
                                                            </tr>
                                                            <ng-template [ngIf]='subItem.ToggleFlag2'>
                                                              <tr *ngFor='let rowData of getDetailListHp(subItem.bridge_item,"Sub", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                                  <td>
                                                                    <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' title='Details of Loose Item' class="btn btn-primary btn-xs" (click)="viewTripTempArrFromDetails(rowData)">
                                                                      <i class="fa fa-fw fa-info-circle"></i></a>
                                                                      <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                      <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                                  </td>
                                                                  <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+(disIndex2 + 1) +'.'+(rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Dia && rowData.Item_Code.toUpperCase() === 'WEEP HOLE' ? rowData.Dia : rowData.Dia+' mm.'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Length_per_piece ? rowData.Length_per_piece+' Mtr.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length ? rowData.Total_Length+' Mtr.' : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailListHp(subItem.bridge_item,'Sub', struc.Sl_No).length"  style='vertical-align: middle;text-align: center;' ><strong>{{ getTotalLength(rowData,true)}}</strong></td>
                                                              <!-- <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.bridge_item ,'Sub').length"  style='vertical-align: middle;text-align: center;'><strong> {{GetSubTotalQnt(subItem.bridge_item)}}</strong></td>
                                                              <td style='font-size: 0.8em;'>-</td>
                                                              <td style='font-size: 0.8em;'>-</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td> -->
                                                                <td>
                                                                  <a (click)="DeleteDetailListHp(rowData)"
                                                                    ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                                  </a>
                                                                </td>
                                                              </tr>
                                                              <!-- <tr style="background: #c1c1c161;">
                                                                <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Total : </strong></td>
                                                              </tr> -->
                                                          </ng-template>
                                                        </ng-container>
                                                      </ng-template>
                                                    </ng-container>
                                                  </ng-template>
                                                </ng-container>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                            <div class="form-horizontal" *ngIf="ObjJobData.Type_of_Work === 'Road Works (Concrete)'" style="margin-top:1em">
                                              <div class='label-t' style="font-weight: 600;text-align: center;"  *ngIf='DistinctStructure3.length'>
                                                DETAILS OF REINFORCEMENT
                                              </div>
                                              <div class="table-responsive no-padding" *ngIf='DistinctStructure3.length'>
                                                <table class='table bidopen table-bordered'>
                                                  <thead>
                                                    <tr  style="background-color:#3c8dbc;color:white;">
                                                      <th class="text-center" style="vertical-align:middle" >Action</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sl No.</th>
                                                      <th class="text-center" style="vertical-align:middle" >Side</th>
                                                      <th class="text-center" style="vertical-align:middle" >Dia of HYSD Bar (mm.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Number</th>
                                                      <th class="text-center" style="vertical-align:middle" >Length of Each Bar (Rmt.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Length (Rmt.)</th>
                                                      <th class="text-center" style="vertical-align:middle" >Sub-Total Length </th>
                                                      <th class="text-center" style="vertical-align:middle" >Co-efficient (Kg/Rmt.)  </th>
                                                      <th class="text-center" style="vertical-align:middle" >Total Qnty. (Kg.) </th>
                                                      <th class="text-center" style="vertical-align:middle" >Grand Total (Qtl.)  </th>
                                                      <th class="text-center" style="vertical-align:middle" >Remarks</th>
                                                      <th class="text-center" style="vertical-align:middle" >Delete</th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <ng-container *ngFor='let struc of DistinctStructure3'>
                                                      <tr style="background: #c1c1c1;">
                                                        <td class='text-left'  colspan='100%'>
                                                          <a (click)='struc.ToggleFlag = !struc.ToggleFlag' style='cursor:pointer;color:white;'>
                                                            <i style="color: dimgrey;" [ngClass]="struc.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{struc.structure}}</b></a></td>
                                                      </tr>
                                                    <ng-template [ngIf]='struc.ToggleFlag'>
                                                    <ng-container *ngFor='let Item of struc.Sub_Item_List;let disIndex = index;'>
                                                      <tr style="background:#e0e0e0;">
                                                        <td class='text-left' style="font-size:12px;padding-left: 1em;"  colspan='100%'>
                                                          <a (click)='Item.ToggleFlag = !Item.ToggleFlag' style='cursor:pointer;color:#222d32;'>
                                                            <i style="color: dimgrey;" [ngClass]="Item.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                            <b>{{Item.Item_Code}}</b>
                                                          </a>
                                                        </td>
                                                      </tr>
                                                      <ng-template [ngIf]='Item.ToggleFlag && !Item.Sub_Item_Flag'>
                                                          <tr *ngFor='let rowData of getDetailListbAR(Item.Item_Code ,"Main", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                              <td>
                                                                <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' class="btn btn-primary btn-xs" title='Details of Loose Item' (click)="viewTripTempArrFromDetails(rowData)">
                                                                  <i class="fa fa-fw fa-info-circle"></i></a>
                                                                  <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                  <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                              </td>
                                                              <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+ (rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Dia ? rowData.Dia + 'mm.': '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Length_per_Each_Bar ? rowData.Length_per_Each_Bar+' Rmt.' : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length_Rmt ? rowData.Total_Length_Rmt+' Rmt.' : '-'  }}</td>

                                                              <td  *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength(rowData).length"  style='vertical-align: middle;text-align: center;' ><strong>{{ GetTotalDiaWise(rowData) ? GetTotalDiaWise(rowData)+' Rmt.' : '-'}}</strong></td>
                                                              <td  *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength(rowData).length"  style='vertical-align: middle;text-align: center;font-size: 0.8em;'>{{ rowData.Co_efficient ? rowData.Co_efficient+' Kg/Rmt.' : '-'  }}</td>
                                                              <td *ngIf='rowData.firstInArr' [attr.rowspan]="getDiaWiseLength(rowData).length"  style='vertical-align: middle;text-align: center;font-size: 0.8em;'>{{  (GetTotalDiaWiseQnty(rowData) * rowData.Co_efficient).toFixed(3) +' Kg.'}}</td>
                                                              <td   *ngIf='rowIndex === 0' [attr.rowspan]="getDetailListbAR(Item.Item_Code ,'Main', struc.Sl_No).length"  style='vertical-align: middle;text-align: center;'>{{ GetTotalDia(rowData) ? GetTotalDia(rowData)+' Qtl.'  : '-' }}</td>
                                                             <!-- <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.Item_Code ,'Main').length"  style='vertical-align: middle;text-align: center;'>{{ GetItemConsumption(rowData,Item.Item_Code)  }}</td> -->
                                                             <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td>
                                                            <td>
                                                              <a (click)="DeleteDetailListBAR(rowData)"
                                                                ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                              </a>
                                                            </td>
                                                          </tr>

                                                      </ng-template>
                                                      <ng-template [ngIf]='Item.ToggleFlag && Item.Sub_Item_Flag'>
                                                        <ng-container *ngFor='let subItem of Item.Sub_Item_List'>
                                                            <tr>
                                                              <td class='text-left' style='font-size: 10px;background: azure;padding-left: 2em;'  colspan='100%'>
                                                                <a (click)='subItem.ToggleFlag2 = !subItem.ToggleFlag2' style='cursor:pointer;'>
                                                                  <i  [ngClass]="subItem.ToggleFlag ? 'fa fa-fw fa-chevron-circle-down' : 'fa fa-fw fa-chevron-circle-right'"></i>
                                                                  <b>{{subItem.bridge_item}}</b></a></td>
                                                            </tr>
                                                            <ng-template [ngIf]='subItem.ToggleFlag2'>
                                                              <tr *ngFor='let rowData of getDetailListbAR(subItem.bridge_item,"Sub", struc.Sl_No); let rowIndex = index; let odd = odd;'  [class.even]="odd">
                                                                  <td>
                                                                    <a *ngIf='rowData.calculation_type === "Addition" && rowData.UNIT=== "Cum"' title='Details of Loose Item' class="btn btn-primary btn-xs" (click)="viewTripTempArrFromDetails(rowData)">
                                                                      <i class="fa fa-fw fa-info-circle"></i></a>
                                                                      <span *ngIf='rowData.calculation_type === "Deduction" || rowData.UNIT !== "Cum"'>-</span>&nbsp;
                                                                      <button class="btn btn-primary btn-xs" (click)="ShowStructureDetais(rowData)" title='Structure Details'><i class="fa fa-fw fa-industry"></i></button>
                                                                  </td>
                                                                  <td style='font-size: 0.8em;'>{{ (disIndex+1) +'.'+ (rowIndex + 1) }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Side ? rowData.Side : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Dia ? rowData.Dia : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Number ? rowData.Number : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{rowData.Length_per_Each_Bar ? rowData.Length_per_Each_Bar : '-'}}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Total_Length_Rmt ? rowData.Total_Length_Rmt : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.Co_efficient ? rowData.Co_efficient : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.QNTY ? rowData.QNTY : '-'  }}</td>
                                                              <td style='font-size: 0.8em;'>{{ rowData.UNIT ? rowData.UNIT : '-'  }}</td>
                                                              <!-- <td  *ngIf='rowIndex === 0' [attr.rowspan]="getDetailList(Item.bridge_item ,'Sub').length"  style='vertical-align: middle;text-align: center;'><strong> {{GetSubTotalQnt(subItem.bridge_item)}}</strong></td> -->
                                                              <td style='font-size: 0.8em;'>-</td>
                                                              <td style='font-size: 0.8em;'>-</td>
                                                              <!-- <td style='font-size: 0.8em;'>{{ rowData.Bridge_Item_Remarks ? rowData.Bridge_Item_Remarks : '-'  }}</td> -->
                                                                <td>
                                                                  <a (click)="DeleteDetailListBAR(rowData)"
                                                                    ><div><i class="fa fa-fw fa-trash"> </i></div>
                                                                  </a>
                                                                </td>
                                                              </tr>
                                                              <!-- <tr style="background: #c1c1c161;">
                                                                <td  colspan='100%' class='text-right' style='font-size: 0.8em;'><strong>Total : </strong></td>
                                                              </tr> -->
                                                          </ng-template>
                                                        </ng-container>
                                                      </ng-template>
                                                    </ng-container>
                                                  </ng-template>
                                                </ng-container>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>

                                            <div class="form-group">
                                              <div class="col-sm-12">
                                                <button class="btn btn-primary pull-right custombutton" data-toggle="modal"
                                                        id="load"
                                                        type='button'
                                                        [disabled]="Spinner">
                                                        <p-progressSpinner *ngIf="Spinner" [style]="{width: '15px', height: '15px'}" strokeWidth="8"  animationDuration=".5s"></p-progressSpinner>
                                                        <span *ngIf="!Spinner" class="glyphicon glyphicon-download-alt"></span>&nbsp;Save
                                                </button>

                                              </div>
                                            </div>
                                          </div>
                                          </form>
                                        </p-tabPanel>
                                      </p-tabView>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
<p-dialog
[header]="'Details of Loose Item'"
[appendTo]="'body'"
[visible]="TripModal"
[closeOnEscape]="true"
[closable]="false"
[modal]="true"
[responsive]="true"
[style]="{ width: '58%', minWidth: '200px' }"
style="text-align: center;"
[minY]="70"
[maximizable]="true"
[baseZIndex]="10000"
>
<div class="form-horizontal">
  <div class="table-responsive no-padding">
    <table class="table bidopen table-bordered">
      <thead>
        <tr style="background-color:#3c8dbc;color:white;">
          <th
          class="text-center"
          style="vertical-align:middle"
        >
        Sl No.
        </th>
        <th
          class="text-center"
          style="vertical-align:middle"
        >
        Trip By
        </th>
        <th
        class="text-center"
        style="vertical-align:middle"
      >
      Vehicle No.
      </th>
        <th
          class="text-center"
          style="vertical-align:middle"
        >
        Number of Trips
        </th>
        <th
        class="text-center"
        style="vertical-align:middle"
      >
       Loose Qnty. per Trip
        </th>
        <th
          class="text-center"
          style="vertical-align:middle"
        >
        Unit
        </th>

        <th
        class="text-center"
        style="vertical-align:middle"
      >
      Total Loose Qnty.
        </th>
        <th
        class="text-center"
        style="vertical-align:middle"
      >
      Item Received From
        </th>

        <th
        class="text-center"
        style="vertical-align:middle"
      >
      Sub-Total Loose Qnty.(Cum.)
        </th>

        </tr>

      </thead>
      <tbody>
        <tr
          *ngFor="
            let d of TripTempArrFromDetails;
            let odd = odd;
            let index = index
          "
          [class.even]="odd"
        >
        <td>{{ index + 1 }}</td>
        <td>{{ d.Trip_By }}</td>
        <td>{{ d.Vehicle_No ? d.Vehicle_No : '-'  }}</td>
        <td>{{ d.No_Of_Trip ? d.No_Of_Trip : '-'  }}</td>
        <td>{{ d.Loose_Qty_Per_Trip ? d.Loose_Qty_Per_Trip : '-'  }}</td>
        <td>{{ d.Material_Unit ? d.Material_Unit : '-'  }}</td>
        <td>{{ d.Total_Loose_Qty ? d.Total_Loose_Qty+' '+d.Material_Unit: '-'  }}</td>
        <td>{{ d.Received_From ? d.Received_From : '-'  }}</td>
        <td  *ngIf='index === 0'  style='vertical-align: middle;text-align: center;'  [attr.rowspan]="TripTempArrFromDetails.length">{{getAllTempQtyTrip()  }}</td>

        </tr>
      </tbody>
    </table>
  </div>
</div>
<p-footer>
  <button
    type="button"
    (click)="TripModal = false"
    class="btn btn-default"
  >
    CANCEL
  </button>

</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Trip By'"
  [appendTo]="'body'"
  [visible]="TripByModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="TripByForm"
#TripByForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Trip By<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="TripByName"
        placeholder="Trip By"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: TripBySubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="TripByModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateTripBy(TripByForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Type'"
  [appendTo]="'body'"
  [visible]="TypeModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="TypeForm"
#TypeForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Type<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="TypeName"
        placeholder="Type"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: TypeSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="TypeModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateType(TypeForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create  Loose Qnty. per Trip'"
  [appendTo]="'body'"
  [visible]="LooseQntyModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="looseForm"
#looseForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    > Loose Qnty. per Trip<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="LooseQntyName"
        (change)="check3DigitTotalLooseQty(LooseQntyName)"
        CompacctDigitonly="true"
        placeholder=" Loose Qnty. per Trip"
        [ngClass]="{
          clearance: LooseQntySubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="LooseQntyModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateLooseQnty(looseForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>


<p-dialog
  [header]="'Create Structure Type'"
  [appendTo]="'body'"
  [visible]="StructureTypeModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '70%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
style="margin: 2em 1em;"
name="StructureTypeForm"
#StructureTypeForm="ngForm"
novalidate
>
  <div class="form-group" style="padding-bottom: 1em;">
    <div class="col-sm-3">
      <label class="control-label">Party Name<sup class="text-danger">*</sup></label>
      <span (click)="ToggleParty()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
      <select class="form-control"
              name="_Type"
              #_Type="ngModel"
              [(ngModel)]="ObjJobData.Party"
              (change)="ChangeParty()"
              [ngClass]="{'clearance': StructureFormSubmitted && _Type.errors?.required}" required>
              <option  [ngValue]="undefined">Select</option>
            <option *ngFor="let option of PartyList" [ngValue]="option.Party">
                {{option.Party}}
                </option>
      </select>
    </div>
    <div class="col-sm-4" >
    <label class="control-label">Structure at Chainage  (Km.)<sup class="text-danger">*</sup></label>
    <div class="input-group">
      <input type="text" class="form-control"
      name="structure_at_km"
      #structure_at_km="ngModel"
      [(ngModel)]="ObjJobData.structure_at_km"
      CompacctDigitonly="true"
      placeholder="KM"
      [ngClass]="{clearance: StructureFormSubmitted && structure_at_km?.errors?.required }" required>
      <span class="input-group-addon  custmaddon  input-group-separator">/</span>
      <input  type="text" class="form-control"
      name="structure_at_meter"
      #structure_at_meter="ngModel"
      [(ngModel)]="ObjJobData.structure_at_meter"
      CompacctDigitonly="true"
      (change)="check3DigitChanage(ObjJobData.structure_at_meter,'structure_at_meter')"
      pattern="[0-9]{3}"
      placeholder="Meter"
      [ngClass]="{clearance: (StructureFormSubmitted && structure_at_meter?.errors?.required)  || (ObjJobData.structure_at_meter && (ObjJobData.structure_at_meter.length !== 3))}" required>
    </div>
    <div class="input-group">
      <span class="input-group-addon custmaddon">Km. </span>
      <span class="input-group-addon  custmaddon">Mtr. </span>
    </div>
    </div>
    <div class="col-sm-3">
    <label class="control-label">Type<sup class="text-danger">*</sup></label>
    <span (click)="ToggleType()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
    <select class="form-control"
            name="Structured_Type"
            #Structured_Type="ngModel"
            [(ngModel)]="ObjJobData.Structured_Type"
            [ngClass]="{'clearance': StructureFormSubmitted &&  Structured_Type?.errors?.required}" >
            <option  [ngValue]="undefined">Select</option>
        <option *ngFor="let option of TypeBrideList" [ngValue]="option.Structured_Type">
            {{option.Structured_Type}}
            </option>

    </select>
    </div>
    <div class="col-sm-2">
    <label class="control-label" >No. of Span<sup class="text-danger"></sup ></label>
      <input type="text"
        class="form-control"
        name="Span "
        #Span ="ngModel"
        [(ngModel)]="ObjJobData.No_of_Span"
        CompacctDigitonly="true"
        placeholder="No. of Span"/>
    </div>

  </div>
  <div class="form-group">
    <div class="col-sm-3">
      <label class="control-label" >Breadth / Width (Mtr.)<sup class="text-danger">*</sup ></label>
        <div class="input-group">
        <input type="text"
          class="form-control"
          name="Structured_Breadth "
          #Structured_Breadth ="ngModel"
          [(ngModel)]="ObjJobData.Structured_Breadth"
          (change)="check3Digit(ObjJobData.Structured_Breadth,'Structured_Breadth')"
          CompacctDigitonly="true"
          placeholder="Breadth / Width (Mtr.) "
          [ngClass]="{clearance: StructureFormSubmitted &&  Structured_Breadth?.errors?.required}"/>
          <span class="input-group-addon">(Mtr.)</span>
        </div>
      </div>
    <div class="col-sm-4">
      <label class="control-label" >Height / Thickness (Mtr.)<sup class="text-danger">*</sup ></label>
        <div class="input-group">
        <input type="text"
          class="form-control"
          name="Structured_Height "
          #Structured_Height  ="ngModel"
          [(ngModel)]="ObjJobData.Structured_Height"
          (change)="check3Digit(ObjJobData.Structured_Height,'Structured_Height')"
          CompacctDigitonly="true"
          placeholder="Height  / Thickness (Mtr.)"
          [ngClass]="{clearance: StructureFormSubmitted && Structured_Height?.errors?.required}"/>
          <span class="input-group-addon">(Mtr.)</span>
        </div>
    </div>
    <div class="col-sm-4">
      <label class="control-label" >Total Structure Length (Mtr.)<sup class="text-danger">*</sup ></label>
        <div class="input-group">
        <input type="text"
          class="form-control"
          name="Structured_Length "
          #Structured_Length ="ngModel"
          [(ngModel)]="ObjJobData.Structured_Length"
          (change)="check3Digit(ObjJobData.Structured_Length,'Structured_Length')"
          CompacctDigitonly="true"
          placeholder="Total Structure Length  (Mtr.)"
          [ngClass]="{clearance: StructureFormSubmitted && Structured_Length?.errors?.required}"/>
          <span class="input-group-addon">(Mtr.)</span>
          </div>
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="StructureTypeModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateStructureType(StructureTypeForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Structure Type'"
  [appendTo]="'body'"
  [visible]="StructureTypeModal2"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '50%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
style="margin: 2em 1em;"
name="StructureTypeForm2"
#StructureTypeForm2="ngForm"
novalidate
>
  <div class="form-group" style="padding-bottom: 1em;">
    <div class="col-sm-6">
      <label class="control-label">Party Name<sup class="text-danger">*</sup></label>
      <span (click)="ToggleParty()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
      <select class="form-control"
              name="_Type"
              #_Type="ngModel"
              [(ngModel)]="ObjJobData.Party"
              (change)="ChangeParty()"
              [ngClass]="{'clearance': StructureFormSubmitted2 && _Type.errors?.required}" required>
              <option  [ngValue]="undefined">Select</option>
            <option *ngFor="let option of PartyList" [ngValue]="option.Party">
                {{option.Party}}
                </option>
      </select>
    </div>
    <div class="col-sm-6">
      <label class="control-label" >Structure Name<sup class="text-danger">*</sup ></label>
        <span (click)="ToggleStructureName()" class="btn-vk  pull-right createPatient"><i class="fa fa-fw  fa-plus"></i> Create</span>
        <select class="form-control"
        name="_Type"
        #Structure_Name="ngModel"
        [(ngModel)]="ObjJobData.Structure_Name"
        [ngClass]="{'clearance': StructureFormSubmitted2 && Structure_Name.errors?.required}" required>
        <option  [ngValue]="undefined">Select</option>
      <option *ngFor="let option of StructureNameList" [ngValue]="option.Structure_Name">
          {{option.Structure_Name}}
          </option>
  </select>

      </div>
    <div class="col-sm-6">
      <label class="control-label">Side<sup class="text-danger">*</sup></label>
      <select class="form-control"
              name="Side"
              #Side="ngModel"
              [(ngModel)]="ObjJobData.Structure_Side"
              [ngClass]="{'clearance': StructureFormSubmitted2 && Side.errors?.required}" required>
              <option  [ngValue]="undefined">Select</option>
          <option Value="LHS">LHS</option>
          <option Value="RHS">RHS</option>
          <option Value="Both Side">Both Side</option>
      </select>
    </div>
    <div class="col-sm-6">
      <label class="control-label"> Chainage From (Km.)<sup class="text-danger">*</sup></label>
      <div class="input-group">
        <input  type="text" class="form-control"
        name="Chanage_From_KM"
        #Chanage_From_KM="ngModel"
        [(ngModel)]="ObjJobData.Chainage_From_km"
        (change)='checkStructValid()'
        CompacctDigitonly="true"
        placeholder="From Km."
        [ngClass]="{clearance: StructureFormSubmitted2 && Chanage_From_KM?.errors?.required }" required >
        <span class="input-group-addon custmaddon  input-group-separator">/</span>
        <input  type="text" class="form-control"
        name="Chanage_From_M"
        #Chanage_From_M="ngModel"
        [(ngModel)]="ObjJobData.Chainage_From_meter"
        CompacctDigitonly="true"
        (change)="check3DigitChanage2(ObjJobData.Chainage_From_meter,'Chainage_From_meter')"
        pattern="[0-9]{3}"
        placeholder="From Mtr."
        [ngClass]="{clearance: (StructureFormSubmitted2 && Chanage_From_M?.errors?.required ) || (ObjJobData.Chanage_From_M && (ObjJobData.Chanage_From_M.length !== 3))}" required >
      </div>
      <div class="input-group">
        <span class="input-group-addon custmaddon">Km. </span>
        <span class="input-group-addon custmaddon">Mtr. </span>
      </div>
    </div>
    <div class="col-sm-6">
      <label class="control-label"> Chainage To (Km.)<sup class="text-danger">*</sup></label>
      <div class="input-group">
        <input type="text" class="form-control"
        name="Chanage_To_KM"
        #Chanage_To_KM="ngModel"
        [(ngModel)]="ObjJobData.Chainage_To_km"
        (change)='checkStructValid()'
        CompacctDigitonly="true"
        placeholder="To Km."
        [ngClass]="{clearance: StructureFormSubmitted2 && Chanage_To_KM?.errors?.required }" required>
        <span class="input-group-addon  custmaddon  input-group-separator">/</span>
        <input  type="text" class="form-control"
        name="Chanage_To_M"
        #Chanage_To_M="ngModel"
        [(ngModel)]="ObjJobData.Chainage_To_meter"
        CompacctDigitonly="true"
        (change)="check3DigitChanage2(ObjJobData.Chainage_To_meter,'Chainage_To_meter')"
        pattern="[0-9]{3}"
        placeholder="To Mtr."
        [ngClass]="{clearance: (StructureFormSubmitted2 && Chanage_To_M?.errors?.required)  || (ObjJobData.Chanage_To_M && (ObjJobData.Chanage_To_M.length !== 3))}" required>
      </div>
      <div class="input-group">
        <span class="input-group-addon custmaddon">Km. </span>
        <span class="input-group-addon  custmaddon">Mtr. </span>
      </div>
    </div>
  </div>


</form>
</div>
<p-footer>
<button
  type="button"
  (click)="StructureTypeModal2 = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateStructureType2(StructureTypeForm2.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Party'"
  [appendTo]="'body'"
  [visible]="PartyModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="PartyForm"
#PartyForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Party<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="PartyName"
        placeholder="Party"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: PartySubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="PartyModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateParty(PartyForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Received From'"
  [appendTo]="'body'"
  [visible]="ReceivedFromModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="ReceivedFromForm"
#ReceivedFromForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Received From<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="ReceivedFromName"
        placeholder="Received From"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: ReceivedFromSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="ReceivedFromModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateReceivedFrom(ReceivedFromForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
<p-dialog
  [header]="'Structure Details'"
  [appendTo]="'body'"
  [visible]="StructureDetailsModalFlag"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '30%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="50"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="TypeForm"
#TypeForm="ngForm"
novalidate
>
<div class="form-group" *ngIf="StructureDetailsObj['flag'] === 'Bridges'" >
  <div class="col-sm-12">
    <label class="control-label">Party Name<sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['Party'] ? StructureDetailsObj['Party'] : '-' }}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">Structure at Chainage  (Km.)<sup class="text-danger">*</sup></label>
    <div class="label-t">{{(StructureDetailsObj['structure_at_km'] || StructureDetailsObj['structure_at_meter']) ? StructureDetailsObj['structure_at_km'] + '/' +StructureDetailsObj['structure_at_meter'] + ' Km.': '-'}}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">Type<sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['Structured_Type']}}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">No. of Span<sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['No_of_Span']  === 1 ? StructureDetailsObj['No_of_Span']+' No.' : StructureDetailsObj['No_of_Span']+' Nos.'}}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">Breadth / Width (Mtr.)<sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['Structured_Breadth'] ? StructureDetailsObj['Structured_Breadth'] +' Mtr.' : '-'}}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">Height / Thickness  (Mtr.)<sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['Structured_Height'] ? StructureDetailsObj['Structured_Height'] +' Mtr.' : '-'}}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">Total Structure Length (Mtr.)<sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['Structured_Length'] ? StructureDetailsObj['Structured_Length'] +' Mtr.' : '-'}}</div>

  </div>
</div>
<div class="form-group" *ngIf="StructureDetailsObj['flag'] === 'Concrete'" >
  <div class="col-sm-12">
    <label class="control-label">Party Name<sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['Party'] ? StructureDetailsObj['Party'] : '-' }}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">Structure Name <sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['Structure_Name']}}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">Side<sup class="text-danger">*</sup></label>
    <div class="label-t">{{StructureDetailsObj['Structure_Side'] ? StructureDetailsObj['Structure_Side'] : '-' }}</div>
  </div>
  <div class="col-sm-12">
    <label class="control-label">Chainage From (Km.)<sup class="text-danger">*</sup></label>
    <div class="label-t">{{(StructureDetailsObj['Chainage_From_km'] || StructureDetailsObj['Chainage_From_meter']) ? StructureDetailsObj['Chainage_From_km'] + '/' +StructureDetailsObj['Chainage_From_meter'] + ' Km.': '-'}}</div>

  </div>
  <div class="col-sm-12">
    <label class="control-label">Chainage To (Km.)<sup class="text-danger">*</sup></label>
    <div class="label-t">{{(StructureDetailsObj['Chainage_To_km'] || StructureDetailsObj['Chainage_To_meter']) ? StructureDetailsObj['Chainage_To_km'] + '/' +StructureDetailsObj['Chainage_To_meter'] + ' Km.': '-'}}</div>

  </div>
</div>
</form>
</div>
<p-footer>
<button
  type="button"
  (click)="StructureDetailsModalFlag = false"
  class="btn btn-default"
>
  CANCEL
</button>

</p-footer>
</p-dialog>
<p-dialog
  [header]="'Create Structure Name'"
  [appendTo]="'body'"
  [visible]="StructureNameModal"
  [closeOnEscape]="true"
  [closable]="false"
  [modal]="true"
  [responsive]="true"
  [style]="{ width: '40%', minWidth: '200px' }"
  style="text-align: center;"
  [minY]="70"
  [maximizable]="true"
  [baseZIndex]="10000"
>
<div class="form-horizontal">
<form
name="StructureNameForm"
#StructureNameForm="ngForm"
novalidate
>
<div class="form-group">
  <div class="col-sm-12">
    <label class="control-label"
    >Structure Name<sup class="text-danger">*</sup
  ></label>
  <input
        type="text"
        class="form-control"
        name="name"
        #name="ngModel"
        [(ngModel)]="StructureName"
        placeholder="Structure Name"
        allow-pattern="([a-z ]|\.)"
        [ngClass]="{
          clearance: StructureNameSubmitted && name?.errors?.required
        }"
        required
      />
  </div>
</div>

</form>
</div>
<p-footer>
<button
  type="button"
  (click)="StructureNameModal = false"
  class="btn btn-default"
>
  CANCEL
</button>
<button
type="submit"
name="bill"
class="btn btn-primary pull-right custombutton"
(click)="CreateStructureName(StructureNameForm.form.valid)"
id="load2"
[disabled]="Spinner"
>
<p-progressSpinner
  *ngIf="Spinner"
  [style]="{ width: '15px', height: '15px' }"
  strokeWidth="8"
  animationDuration=".5s"
></p-progressSpinner>
<span
  *ngIf="!Spinner"
  class="glyphicon glyphicon-save"
></span
>&nbsp;{{ buttonname }}
</button>
</p-footer>
</p-dialog>
